!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("url-parse"),require("events")):"function"==typeof define&&define.amd?define(["url-parse","events"],e):(t=t||self,function(){var r=t["cnfapi-miniprogram"],n=t["cnfapi-miniprogram"]=e(t.urlParse,t.EventEmitter);n.noConflict=function(){return t["cnfapi-miniprogram"]=r,n}}())}(this,function(t,e){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var r=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},n=function(t){return Object(r(t))},o={}.hasOwnProperty,i=function(t,e){return o.call(t,e)},a={}.toString,u=function(t){return a.call(t).slice(8,-1)},c=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==u(t)?t.split(""):Object(t)},s=function(t){return c(r(t))},f=Math.ceil,l=Math.floor,p=function(t){return isNaN(t=+t)?0:(t>0?l:f)(t)},h=Math.min,v=function(t){return t>0?h(p(t),9007199254740991):0},d=Math.max,y=Math.min,g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function m(t,e){return t(e={exports:{}},e.exports),e.exports}var b,_=m(function(t){var e=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=e)}),w=(_.version,m(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),j=m(function(t){var e=w["__core-js_shared__"]||(w["__core-js_shared__"]={});(t.exports=function(t,r){return e[t]||(e[t]=void 0!==r?r:{})})("versions",[]).push({version:_.version,mode:"pure",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),O=0,S=Math.random(),E=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++O+S).toString(36))},T=j("keys"),P=function(t){return T[t]||(T[t]=E(t))},x=(b=!1,function(t,e,r){var n,o=s(t),i=v(o.length),a=function(t,e){return(t=p(t))<0?d(t+e,0):y(t,e)}(r,i);if(b&&e!=e){for(;i>a;)if((n=o[a++])!=n)return!0}else for(;i>a;a++)if((b||a in o)&&o[a]===e)return b||a||0;return!b&&-1}),C=P("IE_PROTO"),A=function(t,e){var r,n=s(t),o=0,a=[];for(r in n)r!=C&&i(n,r)&&a.push(r);for(;e.length>o;)i(n,r=e[o++])&&(~x(a,r)||a.push(r));return a},k="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),L=Object.keys||function(t){return A(t,k)},F=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},R=function(t,e,r){if(F(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}},M=function(t){return"object"==typeof t?null!==t:"function"==typeof t},N=function(t){if(!M(t))throw TypeError(t+" is not an object!");return t},q=function(t){try{return!!t()}catch(t){return!0}},I=!q(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),z=w.document,D=M(z)&&M(z.createElement),U=function(t){return D?z.createElement(t):{}},G=!I&&!q(function(){return 7!=Object.defineProperty(U("div"),"a",{get:function(){return 7}}).a}),H=function(t,e){if(!M(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!M(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!M(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!M(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},K=Object.defineProperty,B={f:I?Object.defineProperty:function(t,e,r){if(N(t),e=H(e,!0),N(r),G)try{return K(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},J=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},W=I?function(t,e,r){return B.f(t,e,J(1,r))}:function(t,e,r){return t[e]=r,t},V=function(t,e,r){var n,o,a,u=t&V.F,c=t&V.G,s=t&V.S,f=t&V.P,l=t&V.B,p=t&V.W,h=c?_:_[e]||(_[e]={}),v=h.prototype,d=c?w:s?w[e]:(w[e]||{}).prototype;for(n in c&&(r=e),r)(o=!u&&d&&void 0!==d[n])&&i(h,n)||(a=o?d[n]:r[n],h[n]=c&&"function"!=typeof d[n]?r[n]:l&&o?R(a,w):p&&d[n]==a?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(a):f&&"function"==typeof a?R(Function.call,a):a,f&&((h.virtual||(h.virtual={}))[n]=a,t&V.R&&v&&!v[n]&&W(v,n,a)))};V.F=1,V.G=2,V.S=4,V.P=8,V.B=16,V.W=32,V.U=64,V.R=128;var $=V,Z=function(t,e){var r=(_.Object||{})[t]||Object[t],n={};n[t]=e(r),$($.S+$.F*q(function(){r(1)}),"Object",n)};Z("keys",function(){return function(t){return L(n(t))}});var Y=_.Object.keys;$($.S+$.F*!I,"Object",{defineProperty:B.f});var Q=_.Object,X=function(t,e,r){return Q.defineProperty(t,e,r)},tt=_.JSON||(_.JSON={stringify:JSON.stringify}),et=function(t){return tt.stringify.apply(tt,arguments)};var rt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function nt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),X(t,n.key,n)}}var ot=function(t,e,r){return e&&nt(t.prototype,e),r&&nt(t,r),t},it=W,at={},ut=I?Object.defineProperties:function(t,e){N(t);for(var r,n=L(e),o=n.length,i=0;o>i;)B.f(t,r=n[i++],e[r]);return t},ct=w.document,st=ct&&ct.documentElement,ft=P("IE_PROTO"),lt=function(){},pt=function(){var t,e=U("iframe"),r=k.length;for(e.style.display="none",st.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),pt=t.F;r--;)delete pt.prototype[k[r]];return pt()},ht=Object.create||function(t,e){var r;return null!==t?(lt.prototype=N(t),r=new lt,lt.prototype=null,r[ft]=t):r=pt(),void 0===e?r:ut(r,e)},vt=m(function(t){var e=j("wks"),r=w.Symbol,n="function"==typeof r;(t.exports=function(t){return e[t]||(e[t]=n&&r[t]||(n?r:E)("Symbol."+t))}).store=e}),dt=B.f,yt=vt("toStringTag"),gt=function(t,e,r){t&&!i(t=r?t:t.prototype,yt)&&dt(t,yt,{configurable:!0,value:e})},mt={};W(mt,vt("iterator"),function(){return this});var bt,_t=function(t,e,r){t.prototype=ht(mt,{next:J(1,r)}),gt(t,e+" Iterator")},wt=P("IE_PROTO"),jt=Object.prototype,Ot=Object.getPrototypeOf||function(t){return t=n(t),i(t,wt)?t[wt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?jt:null},St=vt("iterator"),Et=!([].keys&&"next"in[].keys()),Tt=function(){return this},Pt=function(t,e,r,n,o,i,a){_t(r,e,n);var u,c,s,f=function(t){if(!Et&&t in v)return v[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},l=e+" Iterator",p="values"==o,h=!1,v=t.prototype,d=v[St]||v["@@iterator"]||o&&v[o],y=d||f(o),g=o?p?f("entries"):y:void 0,m="Array"==e&&v.entries||d;if(m&&(s=Ot(m.call(new t)))!==Object.prototype&&s.next&&gt(s,l,!0),p&&d&&"values"!==d.name&&(h=!0,y=function(){return d.call(this)}),a&&(Et||h||!v[St])&&W(v,St,y),at[e]=y,at[l]=Tt,o)if(u={values:p?y:f("values"),keys:i?y:f("keys"),entries:g},a)for(c in u)c in v||it(v,c,u[c]);else $($.P+$.F*(Et||h),e,u);return u},xt=(bt=!0,function(t,e){var n,o,i=String(r(t)),a=p(e),u=i.length;return a<0||a>=u?bt?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===u||(o=i.charCodeAt(a+1))<56320||o>57343?bt?i.charAt(a):n:bt?i.slice(a,a+2):o-56320+(n-55296<<10)+65536});Pt(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=xt(e,r),this._i+=t.length,{value:t,done:!1})});var Ct=function(t,e){return{value:e,done:!!t}};Pt(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,Ct(1)):Ct(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values");at.Arguments=at.Array;for(var At=vt("toStringTag"),kt="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),Lt=0;Lt<kt.length;Lt++){var Ft=kt[Lt],Rt=w[Ft],Mt=Rt&&Rt.prototype;Mt&&!Mt[At]&&W(Mt,At,Ft),at[Ft]=at.Array}var Nt={f:vt},qt=Nt.f("iterator"),It=m(function(t){var e=E("meta"),r=B.f,n=0,o=Object.isExtensible||function(){return!0},a=!q(function(){return o(Object.preventExtensions({}))}),u=function(t){r(t,e,{value:{i:"O"+ ++n,w:{}}})},c=t.exports={KEY:e,NEED:!1,fastKey:function(t,r){if(!M(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,e)){if(!o(t))return"F";if(!r)return"E";u(t)}return t[e].i},getWeak:function(t,r){if(!i(t,e)){if(!o(t))return!0;if(!r)return!1;u(t)}return t[e].w},onFreeze:function(t){return a&&c.NEED&&o(t)&&!i(t,e)&&u(t),t}}}),zt=(It.KEY,It.NEED,It.fastKey,It.getWeak,It.onFreeze,B.f),Dt=function(t){var e=_.Symbol||(_.Symbol={});"_"==t.charAt(0)||t in e||zt(e,t,{value:Nt.f(t)})},Ut={f:Object.getOwnPropertySymbols},Gt={f:{}.propertyIsEnumerable},Ht=Array.isArray||function(t){return"Array"==u(t)},Kt=k.concat("length","prototype"),Bt={f:Object.getOwnPropertyNames||function(t){return A(t,Kt)}},Jt=Bt.f,Wt={}.toString,Vt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],$t={f:function(t){return Vt&&"[object Window]"==Wt.call(t)?function(t){try{return Jt(t)}catch(t){return Vt.slice()}}(t):Jt(s(t))}},Zt=Object.getOwnPropertyDescriptor,Yt={f:I?Zt:function(t,e){if(t=s(t),e=H(e,!0),G)try{return Zt(t,e)}catch(t){}if(i(t,e))return J(!Gt.f.call(t,e),t[e])}},Qt=It.KEY,Xt=Yt.f,te=B.f,ee=$t.f,re=w.Symbol,ne=w.JSON,oe=ne&&ne.stringify,ie=vt("_hidden"),ae=vt("toPrimitive"),ue={}.propertyIsEnumerable,ce=j("symbol-registry"),se=j("symbols"),fe=j("op-symbols"),le=Object.prototype,pe="function"==typeof re&&!!Ut.f,he=w.QObject,ve=!he||!he.prototype||!he.prototype.findChild,de=I&&q(function(){return 7!=ht(te({},"a",{get:function(){return te(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=Xt(le,e);n&&delete le[e],te(t,e,r),n&&t!==le&&te(le,e,n)}:te,ye=function(t){var e=se[t]=ht(re.prototype);return e._k=t,e},ge=pe&&"symbol"==typeof re.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof re},me=function(t,e,r){return t===le&&me(fe,e,r),N(t),e=H(e,!0),N(r),i(se,e)?(r.enumerable?(i(t,ie)&&t[ie][e]&&(t[ie][e]=!1),r=ht(r,{enumerable:J(0,!1)})):(i(t,ie)||te(t,ie,J(1,{})),t[ie][e]=!0),de(t,e,r)):te(t,e,r)},be=function(t,e){N(t);for(var r,n=function(t){var e=L(t),r=Ut.f;if(r)for(var n,o=r(t),i=Gt.f,a=0;o.length>a;)i.call(t,n=o[a++])&&e.push(n);return e}(e=s(e)),o=0,i=n.length;i>o;)me(t,r=n[o++],e[r]);return t},_e=function(t){var e=ue.call(this,t=H(t,!0));return!(this===le&&i(se,t)&&!i(fe,t))&&(!(e||!i(this,t)||!i(se,t)||i(this,ie)&&this[ie][t])||e)},we=function(t,e){if(t=s(t),e=H(e,!0),t!==le||!i(se,e)||i(fe,e)){var r=Xt(t,e);return!r||!i(se,e)||i(t,ie)&&t[ie][e]||(r.enumerable=!0),r}},je=function(t){for(var e,r=ee(s(t)),n=[],o=0;r.length>o;)i(se,e=r[o++])||e==ie||e==Qt||n.push(e);return n},Oe=function(t){for(var e,r=t===le,n=ee(r?fe:s(t)),o=[],a=0;n.length>a;)!i(se,e=n[a++])||r&&!i(le,e)||o.push(se[e]);return o};pe||(it((re=function(){if(this instanceof re)throw TypeError("Symbol is not a constructor!");var t=E(arguments.length>0?arguments[0]:void 0),e=function(r){this===le&&e.call(fe,r),i(this,ie)&&i(this[ie],t)&&(this[ie][t]=!1),de(this,t,J(1,r))};return I&&ve&&de(le,t,{configurable:!0,set:e}),ye(t)}).prototype,"toString",function(){return this._k}),Yt.f=we,B.f=me,Bt.f=$t.f=je,Gt.f=_e,Ut.f=Oe,Nt.f=function(t){return ye(vt(t))}),$($.G+$.W+$.F*!pe,{Symbol:re});for(var Se="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Ee=0;Se.length>Ee;)vt(Se[Ee++]);for(var Te=L(vt.store),Pe=0;Te.length>Pe;)Dt(Te[Pe++]);$($.S+$.F*!pe,"Symbol",{for:function(t){return i(ce,t+="")?ce[t]:ce[t]=re(t)},keyFor:function(t){if(!ge(t))throw TypeError(t+" is not a symbol!");for(var e in ce)if(ce[e]===t)return e},useSetter:function(){ve=!0},useSimple:function(){ve=!1}}),$($.S+$.F*!pe,"Object",{create:function(t,e){return void 0===e?ht(t):be(ht(t),e)},defineProperty:me,defineProperties:be,getOwnPropertyDescriptor:we,getOwnPropertyNames:je,getOwnPropertySymbols:Oe});var xe=q(function(){Ut.f(1)});$($.S+$.F*xe,"Object",{getOwnPropertySymbols:function(t){return Ut.f(n(t))}}),ne&&$($.S+$.F*(!pe||q(function(){var t=re();return"[null]"!=oe([t])||"{}"!=oe({a:t})||"{}"!=oe(Object(t))})),"JSON",{stringify:function(t){for(var e,r,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=e=n[1],(M(e)||void 0!==t)&&!ge(t))return Ht(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ge(e))return e}),n[1]=e,oe.apply(ne,n)}}),re.prototype[ae]||W(re.prototype,ae,re.prototype.valueOf),gt(re,"Symbol"),gt(Math,"Math",!0),gt(w.JSON,"JSON",!0),Dt("asyncIterator"),Dt("observable");var Ce=_.Symbol,Ae=m(function(t){function e(t){return(e="function"==typeof Ce&&"symbol"==typeof qt?function(t){return typeof t}:function(t){return t&&"function"==typeof Ce&&t.constructor===Ce&&t!==Ce.prototype?"symbol":typeof t})(t)}function r(n){return"function"==typeof Ce&&"symbol"===e(qt)?t.exports=r=function(t){return e(t)}:t.exports=r=function(t){return t&&"function"==typeof Ce&&t.constructor===Ce&&t!==Ce.prototype?"symbol":e(t)},r(n)}t.exports=r});var ke=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};var Le=function(t,e){return!e||"object"!==Ae(e)&&"function"!=typeof e?ke(t):e};Z("getPrototypeOf",function(){return function(t){return Ot(n(t))}});var Fe=_.Object.getPrototypeOf,Re=function(t,e){if(N(t),!M(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Me={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=R(Function.call,Yt.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return Re(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:Re};$($.S,"Object",{setPrototypeOf:Me.set});var Ne=_.Object.setPrototypeOf,qe=m(function(t){function e(r){return t.exports=e=Ne?Fe:function(t){return t.__proto__||Fe(t)},e(r)}t.exports=e});$($.S,"Object",{create:ht});var Ie=_.Object,ze=function(t,e){return Ie.create(t,e)},De=m(function(t){function e(r,n){return t.exports=e=Ne||function(t,e){return t.__proto__=e,t},e(r,n)}t.exports=e});var Ue=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=ze(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&De(t,e)};var Ge=function(){this.__data__=[],this.size=0};var He=function(t,e){return t===e||t!=t&&e!=e};var Ke=function(t,e){for(var r=t.length;r--;)if(He(t[r][0],e))return r;return-1},Be=Array.prototype.splice;var Je=function(t){var e=this.__data__,r=Ke(e,t);return!(r<0||(r==e.length-1?e.pop():Be.call(e,r,1),--this.size,0))};var We=function(t){var e=this.__data__,r=Ke(e,t);return r<0?void 0:e[r][1]};var Ve=function(t){return Ke(this.__data__,t)>-1};var $e=function(t,e){var r=this.__data__,n=Ke(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function Ze(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ze.prototype.clear=Ge,Ze.prototype.delete=Je,Ze.prototype.get=We,Ze.prototype.has=Ve,Ze.prototype.set=$e;var Ye=Ze;var Qe=function(){this.__data__=new Ye,this.size=0};var Xe=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var tr=function(t){return this.__data__.get(t)};var er=function(t){return this.__data__.has(t)},rr="object"==typeof g&&g&&g.Object===Object&&g,nr="object"==typeof self&&self&&self.Object===Object&&self,or=rr||nr||Function("return this")(),ir=or.Symbol,ar=Object.prototype,ur=ar.hasOwnProperty,cr=ar.toString,sr=ir?ir.toStringTag:void 0;var fr=function(t){var e=ur.call(t,sr),r=t[sr];try{t[sr]=void 0;var n=!0}catch(t){}var o=cr.call(t);return n&&(e?t[sr]=r:delete t[sr]),o},lr=Object.prototype.toString;var pr=function(t){return lr.call(t)},hr="[object Null]",vr="[object Undefined]",dr=ir?ir.toStringTag:void 0;var yr=function(t){return null==t?void 0===t?vr:hr:dr&&dr in Object(t)?fr(t):pr(t)};var gr=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},mr="[object AsyncFunction]",br="[object Function]",_r="[object GeneratorFunction]",wr="[object Proxy]";var jr,Or=function(t){if(!gr(t))return!1;var e=yr(t);return e==br||e==_r||e==mr||e==wr},Sr=or["__core-js_shared__"],Er=(jr=/[^.]+$/.exec(Sr&&Sr.keys&&Sr.keys.IE_PROTO||""))?"Symbol(src)_1."+jr:"";var Tr=function(t){return!!Er&&Er in t},Pr=Function.prototype.toString;var xr=function(t){if(null!=t){try{return Pr.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Cr=/^\[object .+?Constructor\]$/,Ar=Function.prototype,kr=Object.prototype,Lr=Ar.toString,Fr=kr.hasOwnProperty,Rr=RegExp("^"+Lr.call(Fr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Mr=function(t){return!(!gr(t)||Tr(t))&&(Or(t)?Rr:Cr).test(xr(t))};var Nr=function(t,e){return null==t?void 0:t[e]};var qr=function(t,e){var r=Nr(t,e);return Mr(r)?r:void 0},Ir=qr(or,"Map"),zr=qr(Object,"create");var Dr=function(){this.__data__=zr?zr(null):{},this.size=0};var Ur=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Gr="__lodash_hash_undefined__",Hr=Object.prototype.hasOwnProperty;var Kr=function(t){var e=this.__data__;if(zr){var r=e[t];return r===Gr?void 0:r}return Hr.call(e,t)?e[t]:void 0},Br=Object.prototype.hasOwnProperty;var Jr=function(t){var e=this.__data__;return zr?void 0!==e[t]:Br.call(e,t)},Wr="__lodash_hash_undefined__";var Vr=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=zr&&void 0===e?Wr:e,this};function $r(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$r.prototype.clear=Dr,$r.prototype.delete=Ur,$r.prototype.get=Kr,$r.prototype.has=Jr,$r.prototype.set=Vr;var Zr=$r;var Yr=function(){this.size=0,this.__data__={hash:new Zr,map:new(Ir||Ye),string:new Zr}};var Qr=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Xr=function(t,e){var r=t.__data__;return Qr(e)?r["string"==typeof e?"string":"hash"]:r.map};var tn=function(t){var e=Xr(this,t).delete(t);return this.size-=e?1:0,e};var en=function(t){return Xr(this,t).get(t)};var rn=function(t){return Xr(this,t).has(t)};var nn=function(t,e){var r=Xr(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function on(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}on.prototype.clear=Yr,on.prototype.delete=tn,on.prototype.get=en,on.prototype.has=rn,on.prototype.set=nn;var an=on,un=200;var cn=function(t,e){var r=this.__data__;if(r instanceof Ye){var n=r.__data__;if(!Ir||n.length<un-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new an(n)}return r.set(t,e),this.size=r.size,this};function sn(t){var e=this.__data__=new Ye(t);this.size=e.size}sn.prototype.clear=Qe,sn.prototype.delete=Xe,sn.prototype.get=tr,sn.prototype.has=er,sn.prototype.set=cn;var fn=sn,ln=function(){try{var t=qr(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var pn=function(t,e,r){"__proto__"==e&&ln?ln(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r};var hn=function(t,e,r){(void 0===r||He(t[e],r))&&(void 0!==r||e in t)||pn(t,e,r)};var vn=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),u=a.length;u--;){var c=a[t?u:++o];if(!1===r(i[c],c,i))break}return e}}(),dn=m(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?or.Buffer:void 0,i=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=i?i(r):new t.constructor(r);return t.copy(n),n}}),yn=or.Uint8Array;var gn=function(t){var e=new t.constructor(t.byteLength);return new yn(e).set(new yn(t)),e};var mn=function(t,e){var r=e?gn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)};var bn=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e},_n=Object.create,wn=function(){function t(){}return function(e){if(!gr(e))return{};if(_n)return _n(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var jn=function(t,e){return function(r){return t(e(r))}},On=jn(Object.getPrototypeOf,Object),Sn=Object.prototype;var En=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Sn)};var Tn=function(t){return"function"!=typeof t.constructor||En(t)?{}:wn(On(t))};var Pn=function(t){return null!=t&&"object"==typeof t},xn="[object Arguments]";var Cn=function(t){return Pn(t)&&yr(t)==xn},An=Object.prototype,kn=An.hasOwnProperty,Ln=An.propertyIsEnumerable,Fn=Cn(function(){return arguments}())?Cn:function(t){return Pn(t)&&kn.call(t,"callee")&&!Ln.call(t,"callee")},Rn=Array.isArray,Mn=9007199254740991;var Nn=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Mn};var qn=function(t){return null!=t&&Nn(t.length)&&!Or(t)};var In=function(t){return Pn(t)&&qn(t)};var zn=function(){return!1},Dn=m(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?or.Buffer:void 0,i=(o?o.isBuffer:void 0)||zn;t.exports=i}),Un="[object Object]",Gn=Function.prototype,Hn=Object.prototype,Kn=Gn.toString,Bn=Hn.hasOwnProperty,Jn=Kn.call(Object);var Wn=function(t){if(!Pn(t)||yr(t)!=Un)return!1;var e=On(t);if(null===e)return!0;var r=Bn.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Kn.call(r)==Jn},Vn={};Vn["[object Float32Array]"]=Vn["[object Float64Array]"]=Vn["[object Int8Array]"]=Vn["[object Int16Array]"]=Vn["[object Int32Array]"]=Vn["[object Uint8Array]"]=Vn["[object Uint8ClampedArray]"]=Vn["[object Uint16Array]"]=Vn["[object Uint32Array]"]=!0,Vn["[object Arguments]"]=Vn["[object Array]"]=Vn["[object ArrayBuffer]"]=Vn["[object Boolean]"]=Vn["[object DataView]"]=Vn["[object Date]"]=Vn["[object Error]"]=Vn["[object Function]"]=Vn["[object Map]"]=Vn["[object Number]"]=Vn["[object Object]"]=Vn["[object RegExp]"]=Vn["[object Set]"]=Vn["[object String]"]=Vn["[object WeakMap]"]=!1;var $n=function(t){return Pn(t)&&Nn(t.length)&&!!Vn[yr(t)]};var Zn=function(t){return function(e){return t(e)}},Yn=m(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&rr.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i}),Qn=Yn&&Yn.isTypedArray,Xn=Qn?Zn(Qn):$n;var to=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},eo=Object.prototype.hasOwnProperty;var ro=function(t,e,r){var n=t[e];eo.call(t,e)&&He(n,r)&&(void 0!==r||e in t)||pn(t,e,r)};var no=function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var u=e[i],c=n?n(r[u],t[u],u,r,t):void 0;void 0===c&&(c=t[u]),o?pn(r,u,c):ro(r,u,c)}return r};var oo=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n},io=9007199254740991,ao=/^(?:0|[1-9]\d*)$/;var uo=function(t,e){var r=typeof t;return!!(e=null==e?io:e)&&("number"==r||"symbol"!=r&&ao.test(t))&&t>-1&&t%1==0&&t<e},co=Object.prototype.hasOwnProperty;var so=function(t,e){var r=Rn(t),n=!r&&Fn(t),o=!r&&!n&&Dn(t),i=!r&&!n&&!o&&Xn(t),a=r||n||o||i,u=a?oo(t.length,String):[],c=u.length;for(var s in t)!e&&!co.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||uo(s,c))||u.push(s);return u};var fo=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},lo=Object.prototype.hasOwnProperty;var po=function(t){if(!gr(t))return fo(t);var e=En(t),r=[];for(var n in t)("constructor"!=n||!e&&lo.call(t,n))&&r.push(n);return r};var ho=function(t){return qn(t)?so(t,!0):po(t)};var vo=function(t){return no(t,ho(t))};var yo=function(t,e,r,n,o,i,a){var u=to(t,r),c=to(e,r),s=a.get(c);if(s)hn(t,r,s);else{var f=i?i(u,c,r+"",t,e,a):void 0,l=void 0===f;if(l){var p=Rn(c),h=!p&&Dn(c),v=!p&&!h&&Xn(c);f=c,p||h||v?Rn(u)?f=u:In(u)?f=bn(u):h?(l=!1,f=dn(c,!0)):v?(l=!1,f=mn(c,!0)):f=[]:Wn(c)||Fn(c)?(f=u,Fn(u)?f=vo(u):gr(u)&&!Or(u)||(f=Tn(c))):l=!1}l&&(a.set(c,f),o(f,c,n,i,a),a.delete(c)),hn(t,r,f)}};var go=function t(e,r,n,o,i){e!==r&&vn(r,function(a,u){if(i||(i=new fn),gr(a))yo(e,r,u,n,t,o,i);else{var c=o?o(to(e,u),a,u+"",e,r,i):void 0;void 0===c&&(c=a),hn(e,u,c)}},ho)};var mo=function(t){return t};var bo=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},_o=Math.max;var wo=function(t,e,r){return e=_o(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=_o(n.length-e,0),a=Array(i);++o<i;)a[o]=n[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=n[o];return u[e]=r(a),bo(t,this,u)}};var jo=function(t){return function(){return t}},Oo=ln?function(t,e){return ln(t,"toString",{configurable:!0,enumerable:!1,value:jo(e),writable:!0})}:mo,So=800,Eo=16,To=Date.now;var Po=function(t){var e=0,r=0;return function(){var n=To(),o=Eo-(n-r);if(r=n,o>0){if(++e>=So)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Oo);var xo=function(t,e){return Po(wo(t,e,mo),t+"")};var Co=function(t,e,r){if(!gr(r))return!1;var n=typeof e;return!!("number"==n?qn(r)&&uo(e,r.length):"string"==n&&e in r)&&He(r[e],t)};var Ao=function(t){return xo(function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&Co(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++n<o;){var u=r[n];u&&t(e,u,n,i)}return e})},ko=Ao(function(t,e,r){go(t,e,r)}),Lo="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff",Fo="["+Lo+"]",Ro=RegExp("^"+Fo+Fo+"*"),Mo=RegExp(Fo+Fo+"*$"),No=function(t,e,r){var n={},o=q(function(){return!!Lo[t]()||"âÂ"!="âÂ"[t]()}),i=n[t]=o?e(qo):Lo[t];r&&(n[r]=i),$($.P+$.F*o,"String",n)},qo=No.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(Ro,"")),2&e&&(t=t.replace(Mo,"")),t},Io=No,zo=w.parseInt,Do=Io.trim,Uo=/^[-+]?0[xX]/,Go=8!==zo(Lo+"08")||22!==zo(Lo+"0x16")?function(t,e){var r=Do(String(t),3);return zo(r,e>>>0||(Uo.test(r)?16:10))}:zo;$($.G+$.F*(parseInt!=Go),{parseInt:Go});var Ho,Ko,Bo,Jo=_.parseInt,Wo=vt("toStringTag"),Vo="Arguments"==u(function(){return arguments}()),$o=function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Wo))?r:Vo?u(e):"Object"==(n=u(e))&&"function"==typeof e.callee?"Arguments":n},Zo=function(t,e,r,n){try{return n?e(N(r)[0],r[1]):e(r)}catch(e){var o=t.return;throw void 0!==o&&N(o.call(t)),e}},Yo=vt("iterator"),Qo=Array.prototype,Xo=vt("iterator"),ti=_.getIteratorMethod=function(t){if(null!=t)return t[Xo]||t["@@iterator"]||at[$o(t)]},ei=m(function(t){var e={},r={},n=t.exports=function(t,n,o,i,a){var u,c,s,f,l,p=a?function(){return t}:ti(t),h=R(o,i,n?2:1),d=0;if("function"!=typeof p)throw TypeError(t+" is not iterable!");if(void 0===(l=p)||at.Array!==l&&Qo[Yo]!==l){for(s=p.call(t);!(c=s.next()).done;)if((f=Zo(s,h,c.value,n))===e||f===r)return f}else for(u=v(t.length);u>d;d++)if((f=n?h(N(c=t[d])[0],c[1]):h(t[d]))===e||f===r)return f};n.BREAK=e,n.RETURN=r}),ri=vt("species"),ni=function(t,e){var r,n=N(t).constructor;return void 0===n||null==(r=N(n)[ri])?e:F(r)},oi=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)},ii=w.process,ai=w.setImmediate,ui=w.clearImmediate,ci=w.MessageChannel,si=w.Dispatch,fi=0,li={},pi=function(){var t=+this;if(li.hasOwnProperty(t)){var e=li[t];delete li[t],e()}},hi=function(t){pi.call(t.data)};ai&&ui||(ai=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return li[++fi]=function(){oi("function"==typeof t?t:Function(t),e)},Ho(fi),fi},ui=function(t){delete li[t]},"process"==u(ii)?Ho=function(t){ii.nextTick(R(pi,t,1))}:si&&si.now?Ho=function(t){si.now(R(pi,t,1))}:ci?(Bo=(Ko=new ci).port2,Ko.port1.onmessage=hi,Ho=R(Bo.postMessage,Bo,1)):w.addEventListener&&"function"==typeof postMessage&&!w.importScripts?(Ho=function(t){w.postMessage(t+"","*")},w.addEventListener("message",hi,!1)):Ho="onreadystatechange"in U("script")?function(t){st.appendChild(U("script")).onreadystatechange=function(){st.removeChild(this),pi.call(t)}}:function(t){setTimeout(R(pi,t,1),0)});var vi={set:ai,clear:ui},di=vi.set,yi=w.MutationObserver||w.WebKitMutationObserver,gi=w.process,mi=w.Promise,bi="process"==u(gi);function _i(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n}),this.resolve=F(e),this.reject=F(r)}var wi={f:function(t){return new _i(t)}},ji=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},Oi=w.navigator,Si=Oi&&Oi.userAgent||"",Ei=function(t,e){if(N(t),M(e)&&e.constructor===t)return e;var r=wi.f(t);return(0,r.resolve)(e),r.promise},Ti=vt("species"),Pi=vt("iterator"),xi=!1;try{var Ci=[7][Pi]();Ci.return=function(){xi=!0},Array.from(Ci,function(){throw 2})}catch(t){}var Ai,ki,Li,Fi,Ri,Mi,Ni=vi.set,qi=function(){var t,e,r,n=function(){var n,o;for(bi&&(n=gi.domain)&&n.exit();t;){o=t.fn,t=t.next;try{o()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(bi)r=function(){gi.nextTick(n)};else if(!yi||w.navigator&&w.navigator.standalone)if(mi&&mi.resolve){var o=mi.resolve(void 0);r=function(){o.then(n)}}else r=function(){di.call(w,n)};else{var i=!0,a=document.createTextNode("");new yi(n).observe(a,{characterData:!0}),r=function(){a.data=i=!i}}return function(n){var o={fn:n,next:void 0};e&&(e.next=o),t||(t=o,r()),e=o}}(),Ii=w.TypeError,zi=w.process,Di=zi&&zi.versions,Ui=Di&&Di.v8||"",Gi=w.Promise,Hi="process"==$o(zi),Ki=function(){},Bi=ki=wi.f,Ji=!!function(){try{var t=Gi.resolve(1),e=(t.constructor={})[vt("species")]=function(t){t(Ki,Ki)};return(Hi||"function"==typeof PromiseRejectionEvent)&&t.then(Ki)instanceof e&&0!==Ui.indexOf("6.6")&&-1===Si.indexOf("Chrome/66")}catch(t){}}(),Wi=function(t){var e;return!(!M(t)||"function"!=typeof(e=t.then))&&e},Vi=function(t,e){if(!t._n){t._n=!0;var r=t._c;qi(function(){for(var n=t._v,o=1==t._s,i=0,a=function(e){var r,i,a,u=o?e.ok:e.fail,c=e.resolve,s=e.reject,f=e.domain;try{u?(o||(2==t._h&&Yi(t),t._h=1),!0===u?r=n:(f&&f.enter(),r=u(n),f&&(f.exit(),a=!0)),r===e.promise?s(Ii("Promise-chain cycle")):(i=Wi(r))?i.call(r,c,s):c(r)):s(n)}catch(t){f&&!a&&f.exit(),s(t)}};r.length>i;)a(r[i++]);t._c=[],t._n=!1,e&&!t._h&&$i(t)})}},$i=function(t){Ni.call(w,function(){var e,r,n,o=t._v,i=Zi(t);if(i&&(e=ji(function(){Hi?zi.emit("unhandledRejection",o,t):(r=w.onunhandledrejection)?r({promise:t,reason:o}):(n=w.console)&&n.error&&n.error("Unhandled promise rejection",o)}),t._h=Hi||Zi(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},Zi=function(t){return 1!==t._h&&0===(t._a||t._c).length},Yi=function(t){Ni.call(w,function(){var e;Hi?zi.emit("rejectionHandled",t):(e=w.onrejectionhandled)&&e({promise:t,reason:t._v})})},Qi=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Vi(e,!0))},Xi=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw Ii("Promise can't be resolved itself");(e=Wi(t))?qi(function(){var n={_w:r,_d:!1};try{e.call(t,R(Xi,n,1),R(Qi,n,1))}catch(t){Qi.call(n,t)}}):(r._v=t,r._s=1,Vi(r,!1))}catch(t){Qi.call({_w:r,_d:!1},t)}}};Ji||(Gi=function(t){!function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!")}(this,Gi,"Promise","_h"),F(t),Ai.call(this);try{t(R(Xi,this,1),R(Qi,this,1))}catch(t){Qi.call(this,t)}},(Ai=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,r){for(var n in e)r&&t[n]?t[n]=e[n]:W(t,n,e[n]);return t}(Gi.prototype,{then:function(t,e){var r=Bi(ni(this,Gi));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Hi?zi.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&Vi(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Li=function(){var t=new Ai;this.promise=t,this.resolve=R(Xi,t,1),this.reject=R(Qi,t,1)},wi.f=Bi=function(t){return t===Gi||t===Fi?new Li(t):ki(t)}),$($.G+$.W+$.F*!Ji,{Promise:Gi}),gt(Gi,"Promise"),Mi="function"==typeof _[Ri="Promise"]?_[Ri]:w[Ri],I&&Mi&&!Mi[Ti]&&B.f(Mi,Ti,{configurable:!0,get:function(){return this}}),Fi=_.Promise,$($.S+$.F*!Ji,"Promise",{reject:function(t){var e=Bi(this);return(0,e.reject)(t),e.promise}}),$($.S+!0*$.F,"Promise",{resolve:function(t){return Ei(this===Fi?Gi:this,t)}}),$($.S+$.F*!(Ji&&function(t,e){if(!e&&!xi)return!1;var r=!1;try{var n=[7],o=n[Pi]();o.next=function(){return{done:r=!0}},n[Pi]=function(){return o},t(n)}catch(t){}return r}(function(t){Gi.all(t).catch(Ki)})),"Promise",{all:function(t){var e=this,r=Bi(e),n=r.resolve,o=r.reject,i=ji(function(){var r=[],i=0,a=1;ei(t,!1,function(t){var u=i++,c=!1;r.push(void 0),a++,e.resolve(t).then(function(t){c||(c=!0,r[u]=t,--a||n(r))},o)}),--a||n(r)});return i.e&&o(i.v),r.promise},race:function(t){var e=this,r=Bi(e),n=r.reject,o=ji(function(){ei(t,!1,function(t){e.resolve(t).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}}),$($.P+$.R,"Promise",{finally:function(t){var e=ni(this,_.Promise||w.Promise),r="function"==typeof t;return this.then(r?function(r){return Ei(e,t()).then(function(){return r})}:t,r?function(r){return Ei(e,t()).then(function(){throw r})}:t)}}),$($.S,"Promise",{try:function(t){var e=wi.f(this),r=ji(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}});var ta=_.Promise;$($.S,"Array",{isArray:Ht});var ea=_.Array.isArray,ra=jn(Object.keys,Object),na=Object.prototype.hasOwnProperty;var oa=function(t){if(!En(t))return ra(t);var e=[];for(var r in Object(t))na.call(t,r)&&"constructor"!=r&&e.push(r);return e};var ia=function(t){return qn(t)?so(t):oa(t)},aa=Object.prototype.hasOwnProperty,ua=Ao(function(t,e){if(En(e)||qn(e))no(e,ia(e),t);else for(var r in e)aa.call(e,r)&&ro(t,r,e[r])});function ca(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length?arguments[2]:void 0;if(!r)throw new Error("arguments[2](schema) is not defined!");if(!e||ea(e)&&!e.length)return e;var n={object:function(){!function(t,e,r){var n=Y(e),o=r.properties,i=Y(o);0>=n.length||(-1<i.indexOf("any")?n.forEach(function(r){var i=r,a=e[i],u=sa(fa(a));if("object"===u||"array"===u){if(!o.any.properties&&!o.any.items)throw new Error("object array has not sub");return t[r]={},"array"===u&&(t[r]=[]),ca(t[r],a,o.any)}-1<n.indexOf(i)&&(t[r]=a)}):i.forEach(function(r){var i=o[r].serverName,a=e[i],u=sa(fa(a));if(null===a)return t[r]=a,!0;if(o[r].type!==u)throw new Error("server data [".concat(i,"] type not equal jsonSchema [").concat(r,"] type"));if("object"===u||"array"===u){if(!o[r].properties&&!o[r].items)throw new Error("object array has not sub");return t[r]={},"array"===u&&(t[r]=[]),ca(t[r],a,o[r])}-1<n.indexOf(i)&&(t[r]=a)}))}(t,e,r)},array:function(){!function(t,e,r){var n=r.items,o=n.type;e.forEach(function(e,r){var i=sa(fa(e));if(t[r]||("array"===i&&(t[r]=[]),"object"===i&&(t[r]={})),null===e)return t[r]=e,!0;if("none"===i)throw new Error("api key type error");if(o!==i)throw new Error("api key type not match schema key type");return"object"===i||"array"===i?ca(t[r],e,n):void("other"===o&&(t[r]=e))})}(t,e,r)}}[sa(fa(e))];"function"==typeof n&&n()}function sa(t){var e={object:"object",array:"array",other:"other"}[t];return e||(e=function(t){return!!(-1<["number","string","boolean"].indexOf(t))&&"other"}(t)),e||"none"}function fa(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}var la=It.onFreeze;Z("seal",function(t){return function(e){return t&&M(e)?t(la(e)):e}});var pa=_.Object.seal,ha=Yt.f;Z("getOwnPropertyDescriptor",function(){return function(t,e){return ha(s(t),e)}});var va=_.Object,da=function(t,e){return va.getOwnPropertyDescriptor(t,e)};Z("getOwnPropertyNames",function(){return $t.f});var ya,ga=_.Object,ma=function(t){return ga.getOwnPropertyNames(t)},ba=null;function _a(t){return!!t&&("object"==Ae(t)||"function"==typeof t)}(ya=function(t,e){if(!_a(t)||!_a(e))throw new TypeError("Cannot create proxy with a non-object as target or handler");var r=function(){};ba=function(){r=function(t){throw new TypeError("Cannot perform '".concat(t,"' on a proxy that has been revoked"))}};var n=e;for(var o in e={get:null,set:null,apply:null,construct:null},n){if(!(o in e))throw new TypeError("nProxy polyfill does not support trap '".concat(o,"'"));e[o]=n[o]}"function"==typeof n&&(e.apply=n.apply.bind(n));var i=this,a=!1,u="function"==typeof t;(e.apply||e.construct||u)&&(i=function(){var n=this&&this.constructor===i,o=Array.prototype.slice.call(arguments);if(r(n?"construct":"apply"),n&&e.construct)return e.construct.call(this,t,o);if(!n&&e.apply)return e.apply(t,this,o);if(u){if(n){o.unshift(t);var a=t.bind.apply(t,o);return new a}return t.apply(this,o)}throw new TypeError(n?"not a constructor":"not a function")},a=!0);var c=e.get?function(t){return r("get"),e.get(this,t,i)}:function(t){return r("get"),this[t]},s=e.set?function(t,n){r("set");e.set(this,t,n,i)}:function(t,e){r("set"),this[t]=e},f=ma(t),l={};f.forEach(function(e){if(!(a&&e in i)){var r={enumerable:!!da(t,e).enumerable,get:c.bind(t,e),set:s.bind(t,e)};X(i,e,r),l[e]=!0}});var p=!0;if(Ne?Ne(i,Fe(t)):i.__proto__?i.__proto__=t.__proto__:p=!1,e.get||!p)for(var h in t)l[h]||X(i,h,{get:c.bind(t,h)});return pa(t),pa(i),i}).revocable=ya.revocable=function(t,e){return{proxy:new ya(t,e),revoke:ba}};var wa="undefined"==typeof Proxy?ya:Proxy,ja={url:"",method:"get",params:{},data:{},headers:{},timeout:1e3},Oa={aliapp:function(t){return new ta(function(e,r){var n=t.data,o=ea(n)?[]:{},i=t.headers,a="";Y(i).forEach(function(t){"content-type"===t.toLowerCase()&&(a=i[t])}),"application/json"===a.toLowerCase()?o=et(n):Y(n).forEach(function(t){o[t]="object"===n[t].toString().slice(1,7).toLowerCase()?et(n[t]):n[t]});var u={url:"".concat(t.url).concat(t.qs?"?".concat(t.qs):""),data:o,headers:t.headers,method:t.method,timeout:t.timeout,success:function(t){e({data:t.data,headers:t.headers,status:t.status,statusText:""})},fail:function(t){r(t)}};"GET"===t.method.toUpperCase()&&delete u.data,Sa(t,my.request(u))})},weapp:function(t){return new ta(function(e,r){var n=t.data,o=ea(n)?[]:{},i=t.headers,a="";Y(i).forEach(function(t){"content-type"===t.toLowerCase()&&(a=i[t])}),"application/x-www-form-urlencoded"===a.toLowerCase()?Y(n).forEach(function(t){o[t]="object"===n[t].toString().slice(1,7).toLowerCase()?et(n[t]):n[t]}):o=n;var u={url:"".concat(t.url).concat(t.qs?"?".concat(t.qs):""),data:o,header:t.headers,method:t.method,success:function(t){200!=t.statusCode&&(t.data={retcode:5e3,info:{errCode:t.statusCode,msg:t.data,tip:t.data},data:{}}),e({data:t.data,headers:t.header,status:t.statusCode,statusText:""})},fail:function(t){r(t)},complete:function(){}};"GET"===t.method.toUpperCase()&&delete u.data,Sa(t,wx.request(u))})},swan:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return new ta(function(e,r){var n=t.data,o=ea(n)?[]:{},i=t.headers,a="";Y(i).forEach(function(t){"content-type"===t.toLowerCase()&&(a=i[t])}),"application/x-www-form-urlencoded"===a.toLowerCase()?Y(n).forEach(function(t){o[t]="object"===n[t].toString().slice(1,7).toLowerCase()?et(n[t]):n[t]}):o=n;var u={url:"".concat(t.url).concat(t.qs?"?".concat(t.qs):""),data:o,header:t.headers,method:t.method,success:function(t){200!=t.statusCode&&(t.data={retcode:5e3,info:{errCode:t.statusCode,msg:t.data,tip:t.data},data:{}}),e({data:t.data,headers:t.header,status:t.statusCode,statusText:""})},fail:function(t){r(t)},complete:function(){}};"GET"===t.method.toUpperCase()&&delete u.data,Sa(t,swan.request(u))})})};function Sa(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0;t&&t.getRequestTask&&"function"==typeof t.getRequestTask&&t.getRequestTask(e)}var Ea={OK:"FE-200",PARAM:"FE-5000",OTHER:"FE-5001",CATCH:"FE-5002"};function Ta(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=e,i=ea(e);return i||(o=Y(e)),n=this||n,o.forEach(function(o){var a,u,c=i?o.name:o,s=i?o:e[o];if(s.name=c,!c)throw new Error("Function name is required!");if(n[c])throw new Error("Duplicate statements in _this: ".concat(c));n[c]=(a=s,function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new wa(t,{get:function(t,r){return e[r]},set:function(){throw new Error("The property is readonly!")},apply:function(t,r,n){return new ta(function(o,i){function a(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(){};return function(t,e){return!(isNaN(t)||isNaN(e)||(t=Jo(t),e=Jo(e),0>=t||0>=e))}(r,e)&&l<=e?setTimeout(function(){n(t>e)},r):void n(!0)}var u=e,c=u.interval,s=e,f=s.retryTimes,l=0;!function n(u){++l,t(u||{},e,function(t,s){var p=t.data;if(e=ko(e,{headers:s.headers,timeout:s.timeout,fnName:s.fnName}),s.err)return r.emit("cnfapi:res:reject",{retcode:s.err.retcode,msg:s.err.msg,headers:e.headers}),i({retcode:s.err.retcode,msg:s.err.msg,headers:e.headers});if(t.retcode!==Ea.OK)return r.emit("cnfapi:res:reject",{retcode:t.retcode,msg:t.errMsg,headers:e.headers}),i({retcode:t.retcode,msg:t.errMsg,headers:e.headers});var h=e.url;s.restful&&(h=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=/\{(.+?)\}/g,n=null;do{(n=r.exec(t))&&1<n.length&&(t=t.replace(n[0],e[n[1]]||""))}while(n);return t}(h,s.restful)),r.emit("cnfapi:req:before",{url:h,timeout:e.timeout,env:e.env,method:e.method,headers:e.headers,data:p.postData,qs:p.qs,params:p.getData,getRequestTask:s.getRequestTask}),function(t){if("function"!=typeof Oa[t.env])throw new Error("http env error!");return Oa[t.env](ua(ja,t))}({url:h,timeout:e.timeout,env:e.env,method:e.method,headers:e.headers,data:p.postData,qs:p.qs,params:p.getData,getRequestTask:s.getRequestTask}).then(function(t){var a=t.data;e.status=t.status,e.statusText=t.statusText;var c="function"==typeof s.openResInterceptor&&s.openResInterceptor.call(e,a);if(c&&l<f+(f?1:2))return s.resInterceptor.call(e,a,function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(t)return r.emit("cnfapi:res:reject",t),i(t);var o=ko(u.data,e.data),a=ko(s.headers,e.headers);u.data=o,s.headers=a,n(u)});if("function"==typeof s.resSuccessCallback&&s.resSuccessCallback(a,function(n,a){var u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:200;return n?(r.emit("cnfapi:res:reject",n||ka({retcode:500,headers:t.headers})),void i(n||ka({retcode:500,headers:t.headers}))):(l=0,Fa(e.model)||(a=La(e.model,a)),o(Aa({data:a,headers:t.headers,retcode:u})))}),/^2\d/.test(+a.retcode)){l=0;var p=a.data;return Fa(e.model)||(p=La(e.model,p)),r.emit("cnfapi:res:resolve",Aa({data:p,headers:t.headers,retcode:a.retcode})),o(Aa({data:p,headers:t.headers,retcode:a.retcode}))}r.emit("cnfapi:res:reject",ka({retcode:a.retcode,msg:a.msg,headers:t.headers})),i(ka({retcode:a.retcode,msg:a.msg,headers:t.headers}))},function(t){var e=et(t);return e.toLowerCase().includes("abort")?(r.emit("cnfapi:res:reject",ka({retcode:Ea.OTHER,msg:"error"===Ra(t)?t.toString():et(t)})),i(ka({retcode:Ea.OTHER,msg:"error"===Ra(t)?t.toString():et(t)}))):void a(l,f,c,function(e){return e?(l=0,r.emit("cnfapi:res:reject",ka({retcode:Ea.OTHER,msg:"error"===Ra(t)?t.toString():et(t)})),i(ka({retcode:Ea.OTHER,msg:"error"===Ra(t)?t.toString():et(t)}))):void n(u)})}).catch(function(t){l=0,r.emit("cnfapi:res:reject",ka({retcode:Ea.CATCH,msg:"error"===Ra(t)?t.toString():et(t)})),i(ka({retcode:Ea.CATCH,msg:"error"===Ra(t)?t.toString():et(t)}))})})}(n[0]||{})})}})}(u=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};return t.fnName=c,t.openResInterceptor=t.openResInterceptor||r.openResInterceptor,t.resInterceptor=t.resInterceptor||r.resInterceptor,t.resSuccessCallback=t.resSuccessCallback||r.resSuccessCallback,n._before=n._before||r._before,e.url=t.url||e.url,"function"==typeof n._before?n._before(t,e,function(r){xa((t=ko(t,r)).data||{},e.params,function(e){o(e,t)})}):void xa(t.data||{},e.params,function(e){o(e,t)})},JSON.parse(et(function(e,r,n){var o,i={url:"",baseURL:r.baseURL,env:r.env,headers:r.headers,timeout:r.timeout,method:e.method||r.method,model:e.resSchema||{},interval:e.interval||0,retryTimes:e.retryTimes||0,pathname:Ca(e.apiName),params:Pa(e.params),fnName:e.name,signKey:e.signKey,status:"",statusText:""},a=t(e.apiName);return i.url=i.baseURL+i.pathname,o=e.apiName,(/^((http:\/\/)|(https:\/\/)|(:\/\/))/.test(o)||/^(localhost)/.test(o))&&(i=ua(i,{baseURL:a.origin,pathname:Ca(a.pathname),url:a.href})),Y(i).forEach(function(t){if(n[t])throw new Error("Duplicate statements in proxy Function: ".concat(t));n[t]=i[t]}),ko({},e,i)}(a,r,u))))),s=null}),n}function Pa(t){function e(t,e){return{required:!!t.isNeed,method:e.toUpperCase()}}var r={},n=t.get||t.GET||[],o=t.post||t.POST||[];return n.forEach(function(t){r[t.param]=e(t,"GET")}),o.forEach(function(t){r[t.param]=e(t,"POST")}),r}function xa(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};setTimeout(function(){var n={retcode:"FE-5000",errMsg:"",data:{}},o=[],i={},a={};Y(e).every(function(r){var u=e[r],c=u.method,s=u.required,f=t[r],l=function(t,e,r){return r&&null==t?{result:!1,errMsg:"param: ".concat(e,". Is Required!")}:{result:!0,errMsg:""}}(f,r,s);return l.result?!(void 0!==f&&null!=f&&("GET"===c.toUpperCase()?(i[r]=f,o.push("".concat(r,"=").concat(encodeURIComponent(f)))):a[r]=f,0)):(n.errMsg=l.errMsg,!1)})?(n.retcode=Ea.OK,n.data={qs:o.join("&"),postData:a,getData:i}):n.retcode=Ea.PARAM,r(n)},0)}function Ca(t){return/^\//.test(t)?t:"/".concat(t)}function Aa(t){return{data:t.data,headers:t.headers,retcode:t.retcode}}function ka(t){return{retcode:t.retcode||"FE-5001",msg:t.msg||"unknown",headers:t.headers||{}}}function La(t,e){var r=ea(e)?[]:{};return ca(r,e,t),r}function Fa(t){return!t||!Y(t).length}function Ra(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}return function(t){function r(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};rt(this,r);var o=(t=Le(this,qe(r).call(this))).getType(n);if("object"!==t.getType(e)||"object"!==o&&"array"!==o)throw new Error("constructor params require Object type");var i=JSON.parse(et(n));return t.merge=ko,t.outConf=e,X(ke(t),"apiList",{get:function(){return i}}),t.init(),t}return Ue(r,e),ot(r,[{key:"init",value:function(){this.mergeConf(this.initConf,this.outConf),Ta.apply(this,[JSON.parse(et(this.apiList)),this.defaultOpts])}},{key:"mergeConf",value:function(t,e){var r=this,n={};if("object"!==this.getType(t)||"object"!==this.getType(e))throw new Error("mergeConf argument Not Object");return Y(t).forEach(function(o){var i=t[o],a=null,u=t[o].vaildFn,c="function"==typeof t[o].default&&t[o].default.apply(r)||"";if(i.required&&!c&&!e[o])throw new Error("".concat(i.errMsg));if(n[o]=e[o]||c,"function"==typeof u&&(a=u(n[o])),null!=a&&!a.result)throw new Error("".concat(a.errMsg))}),n}},{key:"openResInterceptor",value:function(){return this.conf.openResInterceptor.apply(this,arguments)}},{key:"_before",value:function(t,e){e(t)}},{key:"getType",value:function(t){return function(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}(t)}},{key:"conf",get:function(){return this.mergeConf(this.initConf,this.outConf)}},{key:"initConf",get:function(){return{baseURL:{required:!0,errMsg:"baseURL is required",vaildFn:function(t){return{result:/^((http:\/\/)|(https:\/\/)|(:\/\/))([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}(\/)?/.test(t)||/^((http:\/\/)|(https:\/\/)|(:\/\/))(localhost)/.test(t),errMsg:"invalid baseURL"}}},timeout:{required:!0,errMsg:"timeout is required or not 0",default:function(){return 3e3},vaildFn:function(t){return{result:!isNaN(t)&&0!=t,errMsg:"invalid timeout"}}},env:{required:!0,errMsg:"invalid env",default:function(){return"browser"},vaildFn:function(t){var e={result:-1<["browser","aliapp","weapp","swan"].indexOf(t),errMsg:'invalid env, env must in ["browser", "aliapp" ,"weapp", "swan"]'};return("aliapp"===t||"weapp"===t)&&(window=void 0,document=void 0),"browser"===t&&(e={result:window&&document&&"undefined"!=typeof window&&"undefined"!=typeof document,errMsg:'invalid env, env not in browser, env must in ["browser", "aliapp" ,"weapp", "swan"]'}),e}},openResInterceptor:{required:!1,default:function(){return function(){return!1}}},resInterceptor:{required:!1,default:function(){return function(){}}},resSuccessCallback:{required:!1,default:function(){return function(t,e){e(!1,t)}}},resFormat:{description:"æ¥å£è¿åæ ¼å¼",required:!1,default:function(){return{type:"object",properties:{retcode:{type:"string"},msg:{type:"string"},data:{type:"object"}}}}}}}},{key:"defaultOpts",get:function(){return this.merge({method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}},this.outConf,this.conf)}}]),r}()});
//# sourceMappingURL=cnfapi-miniprogram.common.js.map
