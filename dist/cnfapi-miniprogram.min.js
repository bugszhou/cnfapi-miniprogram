!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("domain"),require("events")):"function"==typeof define&&define.amd?define(["domain","events"],e):(t=t||self,function(){var r=t["cnfapi-miniprogram"],n=t["cnfapi-miniprogram"]=e(t.domain$1,t.EventEmitter);n.noConflict=function(){return t["cnfapi-miniprogram"]=r,n}}())}(this,function(t,e){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var r=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},n=function(t){return Object(r(t))},o={}.hasOwnProperty,i=function(t,e){return o.call(t,e)},a={}.toString,u=function(t){return a.call(t).slice(8,-1)},c=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==u(t)?t.split(""):Object(t)},s=function(t){return c(r(t))},f=Math.ceil,l=Math.floor,p=function(t){return isNaN(t=+t)?0:(t>0?l:f)(t)},h=Math.min,d=Math.max,v=Math.min,y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function g(t,e){return t(e={exports:{}},e.exports),e.exports}var m,b=g(function(t){var e=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=e)}),_=(b.version,g(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),w=g(function(t){var e=_["__core-js_shared__"]||(_["__core-js_shared__"]={});(t.exports=function(t,r){return e[t]||(e[t]=void 0!==r?r:{})})("versions",[]).push({version:b.version,mode:"pure",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),j=0,O=Math.random(),S=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++j+O).toString(36))},E=w("keys"),T=function(t){return E[t]||(E[t]=S(t))},P=(m=!1,function(t,e,r){var n,o,i=s(t),a=(n=i.length)>0?h(p(n),9007199254740991):0,u=function(t,e){return(t=p(t))<0?d(t+e,0):v(t,e)}(r,a);if(m&&e!=e){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((m||u in i)&&i[u]===e)return m||u||0;return!m&&-1}),x=T("IE_PROTO"),C=function(t,e){var r,n=s(t),o=0,a=[];for(r in n)r!=x&&i(n,r)&&a.push(r);for(;e.length>o;)i(n,r=e[o++])&&(~P(a,r)||a.push(r));return a},k="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),N=Object.keys||function(t){return C(t,k)},A=function(t,e,r){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}},F=function(t){return"object"==typeof t?null!==t:"function"==typeof t},L=function(t){if(!F(t))throw TypeError(t+" is not an object!");return t},R=function(t){try{return!!t()}catch(t){return!0}},q=!R(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),M=_.document,I=F(M)&&F(M.createElement),z=function(t){return I?M.createElement(t):{}},D=!q&&!R(function(){return 7!=Object.defineProperty(z("div"),"a",{get:function(){return 7}}).a}),U=function(t,e){if(!F(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!F(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!F(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!F(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},G=Object.defineProperty,H={f:q?Object.defineProperty:function(t,e,r){if(L(t),e=U(e,!0),L(r),D)try{return G(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},K=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},V=q?function(t,e,r){return H.f(t,e,K(1,r))}:function(t,e,r){return t[e]=r,t},$=function(t,e,r){var n,o,a,u=t&$.F,c=t&$.G,s=t&$.S,f=t&$.P,l=t&$.B,p=t&$.W,h=c?b:b[e]||(b[e]={}),d=h.prototype,v=c?_:s?_[e]:(_[e]||{}).prototype;for(n in c&&(r=e),r)(o=!u&&v&&void 0!==v[n])&&i(h,n)||(a=o?v[n]:r[n],h[n]=c&&"function"!=typeof v[n]?r[n]:l&&o?A(a,_):p&&v[n]==a?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(a):f&&"function"==typeof a?A(Function.call,a):a,f&&((h.virtual||(h.virtual={}))[n]=a,t&$.R&&d&&!d[n]&&V(d,n,a)))};$.F=1,$.G=2,$.S=4,$.P=8,$.B=16,$.W=32,$.U=64,$.R=128;var J=$,B=function(t,e){var r=(b.Object||{})[t]||Object[t],n={};n[t]=e(r),J(J.S+J.F*R(function(){r(1)}),"Object",n)};B("keys",function(){return function(t){return N(n(t))}});var W=b.Object.keys;J(J.S+J.F*!q,"Object",{defineProperty:H.f});var Z=b.Object,Y=function(t,e,r){return Z.defineProperty(t,e,r)},Q=b.JSON||(b.JSON={stringify:JSON.stringify}),X=function(t){return Q.stringify.apply(Q,arguments)};var tt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function et(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Y(t,n.key,n)}}var rt=function(t,e,r){return e&&et(t.prototype,e),r&&et(t,r),t},nt=V,ot=q?Object.defineProperties:function(t,e){L(t);for(var r,n=N(e),o=n.length,i=0;o>i;)H.f(t,r=n[i++],e[r]);return t},it=_.document,at=it&&it.documentElement,ut=T("IE_PROTO"),ct=function(){},st=function(){var t,e=z("iframe"),r=k.length;for(e.style.display="none",at.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),st=t.F;r--;)delete st.prototype[k[r]];return st()},ft=Object.create||function(t,e){var r;return null!==t?(ct.prototype=L(t),r=new ct,ct.prototype=null,r[ut]=t):r=st(),void 0===e?r:ot(r,e)},lt=g(function(t){var e=w("wks"),r=_.Symbol,n="function"==typeof r;(t.exports=function(t){return e[t]||(e[t]=n&&r[t]||(n?r:S)("Symbol."+t))}).store=e}),pt=H.f,ht=lt("toStringTag"),dt=function(t,e,r){t&&!i(t=r?t:t.prototype,ht)&&pt(t,ht,{configurable:!0,value:e})},vt={};V(vt,lt("iterator"),function(){return this});var yt,gt=function(t,e,r){t.prototype=ft(vt,{next:K(1,r)}),dt(t,e+" Iterator")},mt=T("IE_PROTO"),bt=Object.prototype,_t=Object.getPrototypeOf||function(t){return t=n(t),i(t,mt)?t[mt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?bt:null},wt=lt("iterator"),jt=!([].keys&&"next"in[].keys()),Ot=function(t,e,r,n,o,i,a){gt(r,e,n);var u,c,s,f=function(t){if(!jt&&t in d)return d[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},l=e+" Iterator",p="values"==o,h=!1,d=t.prototype,v=d[wt]||d["@@iterator"]||o&&d[o],y=v||f(o),g=o?p?f("entries"):y:void 0,m="Array"==e&&d.entries||v;if(m&&(s=_t(m.call(new t)))!==Object.prototype&&s.next&&dt(s,l,!0),p&&v&&"values"!==v.name&&(h=!0,y=function(){return v.call(this)}),a&&(jt||h||!d[wt])&&V(d,wt,y),o)if(u={values:p?y:f("values"),keys:i?y:f("keys"),entries:g},a)for(c in u)c in d||nt(d,c,u[c]);else J(J.P+J.F*(jt||h),e,u);return u},St=(yt=!0,function(t,e){var n,o,i=String(r(t)),a=p(e),u=i.length;return a<0||a>=u?yt?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===u||(o=i.charCodeAt(a+1))<56320||o>57343?yt?i.charAt(a):n:yt?i.slice(a,a+2):o-56320+(n-55296<<10)+65536});Ot(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=St(e,r),this._i+=t.length,{value:t,done:!1})});for(var Et=function(t,e){return{value:e,done:!!t}},Tt=(Ot(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,Et(1)):Et(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),lt("toStringTag")),Pt="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),xt=0;xt<Pt.length;xt++){var Ct=Pt[xt],kt=_[Ct],Nt=kt&&kt.prototype;Nt&&!Nt[Tt]&&V(Nt,Tt,Ct)}var At={f:lt},Ft=At.f("iterator"),Lt=g(function(t){var e=S("meta"),r=H.f,n=0,o=Object.isExtensible||function(){return!0},a=!R(function(){return o(Object.preventExtensions({}))}),u=function(t){r(t,e,{value:{i:"O"+ ++n,w:{}}})},c=t.exports={KEY:e,NEED:!1,fastKey:function(t,r){if(!F(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,e)){if(!o(t))return"F";if(!r)return"E";u(t)}return t[e].i},getWeak:function(t,r){if(!i(t,e)){if(!o(t))return!0;if(!r)return!1;u(t)}return t[e].w},onFreeze:function(t){return a&&c.NEED&&o(t)&&!i(t,e)&&u(t),t}}}),Rt=(Lt.KEY,Lt.NEED,Lt.fastKey,Lt.getWeak,Lt.onFreeze,H.f),qt=function(t){var e=b.Symbol||(b.Symbol={});"_"==t.charAt(0)||t in e||Rt(e,t,{value:At.f(t)})},Mt={f:Object.getOwnPropertySymbols},It={f:{}.propertyIsEnumerable},zt=Array.isArray||function(t){return"Array"==u(t)},Dt=k.concat("length","prototype"),Ut={f:Object.getOwnPropertyNames||function(t){return C(t,Dt)}},Gt=Ut.f,Ht={}.toString,Kt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Vt={f:function(t){return Kt&&"[object Window]"==Ht.call(t)?function(t){try{return Gt(t)}catch(t){return Kt.slice()}}(t):Gt(s(t))}},$t=Object.getOwnPropertyDescriptor,Jt={f:q?$t:function(t,e){if(t=s(t),e=U(e,!0),D)try{return $t(t,e)}catch(t){}if(i(t,e))return K(!It.f.call(t,e),t[e])}},Bt=Lt.KEY,Wt=Jt.f,Zt=H.f,Yt=Vt.f,Qt=_.Symbol,Xt=_.JSON,te=Xt&&Xt.stringify,ee=lt("_hidden"),re=lt("toPrimitive"),ne={}.propertyIsEnumerable,oe=w("symbol-registry"),ie=w("symbols"),ae=w("op-symbols"),ue=Object.prototype,ce="function"==typeof Qt&&!!Mt.f,se=_.QObject,fe=!se||!se.prototype||!se.prototype.findChild,le=q&&R(function(){return 7!=ft(Zt({},"a",{get:function(){return Zt(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=Wt(ue,e);n&&delete ue[e],Zt(t,e,r),n&&t!==ue&&Zt(ue,e,n)}:Zt,pe=function(t){var e=ie[t]=ft(Qt.prototype);return e._k=t,e},he=ce&&"symbol"==typeof Qt.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Qt},de=function(t,e,r){return t===ue&&de(ae,e,r),L(t),e=U(e,!0),L(r),i(ie,e)?(r.enumerable?(i(t,ee)&&t[ee][e]&&(t[ee][e]=!1),r=ft(r,{enumerable:K(0,!1)})):(i(t,ee)||Zt(t,ee,K(1,{})),t[ee][e]=!0),le(t,e,r)):Zt(t,e,r)},ve=function(t,e){L(t);for(var r,n=function(t){var e=N(t),r=Mt.f;if(r)for(var n,o=r(t),i=It.f,a=0;o.length>a;)i.call(t,n=o[a++])&&e.push(n);return e}(e=s(e)),o=0,i=n.length;i>o;)de(t,r=n[o++],e[r]);return t},ye=function(t){var e=ne.call(this,t=U(t,!0));return!(this===ue&&i(ie,t)&&!i(ae,t))&&(!(e||!i(this,t)||!i(ie,t)||i(this,ee)&&this[ee][t])||e)},ge=function(t,e){if(t=s(t),e=U(e,!0),t!==ue||!i(ie,e)||i(ae,e)){var r=Wt(t,e);return!r||!i(ie,e)||i(t,ee)&&t[ee][e]||(r.enumerable=!0),r}},me=function(t){for(var e,r=Yt(s(t)),n=[],o=0;r.length>o;)i(ie,e=r[o++])||e==ee||e==Bt||n.push(e);return n},be=function(t){for(var e,r=t===ue,n=Yt(r?ae:s(t)),o=[],a=0;n.length>a;)!i(ie,e=n[a++])||r&&!i(ue,e)||o.push(ie[e]);return o};ce||(nt((Qt=function(){if(this instanceof Qt)throw TypeError("Symbol is not a constructor!");var t=S(arguments.length>0?arguments[0]:void 0),e=function(r){this===ue&&e.call(ae,r),i(this,ee)&&i(this[ee],t)&&(this[ee][t]=!1),le(this,t,K(1,r))};return q&&fe&&le(ue,t,{configurable:!0,set:e}),pe(t)}).prototype,"toString",function(){return this._k}),Jt.f=ge,H.f=de,Ut.f=Vt.f=me,It.f=ye,Mt.f=be,At.f=function(t){return pe(lt(t))}),J(J.G+J.W+J.F*!ce,{Symbol:Qt});for(var _e="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),we=0;_e.length>we;)lt(_e[we++]);for(var je=N(lt.store),Oe=0;je.length>Oe;)qt(je[Oe++]);J(J.S+J.F*!ce,"Symbol",{for:function(t){return i(oe,t+="")?oe[t]:oe[t]=Qt(t)},keyFor:function(t){if(!he(t))throw TypeError(t+" is not a symbol!");for(var e in oe)if(oe[e]===t)return e},useSetter:function(){fe=!0},useSimple:function(){fe=!1}}),J(J.S+J.F*!ce,"Object",{create:function(t,e){return void 0===e?ft(t):ve(ft(t),e)},defineProperty:de,defineProperties:ve,getOwnPropertyDescriptor:ge,getOwnPropertyNames:me,getOwnPropertySymbols:be});var Se=R(function(){Mt.f(1)});J(J.S+J.F*Se,"Object",{getOwnPropertySymbols:function(t){return Mt.f(n(t))}}),Xt&&J(J.S+J.F*(!ce||R(function(){var t=Qt();return"[null]"!=te([t])||"{}"!=te({a:t})||"{}"!=te(Object(t))})),"JSON",{stringify:function(t){for(var e,r,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=e=n[1],(F(e)||void 0!==t)&&!he(t))return zt(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!he(e))return e}),n[1]=e,te.apply(Xt,n)}}),Qt.prototype[re]||V(Qt.prototype,re,Qt.prototype.valueOf),dt(Qt,"Symbol"),dt(Math,"Math",!0),dt(_.JSON,"JSON",!0),qt("asyncIterator"),qt("observable");var Ee=b.Symbol,Te=g(function(t){function e(t){return(e="function"==typeof Ee&&"symbol"==typeof Ft?function(t){return typeof t}:function(t){return t&&"function"==typeof Ee&&t.constructor===Ee&&t!==Ee.prototype?"symbol":typeof t})(t)}function r(n){return"function"==typeof Ee&&"symbol"===e(Ft)?t.exports=r=function(t){return e(t)}:t.exports=r=function(t){return t&&"function"==typeof Ee&&t.constructor===Ee&&t!==Ee.prototype?"symbol":e(t)},r(n)}t.exports=r});var Pe=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};var xe=function(t,e){return!e||"object"!==Te(e)&&"function"!=typeof e?Pe(t):e};B("getPrototypeOf",function(){return function(t){return _t(n(t))}});var Ce=b.Object.getPrototypeOf,ke=function(t,e){if(L(t),!F(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Ne={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=A(Function.call,Jt.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return ke(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:ke};J(J.S,"Object",{setPrototypeOf:Ne.set});var Ae=b.Object.setPrototypeOf,Fe=g(function(t){function e(r){return t.exports=e=Ae?Ce:function(t){return t.__proto__||Ce(t)},e(r)}t.exports=e});J(J.S,"Object",{create:ft});var Le=b.Object,Re=function(t,e){return Le.create(t,e)},qe=g(function(t){function e(r,n){return t.exports=e=Ae||function(t,e){return t.__proto__=e,t},e(r,n)}t.exports=e});var Me=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Re(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qe(t,e)};var Ie=function(){this.__data__=[],this.size=0};var ze=function(t,e){return t===e||t!=t&&e!=e};var De=function(t,e){for(var r=t.length;r--;)if(ze(t[r][0],e))return r;return-1},Ue=Array.prototype.splice;var Ge=function(t){var e=this.__data__,r=De(e,t);return!(r<0||(r==e.length-1?e.pop():Ue.call(e,r,1),--this.size,0))};var He=function(t){var e=this.__data__,r=De(e,t);return r<0?void 0:e[r][1]};var Ke=function(t){return De(this.__data__,t)>-1};var Ve=function(t,e){var r=this.__data__,n=De(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function $e(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$e.prototype.clear=Ie,$e.prototype.delete=Ge,$e.prototype.get=He,$e.prototype.has=Ke,$e.prototype.set=Ve;var Je=$e;var Be=function(){this.__data__=new Je,this.size=0};var We=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var Ze=function(t){return this.__data__.get(t)};var Ye=function(t){return this.__data__.has(t)},Qe="object"==typeof y&&y&&y.Object===Object&&y,Xe="object"==typeof self&&self&&self.Object===Object&&self,tr=Qe||Xe||Function("return this")(),er=tr.Symbol,rr=Object.prototype,nr=rr.hasOwnProperty,or=rr.toString,ir=er?er.toStringTag:void 0;var ar=function(t){var e=nr.call(t,ir),r=t[ir];try{t[ir]=void 0;var n=!0}catch(t){}var o=or.call(t);return n&&(e?t[ir]=r:delete t[ir]),o},ur=Object.prototype.toString;var cr=function(t){return ur.call(t)},sr="[object Null]",fr="[object Undefined]",lr=er?er.toStringTag:void 0;var pr=function(t){return null==t?void 0===t?fr:sr:lr&&lr in Object(t)?ar(t):cr(t)};var hr=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},dr="[object AsyncFunction]",vr="[object Function]",yr="[object GeneratorFunction]",gr="[object Proxy]";var mr,br=function(t){if(!hr(t))return!1;var e=pr(t);return e==vr||e==yr||e==dr||e==gr},_r=tr["__core-js_shared__"],wr=(mr=/[^.]+$/.exec(_r&&_r.keys&&_r.keys.IE_PROTO||""))?"Symbol(src)_1."+mr:"";var jr=function(t){return!!wr&&wr in t},Or=Function.prototype.toString;var Sr=function(t){if(null!=t){try{return Or.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Er=/^\[object .+?Constructor\]$/,Tr=Function.prototype,Pr=Object.prototype,xr=Tr.toString,Cr=Pr.hasOwnProperty,kr=RegExp("^"+xr.call(Cr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Nr=function(t){return!(!hr(t)||jr(t))&&(br(t)?kr:Er).test(Sr(t))};var Ar=function(t,e){return null==t?void 0:t[e]};var Fr=function(t,e){var r=Ar(t,e);return Nr(r)?r:void 0},Lr=Fr(tr,"Map"),Rr=Fr(Object,"create");var qr=function(){this.__data__=Rr?Rr(null):{},this.size=0};var Mr=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ir="__lodash_hash_undefined__",zr=Object.prototype.hasOwnProperty;var Dr=function(t){var e=this.__data__;if(Rr){var r=e[t];return r===Ir?void 0:r}return zr.call(e,t)?e[t]:void 0},Ur=Object.prototype.hasOwnProperty;var Gr=function(t){var e=this.__data__;return Rr?void 0!==e[t]:Ur.call(e,t)},Hr="__lodash_hash_undefined__";var Kr=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Rr&&void 0===e?Hr:e,this};function Vr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Vr.prototype.clear=qr,Vr.prototype.delete=Mr,Vr.prototype.get=Dr,Vr.prototype.has=Gr,Vr.prototype.set=Kr;var $r=Vr;var Jr=function(){this.size=0,this.__data__={hash:new $r,map:new(Lr||Je),string:new $r}};var Br=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Wr=function(t,e){var r=t.__data__;return Br(e)?r["string"==typeof e?"string":"hash"]:r.map};var Zr=function(t){var e=Wr(this,t).delete(t);return this.size-=e?1:0,e};var Yr=function(t){return Wr(this,t).get(t)};var Qr=function(t){return Wr(this,t).has(t)};var Xr=function(t,e){var r=Wr(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function tn(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}tn.prototype.clear=Jr,tn.prototype.delete=Zr,tn.prototype.get=Yr,tn.prototype.has=Qr,tn.prototype.set=Xr;var en=tn,rn=200;var nn=function(t,e){var r=this.__data__;if(r instanceof Je){var n=r.__data__;if(!Lr||n.length<rn-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new en(n)}return r.set(t,e),this.size=r.size,this};function on(t){var e=this.__data__=new Je(t);this.size=e.size}on.prototype.clear=Be,on.prototype.delete=We,on.prototype.get=Ze,on.prototype.has=Ye,on.prototype.set=nn;var an=on,un=function(){try{var t=Fr(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var cn=function(t,e,r){"__proto__"==e&&un?un(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r};var sn=function(t,e,r){(void 0===r||ze(t[e],r))&&(void 0!==r||e in t)||cn(t,e,r)};var fn=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),u=a.length;u--;){var c=a[t?u:++o];if(!1===r(i[c],c,i))break}return e}}(),ln=g(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?tr.Buffer:void 0,i=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=i?i(r):new t.constructor(r);return t.copy(n),n}}),pn=tr.Uint8Array;var hn=function(t){var e=new t.constructor(t.byteLength);return new pn(e).set(new pn(t)),e};var dn=function(t,e){var r=e?hn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)};var vn=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e},yn=Object.create,gn=function(){function t(){}return function(e){if(!hr(e))return{};if(yn)return yn(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var mn=function(t,e){return function(r){return t(e(r))}},bn=mn(Object.getPrototypeOf,Object),_n=Object.prototype;var wn=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||_n)};var jn=function(t){return"function"!=typeof t.constructor||wn(t)?{}:gn(bn(t))};var On=function(t){return null!=t&&"object"==typeof t},Sn="[object Arguments]";var En=function(t){return On(t)&&pr(t)==Sn},Tn=Object.prototype,Pn=Tn.hasOwnProperty,xn=Tn.propertyIsEnumerable,Cn=En(function(){return arguments}())?En:function(t){return On(t)&&Pn.call(t,"callee")&&!xn.call(t,"callee")},kn=Array.isArray,Nn=9007199254740991;var An=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Nn};var Fn=function(t){return null!=t&&An(t.length)&&!br(t)};var Ln=function(t){return On(t)&&Fn(t)};var Rn=function(){return!1},qn=g(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?tr.Buffer:void 0,i=(o?o.isBuffer:void 0)||Rn;t.exports=i}),Mn="[object Object]",In=Function.prototype,zn=Object.prototype,Dn=In.toString,Un=zn.hasOwnProperty,Gn=Dn.call(Object);var Hn=function(t){if(!On(t)||pr(t)!=Mn)return!1;var e=bn(t);if(null===e)return!0;var r=Un.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Dn.call(r)==Gn},Kn={};Kn["[object Float32Array]"]=Kn["[object Float64Array]"]=Kn["[object Int8Array]"]=Kn["[object Int16Array]"]=Kn["[object Int32Array]"]=Kn["[object Uint8Array]"]=Kn["[object Uint8ClampedArray]"]=Kn["[object Uint16Array]"]=Kn["[object Uint32Array]"]=!0,Kn["[object Arguments]"]=Kn["[object Array]"]=Kn["[object ArrayBuffer]"]=Kn["[object Boolean]"]=Kn["[object DataView]"]=Kn["[object Date]"]=Kn["[object Error]"]=Kn["[object Function]"]=Kn["[object Map]"]=Kn["[object Number]"]=Kn["[object Object]"]=Kn["[object RegExp]"]=Kn["[object Set]"]=Kn["[object String]"]=Kn["[object WeakMap]"]=!1;var Vn=function(t){return On(t)&&An(t.length)&&!!Kn[pr(t)]};var $n=function(t){return function(e){return t(e)}},Jn=g(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&Qe.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i}),Bn=Jn&&Jn.isTypedArray,Wn=Bn?$n(Bn):Vn;var Zn=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},Yn=Object.prototype.hasOwnProperty;var Qn=function(t,e,r){var n=t[e];Yn.call(t,e)&&ze(n,r)&&(void 0!==r||e in t)||cn(t,e,r)};var Xn=function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var u=e[i],c=n?n(r[u],t[u],u,r,t):void 0;void 0===c&&(c=t[u]),o?cn(r,u,c):Qn(r,u,c)}return r};var to=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n},eo=9007199254740991,ro=/^(?:0|[1-9]\d*)$/;var no=function(t,e){var r=typeof t;return!!(e=null==e?eo:e)&&("number"==r||"symbol"!=r&&ro.test(t))&&t>-1&&t%1==0&&t<e},oo=Object.prototype.hasOwnProperty;var io=function(t,e){var r=kn(t),n=!r&&Cn(t),o=!r&&!n&&qn(t),i=!r&&!n&&!o&&Wn(t),a=r||n||o||i,u=a?to(t.length,String):[],c=u.length;for(var s in t)!e&&!oo.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||no(s,c))||u.push(s);return u};var ao=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},uo=Object.prototype.hasOwnProperty;var co=function(t){if(!hr(t))return ao(t);var e=wn(t),r=[];for(var n in t)("constructor"!=n||!e&&uo.call(t,n))&&r.push(n);return r};var so=function(t){return Fn(t)?io(t,!0):co(t)};var fo=function(t){return Xn(t,so(t))};var lo=function(t,e,r,n,o,i,a){var u=Zn(t,r),c=Zn(e,r),s=a.get(c);if(s)sn(t,r,s);else{var f=i?i(u,c,r+"",t,e,a):void 0,l=void 0===f;if(l){var p=kn(c),h=!p&&qn(c),d=!p&&!h&&Wn(c);f=c,p||h||d?kn(u)?f=u:Ln(u)?f=vn(u):h?(l=!1,f=ln(c,!0)):d?(l=!1,f=dn(c,!0)):f=[]:Hn(c)||Cn(c)?(f=u,Cn(u)?f=fo(u):hr(u)&&!br(u)||(f=jn(c))):l=!1}l&&(a.set(c,f),o(f,c,n,i,a),a.delete(c)),sn(t,r,f)}};var po=function t(e,r,n,o,i){e!==r&&fn(r,function(a,u){if(i||(i=new an),hr(a))lo(e,r,u,n,t,o,i);else{var c=o?o(Zn(e,u),a,u+"",e,r,i):void 0;void 0===c&&(c=a),sn(e,u,c)}},so)};var ho=function(t){return t};var vo=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},yo=Math.max;var go=function(t,e,r){return e=yo(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=yo(n.length-e,0),a=Array(i);++o<i;)a[o]=n[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=n[o];return u[e]=r(a),vo(t,this,u)}};var mo=function(t){return function(){return t}},bo=un?function(t,e){return un(t,"toString",{configurable:!0,enumerable:!1,value:mo(e),writable:!0})}:ho,_o=800,wo=16,jo=Date.now;var Oo=function(t){var e=0,r=0;return function(){var n=jo(),o=wo-(n-r);if(r=n,o>0){if(++e>=_o)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(bo);var So=function(t,e){return Oo(go(t,e,ho),t+"")};var Eo=function(t,e,r){if(!hr(r))return!1;var n=typeof e;return!!("number"==n?Fn(r)&&no(e,r.length):"string"==n&&e in r)&&ze(r[e],t)};var To=function(t){return So(function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&Eo(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++n<o;){var u=r[n];u&&t(e,u,n,i)}return e})},Po=To(function(t,e,r){po(t,e,r)});J(J.S+J.F*!q,"Object",{defineProperties:ot});var xo=b.Object,Co=function(t,e){return xo.defineProperties(t,e)},ko=_.Reflect,No=ko&&ko.ownKeys||function(t){var e=Ut.f(L(t)),r=Mt.f;return r?e.concat(r(t)):e},Ao=function(t,e,r){e in t?H.f(t,e,K(0,r)):t[e]=r};J(J.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,r,n=s(t),o=Jt.f,i=No(n),a={},u=0;i.length>u;)void 0!==(r=o(n,e=i[u++]))&&Ao(a,e,r);return a}});var Fo=b.Object.getOwnPropertyDescriptors,Lo=Jt.f;B("getOwnPropertyDescriptor",function(){return function(t,e){return Lo(s(t),e)}});var Ro=b.Object,qo=function(t,e){return Ro.getOwnPropertyDescriptor(t,e)},Mo=b.Object.getOwnPropertySymbols,Io="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",zo="["+Io+"]",Do=RegExp("^"+zo+zo+"*"),Uo=RegExp(zo+zo+"*$"),Go=function(t,e,r){var n={},o=R(function(){return!!Io[t]()||"​"!="​"[t]()}),i=n[t]=o?e(Ho):Io[t];r&&(n[r]=i),J(J.P+J.F*o,"String",n)},Ho=Go.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(Do,"")),2&e&&(t=t.replace(Uo,"")),t},Ko=Go,Vo=_.parseInt,$o=Ko.trim,Jo=/^[-+]?0[xX]/,Bo=8!==Vo(Io+"08")||22!==Vo(Io+"0x16")?function(t,e){var r=$o(String(t),3);return Vo(r,e>>>0||(Jo.test(r)?16:10))}:Vo;J(J.G+J.F*(parseInt!=Bo),{parseInt:Bo});var Wo=b.parseInt;var Zo=function(t,e,r){return e in t?Y(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t};J(J.S,"Array",{isArray:zt});var Yo,Qo=b.Array.isArray,Xo="function"==typeof setImmediate,ti=ei;function ei(t){ri.length||(ui(),ni=!0),ri[ri.length]=t}var ri=[],ni=!1,oi=0,ii=1024;function ai(){for(;oi<ri.length;){var t=oi;if(oi+=1,ri[t].call(),oi>ii){for(var e=0,r=ri.length-oi;e<r;e++)ri[e]=ri[e+oi];ri.length-=oi,oi=0}}ri.length=0,oi=0,ni=!1}function ui(){var e=process.domain;e&&(Yo||(Yo=t),Yo.active=process.domain=null),ni&&Xo?setImmediate(ai):process.nextTick(ai),e&&(Yo.active=process.domain=e)}function ci(){}ei.requestFlush=ui;var si=null,fi={};var li=pi;function pi(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("Promise constructor's argument is not a function");this._h=0,this._i=0,this._j=null,this._k=null,t!==ci&&mi(t,this)}function hi(t,e){for(;3===t._i;)t=t._j;if(pi._l&&pi._l(t),0===t._i)return 0===t._h?(t._h=1,void(t._k=e)):1===t._h?(t._h=2,void(t._k=[t._k,e])):void t._k.push(e);!function(t,e){ti(function(){var r=1===t._i?e.onFulfilled:e.onRejected;if(null!==r){var n=function(t,e){try{return t(e)}catch(t){return si=t,fi}}(r,t._j);n===fi?vi(e.promise,si):di(e.promise,n)}else 1===t._i?di(e.promise,t._j):vi(e.promise,t._j)})}(t,e)}function di(t,e){if(e===t)return vi(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var r=function(t){try{return t.then}catch(t){return si=t,fi}}(e);if(r===fi)return vi(t,si);if(r===t.then&&e instanceof pi)return t._i=3,t._j=e,void yi(t);if("function"==typeof r)return void mi(r.bind(e),t)}t._i=1,t._j=e,yi(t)}function vi(t,e){t._i=2,t._j=e,pi._m&&pi._m(t,e),yi(t)}function yi(t){if(1===t._h&&(hi(t,t._k),t._k=null),2===t._h){for(var e=0;e<t._k.length;e++)hi(t,t._k[e]);t._k=null}}function gi(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}function mi(t,e){var r=!1,n=function(t,e,r){try{t(e,r)}catch(t){return si=t,fi}}(t,function(t){r||(r=!0,di(e,t))},function(t){r||(r=!0,vi(e,t))});r||n!==fi||(r=!0,vi(e,si))}pi._l=null,pi._m=null,pi._n=ci,pi.prototype.then=function(t,e){if(this.constructor!==pi)return function(t,e,r){return new t.constructor(function(n,o){var i=new pi(ci);i.then(n,o),hi(t,new gi(e,r,i))})}(this,t,e);var r=new pi(ci);return hi(this,new gi(t,e,r)),r},li.prototype.done=function(t,e){var r=arguments.length?this.then.apply(this,arguments):this;r.then(null,function(t){setTimeout(function(){throw t},0)})},li.prototype.finally=function(t){return this.then(function(e){return li.resolve(t()).then(function(){return e})},function(e){return li.resolve(t()).then(function(){throw e})})};var bi=Ei(!0),_i=Ei(!1),wi=Ei(null),ji=Ei(void 0),Oi=Ei(0),Si=Ei("");function Ei(t){var e=new li(li._n);return e._i=1,e._j=t,e}li.resolve=function(t){if(t instanceof li)return t;if(null===t)return wi;if(void 0===t)return ji;if(!0===t)return bi;if(!1===t)return _i;if(0===t)return Oi;if(""===t)return Si;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new li(e.bind(t))}catch(t){return new li(function(e,r){r(t)})}return Ei(t)},li.all=function(t){var e=Array.prototype.slice.call(t);return new li(function(t,r){if(0===e.length)return t([]);var n=e.length;function o(i,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof li&&a.then===li.prototype.then){for(;3===a._i;)a=a._j;return 1===a._i?o(i,a._j):(2===a._i&&r(a._j),void a.then(function(t){o(i,t)},r))}var u=a.then;if("function"==typeof u)return void new li(u.bind(a)).then(function(t){o(i,t)},r)}e[i]=a,0==--n&&t(e)}for(var i=0;i<e.length;i++)o(i,e[i])})},li.reject=function(t){return new li(function(e,r){r(t)})},li.race=function(t){return new li(function(e,r){t.forEach(function(t){li.resolve(t).then(e,r)})})},li.prototype.catch=function(t){return this.then(null,t)};var Ti=[],Pi=function(t){var e;e=Ti.length?Ti.pop():new xi;e.task=t,e.domain=process.domain,ti(e)};function xi(){this.task=null,this.domain=null}xi.prototype.call=function(){this.domain&&this.domain.enter();var t=!0;try{this.task.call(),t=!1,this.domain&&this.domain.exit()}finally{t&&ti.requestFlush(),this.task=null,this.domain=null,Ti.push(this)}},li.denodeify=function(t,e){return"number"==typeof e&&e!==1/0?function(t,e){for(var r=[],n=0;n<e;n++)r.push("a"+n);var o=["return function ("+r.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(r).concat([Ci]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(li,t)}(t,e):function(t){for(var e=Math.max(t.length-1,3),r=[],n=0;n<e;n++)r.push("a"+n);var o=["return function ("+r.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+e+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+Ci+";","var res;","switch (argLength) {",r.concat(["extra"]).map(function(t,e){return"case "+e+":res = fn.call("+["self"].concat(r.slice(0,e)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(li,t)}(t)};var Ci="function (err, res) {if (err) { rj(err); } else { rs(res); }}";li.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),r="function"==typeof e[e.length-1]?e.pop():null,n=this;try{return t.apply(this,arguments).nodeify(r,n)}catch(t){if(null==r)return new li(function(e,r){r(t)});Pi(function(){r.call(n,t)})}}},li.prototype.nodeify=function(t,e){if("function"!=typeof t)return this;this.then(function(r){Pi(function(){t.call(e,null,r)})},function(r){Pi(function(){t.call(e,r)})})},li.enableSynchronous=function(){li.prototype.isPending=function(){return 0==this.getState()},li.prototype.isFulfilled=function(){return 1==this.getState()},li.prototype.isRejected=function(){return 2==this.getState()},li.prototype.getValue=function(){if(3===this._i)return this._j.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._j},li.prototype.getReason=function(){if(3===this._i)return this._j.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._j},li.prototype.getState=function(){return 3===this._i?this._j.getState():-1===this._i||-2===this._i?0:this._i}},li.disableSynchronous=function(){li.prototype.isPending=void 0,li.prototype.isFulfilled=void 0,li.prototype.isRejected=void 0,li.prototype.getValue=void 0,li.prototype.getReason=void 0,li.prototype.getState=void 0};var ki,Ni=li,Ai=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t},Fi=Object.prototype.hasOwnProperty;function Li(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}var Ri={stringify:function(t,e){e=e||"";var r,n,o=[];for(n in"string"!=typeof e&&(e="?"),t)if(Fi.call(t,n)){if((r=t[n])||null!==r&&r!==ki&&!isNaN(r)||(r=""),n=encodeURIComponent(n),r=encodeURIComponent(r),null===n||null===r)continue;o.push(n+"="+r)}return o.length?e+o.join("&"):""},parse:function(t){for(var e,r=/([^=?&]+)=?([^&]*)/g,n={};e=r.exec(t);){var o=Li(e[1]),i=Li(e[2]);null===o||null===i||o in n||(n[o]=i)}return n}},qi=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Mi=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,Ii=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function zi(t){return(t||"").toString().replace(Ii,"")}var Di=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Ui={hash:1,query:1};function Gi(t){var e,r=("undefined"!=typeof window?window:void 0!==y?y:"undefined"!=typeof self?self:{}).location||{},n={},o=typeof(t=t||r);if("blob:"===t.protocol)n=new Ki(unescape(t.pathname),{});else if("string"===o)for(e in n=new Ki(t,{}),Ui)delete n[e];else if("object"===o){for(e in t)e in Ui||(n[e]=t[e]);void 0===n.slashes&&(n.slashes=qi.test(t.href))}return n}function Hi(t){t=zi(t);var e=Mi.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function Ki(t,e,r){if(t=zi(t),!(this instanceof Ki))return new Ki(t,e,r);var n,o,i,a,u,c,s=Di.slice(),f=typeof e,l=this,p=0;for("object"!==f&&"string"!==f&&(r=e,e=null),r&&"function"!=typeof r&&(r=Ri.parse),e=Gi(e),n=!(o=Hi(t||"")).protocol&&!o.slashes,l.slashes=o.slashes||n&&e.slashes,l.protocol=o.protocol||e.protocol||"",t=o.rest,o.slashes||(s[3]=[/(.*)/,"pathname"]);p<s.length;p++)"function"!=typeof(a=s[p])?(i=a[0],c=a[1],i!=i?l[c]=t:"string"==typeof i?~(u=t.indexOf(i))&&("number"==typeof a[2]?(l[c]=t.slice(0,u),t=t.slice(u+a[2])):(l[c]=t.slice(u),t=t.slice(0,u))):(u=i.exec(t))&&(l[c]=u[1],t=t.slice(0,u.index)),l[c]=l[c]||n&&a[3]&&e[c]||"",a[4]&&(l[c]=l[c].toLowerCase())):t=a(t);r&&(l.query=r(l.query)),n&&e.slashes&&"/"!==l.pathname.charAt(0)&&(""!==l.pathname||""!==e.pathname)&&(l.pathname=function(t,e){if(""===t)return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,o=r[n-1],i=!1,a=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),a++):a&&(0===n&&(i=!0),r.splice(n,1),a--);return i&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}(l.pathname,e.pathname)),Ai(l.port,l.protocol)||(l.host=l.hostname,l.port=""),l.username=l.password="",l.auth&&(a=l.auth.split(":"),l.username=a[0]||"",l.password=a[1]||""),l.origin=l.protocol&&l.host&&"file:"!==l.protocol?l.protocol+"//"+l.host:"null",l.href=l.toString()}Ki.prototype={set:function(t,e,r){var n=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(r||Ri.parse)(e)),n[t]=e;break;case"port":n[t]=e,Ai(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,/:\d+$/.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(e){var o="pathname"===t?"/":"#";n[t]=e.charAt(0)!==o?o+e:e}else n[t]=e;break;default:n[t]=e}for(var i=0;i<Di.length;i++){var a=Di[i];a[4]&&(n[a[1]]=n[a[1]].toLowerCase())}return n.origin=n.protocol&&n.host&&"file:"!==n.protocol?n.protocol+"//"+n.host:"null",n.href=n.toString(),n},toString:function(t){t&&"function"==typeof t||(t=Ri.stringify);var e,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var o=n+(r.slashes?"//":"");return r.username&&(o+=r.username,r.password&&(o+=":"+r.password),o+="@"),o+=r.host+r.pathname,(e="object"==typeof r.query?t(r.query):r.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),r.hash&&(o+=r.hash),o}},Ki.extractProtocol=Hi,Ki.location=Gi,Ki.trimLeft=zi,Ki.qs=Ri;var Vi=Ki,$i=mn(Object.keys,Object),Ji=Object.prototype.hasOwnProperty;var Bi=function(t){if(!wn(t))return $i(t);var e=[];for(var r in Object(t))Ji.call(t,r)&&"constructor"!=r&&e.push(r);return e};var Wi=function(t){return Fn(t)?io(t):Bi(t)},Zi=Object.prototype.hasOwnProperty,Yi=To(function(t,e){if(wn(e)||Fn(e))Xn(e,Wi(e),t);else for(var r in e)Zi.call(e,r)&&Qn(t,r,e[r])});function Qi(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length?arguments[2]:void 0;if(!r)throw new Error("arguments[2](schema) is not defined!");if(!e||Qo(e)&&!e.length)return e;var n={object:function(){!function(t,e,r){var n=W(e),o=r.properties,i=W(o);0>=n.length||(-1<i.indexOf("any")?n.forEach(function(r){var i=r,a=e[i],u=Xi(ta(a));if("object"===u||"array"===u){if(!o.any.properties&&!o.any.items)throw new Error("object array has not sub");return t[r]={},"array"===u&&(t[r]=[]),Qi(t[r],a,o.any)}-1<n.indexOf(i)&&(t[r]=a)}):i.forEach(function(r){var i=o[r].serverName,a=e[i],u=Xi(ta(a));if(null===a)return t[r]=a,!0;if(o[r].type!==u)throw new Error("server data [".concat(i,"] type not equal jsonSchema [").concat(r,"] type"));if("object"===u||"array"===u){if(!o[r].properties&&!o[r].items)throw new Error("object array has not sub");return t[r]={},"array"===u&&(t[r]=[]),Qi(t[r],a,o[r])}-1<n.indexOf(i)&&(t[r]=a)}))}(t,e,r)},array:function(){!function(t,e,r){var n=r.items,o=n.type;e.forEach(function(e,r){var i=Xi(ta(e));if(t[r]||("array"===i&&(t[r]=[]),"object"===i&&(t[r]={})),null===e)return t[r]=e,!0;if("none"===i)throw new Error("api key type error");if(o!==i)throw new Error("api key type not match schema key type");return"object"===i||"array"===i?Qi(t[r],e,n):void("other"===o&&(t[r]=e))})}(t,e,r)}}[Xi(ta(e))];"function"==typeof n&&n()}function Xi(t){var e={object:"object",array:"array",other:"other"}[t];return e||(e=function(t){return!!(-1<["number","string","boolean"].indexOf(t))&&"other"}(t)),e||"none"}function ta(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}var ea=Lt.onFreeze;B("seal",function(t){return function(e){return t&&F(e)?t(ea(e)):e}});var ra=b.Object.seal;B("getOwnPropertyNames",function(){return Vt.f});var na,oa=b.Object,ia=function(t){return oa.getOwnPropertyNames(t)},aa=null;function ua(t){return!!t&&("object"==Te(t)||"function"==typeof t)}(na=function(t,e){if(!ua(t)||!ua(e))throw new TypeError("Cannot create proxy with a non-object as target or handler");var r=function(){};aa=function(){r=function(t){throw new TypeError("Cannot perform '".concat(t,"' on a proxy that has been revoked"))}};var n=e;for(var o in e={get:null,set:null,apply:null,construct:null},n){if(!(o in e))throw new TypeError("nProxy polyfill does not support trap '".concat(o,"'"));e[o]=n[o]}"function"==typeof n&&(e.apply=n.apply.bind(n));var i=this,a=!1,u="function"==typeof t;(e.apply||e.construct||u)&&(i=function(){var n=this&&this.constructor===i,o=Array.prototype.slice.call(arguments);if(r(n?"construct":"apply"),n&&e.construct)return e.construct.call(this,t,o);if(!n&&e.apply)return e.apply(t,this,o);if(u){if(n){o.unshift(t);var a=t.bind.apply(t,o);return new a}return t.apply(this,o)}throw new TypeError(n?"not a constructor":"not a function")},a=!0);var c=e.get?function(t){return r("get"),e.get(this,t,i)}:function(t){return r("get"),this[t]},s=e.set?function(t,n){r("set");e.set(this,t,n,i)}:function(t,e){r("set"),this[t]=e},f=ia(t),l={};f.forEach(function(e){if(!(a&&e in i)){var r={enumerable:!!qo(t,e).enumerable,get:c.bind(t,e),set:s.bind(t,e)};Y(i,e,r),l[e]=!0}});var p=!0;if(Ae?Ae(i,Ce(t)):i.__proto__?i.__proto__=t.__proto__:p=!1,e.get||!p)for(var h in t)l[h]||Y(i,h,{get:c.bind(t,h)});return ra(t),ra(i),i}).revocable=na.revocable=function(t,e){return{proxy:new na(t,e),revoke:aa}};var ca="undefined"==typeof Proxy?na:Proxy,sa={url:"",method:"get",params:{},data:{},headers:{},timeout:1e3},fa={aliapp:function(t){return new Ni(function(e,r){var n=t.data,o=Qo(n)?[]:{},i=t.headers,a="";W(i).forEach(function(t){"content-type"===t.toLowerCase()&&(a=i[t])}),"application/json"===a.toLowerCase()?o=X(n):W(n).forEach(function(t){o[t]="object"===n[t].toString().slice(1,7).toLowerCase()?X(n[t]):n[t]});var u={url:"".concat(t.url).concat(t.qs?"?".concat(t.qs):""),data:o,headers:t.headers,method:t.method,timeout:t.timeout,success:function(t){e({data:t.data,headers:t.headers,status:t.status,statusText:""})},fail:function(t){r(t)}};"GET"===t.method.toUpperCase()&&delete u.data,la(t,my.request(u))})},weapp:function(t){return new Ni(function(e,r){var n=t.data,o=Qo(n)?[]:{},i=t.headers,a="";W(i).forEach(function(t){"content-type"===t.toLowerCase()&&(a=i[t])}),"application/x-www-form-urlencoded"===a.toLowerCase()?W(n).forEach(function(t){o[t]="object"===n[t].toString().slice(1,7).toLowerCase()?X(n[t]):n[t]}):o=n;var u={url:"".concat(t.url).concat(t.qs?"?".concat(t.qs):""),data:o,header:t.headers,method:t.method,success:function(t){200!=t.statusCode&&(t.data={retcode:5e3,info:{errCode:t.statusCode,msg:t.data,tip:t.data},data:{}}),e({data:t.data,headers:t.header,status:t.statusCode,statusText:""})},fail:function(t){r(t)},complete:function(){}};"GET"===t.method.toUpperCase()&&delete u.data,la(t,wx.request(u))})},swan:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return new Ni(function(e,r){var n=t.data,o=Qo(n)?[]:{},i=t.headers,a="";W(i).forEach(function(t){"content-type"===t.toLowerCase()&&(a=i[t])}),"application/x-www-form-urlencoded"===a.toLowerCase()?W(n).forEach(function(t){o[t]="object"===n[t].toString().slice(1,7).toLowerCase()?X(n[t]):n[t]}):o=n;var u={url:"".concat(t.url).concat(t.qs?"?".concat(t.qs):""),data:o,header:t.headers,method:t.method,success:function(t){200!=t.statusCode&&(t.data={retcode:5e3,info:{errCode:t.statusCode,msg:t.data,tip:t.data},data:{}}),e({data:t.data,headers:t.header,status:t.statusCode,statusText:""})},fail:function(t){r(t)},complete:function(){}};"GET"===t.method.toUpperCase()&&delete u.data,la(t,swan.request(u))})})};function la(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0;t&&t.getRequestTask&&"function"==typeof t.getRequestTask&&t.getRequestTask(e)}function pa(t,e){var r=W(t);return Mo&&r.push.apply(r,Mo(t)),e&&(r=r.filter(function(e){return qo(t,e).enumerable})),r}function ha(t){for(var e,r=1;r<arguments.length;r++)e=null==arguments[r]?{}:arguments[r],r%2?pa(e,!0).forEach(function(r){Zo(t,r,e[r])}):Fo?Co(t,Fo(e)):pa(e).forEach(function(r){Y(t,r,qo(e,r))});return t}var da={OK:"FE-200",PARAM:"FE-5000",OTHER:"FE-5001",CATCH:"FE-5002"};function va(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=t,o=Qo(t);return o||(n=W(t)),r=this||r,n.forEach(function(n){var i,a,u=o?n.name:n,c=o?n:t[n];if(c.name=u,!u)throw new Error("Function name is required!");if(r[u])throw new Error("Duplicate statements in _this: ".concat(u));r[u]=(i=c,function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new ca(t,{get:function(t,r){return e[r]},set:function(){throw new Error("The property is readonly!")},apply:function(t,r,n){return new Ni(function(o,i){function a(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(){};return function(t,e){return!(isNaN(t)||isNaN(e)||(t=Wo(t),e=Wo(e),0>=t||0>=e))}(r,e)&&l<=e?setTimeout(function(){n(t>e)},r):void n(!0)}var u=e,c=u.interval,s=e,f=s.retryTimes,l=0;!function n(u){++l,t(u||{},e,function(t,s){var p=t.data;if(e=Po(e,{headers:s.headers,timeout:s.timeout,fnName:s.fnName}),s.err)return r.emit("cnfapi:res:reject",{fnName:s.fnName,retcode:s.err.retcode,msg:s.err.msg,headers:e.headers}),i({retcode:s.err.retcode,msg:s.err.msg,headers:e.headers});if(t.retcode!==da.OK)return r.emit("cnfapi:res:reject",{fnName:s.fnName,retcode:t.retcode,msg:t.errMsg,headers:e.headers}),i({retcode:t.retcode,msg:t.errMsg,headers:e.headers});var h=e.url;s.restful&&(h=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=/\{(.+?)\}/g,n=null;do{(n=r.exec(t))&&1<n.length&&(t=t.replace(n[0],e[n[1]]||""))}while(n);return t}(h,s.restful)),r.emit("cnfapi:req:before",{fnName:s.fnName,url:h,timeout:e.timeout,env:e.env,method:e.method,headers:e.headers,data:p.postData,qs:p.qs,params:p.getData,getRequestTask:s.getRequestTask}),function(t){if("function"!=typeof fa[t.env])throw new Error("http env error!");return fa[t.env](Yi(sa,t))}({url:h,timeout:e.timeout,env:e.env,method:e.method,headers:e.headers,data:p.postData,qs:p.qs,params:p.getData,getRequestTask:s.getRequestTask}).then(function(t){var a=t.data;e.status=t.status,e.statusText=t.statusText;var c="function"==typeof s.openResInterceptor&&s.openResInterceptor.call(e,a);if(c&&l<f+(f?1:2))return s.resInterceptor.call(e,a,function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(t)return r.emit("cnfapi:res:reject",ha({fnName:s.fnName},t)),i(t);var o=Po(u.data,e.data),a=Po(s.headers,e.headers);u.data=o,s.headers=a,n(u)});if("function"==typeof s.resSuccessCallback)return s.resSuccessCallback(a,function(n,a){var u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:200;return n?(r.emit("cnfapi:res:reject",ha({fnName:s.fnName},n||_a({retcode:500,headers:t.headers}))),void i(n||_a({retcode:500,headers:t.headers}))):(l=0,ja(e.model)||(a=wa(e.model,a)),r.emit("cnfapi:res:resolve",ha({fnName:s.fnName},ba({data:a,headers:t.headers,retcode:u}))),o(ba({data:a,headers:t.headers,retcode:u})))});if(/^2\d/.test(+a.retcode)){l=0;var p=a.data;return ja(e.model)||(p=wa(e.model,p)),r.emit("cnfapi:res:resolve",ha({fnName:s.fnName},ba({data:p,headers:t.headers,retcode:a.retcode}))),o(ba({data:p,headers:t.headers,retcode:a.retcode}))}r.emit("cnfapi:res:reject",ha({fnName:s.fnName},_a({retcode:a.retcode,msg:a.msg,headers:t.headers}))),i(_a({retcode:a.retcode,msg:a.msg,headers:t.headers}))},function(t){var e=X(t);return e.toLowerCase().includes("abort")?(r.emit("cnfapi:res:reject",ha({fnName:s.fnName},_a({retcode:da.OTHER,msg:"error"===Oa(t)?t.toString():X(t)}))),i(_a({retcode:da.OTHER,msg:"error"===Oa(t)?t.toString():X(t)}))):void a(l,f,c,function(e){return e?(l=0,r.emit("cnfapi:res:reject",ha({fnName:s.fnName},_a({retcode:da.OTHER,msg:"error"===Oa(t)?t.toString():X(t)}))),i(_a({retcode:da.OTHER,msg:"error"===Oa(t)?t.toString():X(t)}))):void n(u)})}).catch(function(t){l=0,r.emit("cnfapi:res:catch",ha({fnName:s.fnName},_a({retcode:da.CATCH,msg:"error"===Oa(t)?t.toString():X(t)}))),i(_a({retcode:da.CATCH,msg:"error"===Oa(t)?t.toString():X(t)}))})})}(n[0]||{})})}})}(a=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};return t.fnName=u,t.openResInterceptor=t.openResInterceptor||e.openResInterceptor,t.resInterceptor=t.resInterceptor||e.resInterceptor,t.resSuccessCallback=t.resSuccessCallback||e.resSuccessCallback,r._before=r._before||e._before,n.url=t.url||n.url,"function"==typeof r._before?r._before(t,n,function(e){ga((t=Po(t,e)).data||{},n.params,function(e){o(e,t)})}):void ga(t.data||{},n.params,function(e){o(e,t)})},JSON.parse(X(function(t,e,r){var n,o={url:"",baseURL:e.baseURL,env:e.env,headers:e.headers,timeout:e.timeout,method:t.method||e.method,model:t.resSchema||{},interval:t.interval||0,retryTimes:t.retryTimes||0,pathname:ma(t.apiName),params:ya(t.params),fnName:t.name,signKey:t.signKey,status:"",statusText:""},i=Vi(t.apiName);return o.url=o.baseURL+o.pathname,n=t.apiName,(/^((http:\/\/)|(https:\/\/)|(:\/\/))/.test(n)||/^(localhost)/.test(n))&&(o=Yi(o,{baseURL:i.origin,pathname:ma(i.pathname),url:i.href})),W(o).forEach(function(t){if(r[t])throw new Error("Duplicate statements in proxy Function: ".concat(t));r[t]=o[t]}),Po({},t,o)}(i,e,a))))),c=null}),r}function ya(t){function e(t,e){return{required:!!t.isNeed,method:e.toUpperCase()}}var r={},n=t.get||t.GET||[],o=t.post||t.POST||[];return n.forEach(function(t){r[t.param]=e(t,"GET")}),o.forEach(function(t){r[t.param]=e(t,"POST")}),r}function ga(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};setTimeout(function(){var n={retcode:"FE-5000",errMsg:"",data:{}},o=[],i={},a={};W(e).every(function(r){var u=e[r],c=u.method,s=u.required,f=t[r],l=function(t,e,r){return r&&null==t?{result:!1,errMsg:"param: ".concat(e,". Is Required!")}:{result:!0,errMsg:""}}(f,r,s);return l.result?!(void 0!==f&&null!=f&&("GET"===c.toUpperCase()?(i[r]=f,o.push("".concat(r,"=").concat(encodeURIComponent(f)))):a[r]=f,0)):(n.errMsg=l.errMsg,!1)})?(n.retcode=da.OK,n.data={qs:o.join("&"),postData:a,getData:i}):n.retcode=da.PARAM,r(n)},0)}function ma(t){return/^\//.test(t)?t:"/".concat(t)}function ba(t){return{data:t.data,headers:t.headers,retcode:t.retcode}}function _a(t){return{retcode:t.retcode||"FE-5001",msg:t.msg||"unknown",headers:t.headers||{}}}function wa(t,e){var r=Qo(e)?[]:{};return Qi(r,e,t),r}function ja(t){return!t||!W(t).length}function Oa(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}return function(t){function r(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};tt(this,r);var o=(t=xe(this,Fe(r).call(this))).getType(n);if("object"!==t.getType(e)||"object"!==o&&"array"!==o)throw new Error("constructor params require Object type");var i=JSON.parse(X(n));return t.merge=Po,t.outConf=e,Y(Pe(t),"apiList",{get:function(){return i}}),t.init(),t}return Me(r,e),rt(r,[{key:"init",value:function(){this.mergeConf(this.initConf,this.outConf),va.apply(this,[JSON.parse(X(this.apiList)),this.defaultOpts])}},{key:"mergeConf",value:function(t,e){var r=this,n={};if("object"!==this.getType(t)||"object"!==this.getType(e))throw new Error("mergeConf argument Not Object");return W(t).forEach(function(o){var i=t[o],a=null,u=t[o].vaildFn,c="function"==typeof t[o].default&&t[o].default.apply(r)||"";if(i.required&&!c&&!e[o])throw new Error("".concat(i.errMsg));if(n[o]=e[o]||c,"function"==typeof u&&(a=u(n[o])),null!=a&&!a.result)throw new Error("".concat(a.errMsg))}),n}},{key:"openResInterceptor",value:function(){return this.conf.openResInterceptor.apply(this,arguments)}},{key:"_before",value:function(t,e){e(t)}},{key:"getType",value:function(t){return function(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}(t)}},{key:"conf",get:function(){return this.mergeConf(this.initConf,this.outConf)}},{key:"initConf",get:function(){return{baseURL:{required:!0,errMsg:"baseURL is required",vaildFn:function(t){return{result:/^((http:\/\/)|(https:\/\/)|(:\/\/))([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}(\/)?/.test(t)||/^((http:\/\/)|(https:\/\/)|(:\/\/))(localhost)/.test(t),errMsg:"invalid baseURL"}}},timeout:{required:!0,errMsg:"timeout is required or not 0",default:function(){return 3e3},vaildFn:function(t){return{result:!isNaN(t)&&0!=t,errMsg:"invalid timeout"}}},env:{required:!0,errMsg:"invalid env",default:function(){return"browser"},vaildFn:function(t){var e={result:-1<["browser","aliapp","weapp","swan"].indexOf(t),errMsg:'invalid env, env must in ["browser", "aliapp" ,"weapp", "swan"]'};return("aliapp"===t||"weapp"===t)&&(window=void 0,document=void 0),"browser"===t&&(e={result:window&&document&&"undefined"!=typeof window&&"undefined"!=typeof document,errMsg:'invalid env, env not in browser, env must in ["browser", "aliapp" ,"weapp", "swan"]'}),e}},openResInterceptor:{required:!1,default:function(){return function(){return!1}}},resInterceptor:{required:!1,default:function(){return function(){}}},resSuccessCallback:{required:!1,default:function(){return function(t,e){e(!1,t)}}},resFormat:{description:"接口返回格式",required:!1,default:function(){return{type:"object",properties:{retcode:{type:"string"},msg:{type:"string"},data:{type:"object"}}}}}}}},{key:"defaultOpts",get:function(){return this.merge({method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}},this.outConf,this.conf)}}]),r}()});
//# sourceMappingURL=cnfapi-miniprogram.min.js.map
