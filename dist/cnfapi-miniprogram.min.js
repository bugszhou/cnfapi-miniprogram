!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("events")):"function"==typeof define&&define.amd?define(["events"],e):(t=t||self,function(){var r=t["cnfapi-miniprogram"],n=t["cnfapi-miniprogram"]=e(t.EventEmitter);n.noConflict=function(){return t["cnfapi-miniprogram"]=r,n}}())}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},r=function(t){return Object(e(t))},n={}.hasOwnProperty,o=function(t,e){return n.call(t,e)},i={}.toString,a=function(t){return i.call(t).slice(8,-1)},s=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==a(t)?t.split(""):Object(t)},c=function(t){return s(e(t))},u=Math.ceil,l=Math.floor,f=function(t){return isNaN(t=+t)?0:(t>0?l:u)(t)},p=Math.min,h=function(t){return t>0?p(f(t),9007199254740991):0},d=Math.max,_=Math.min,v=function(t,e){return(t=f(t))<0?d(t+e,0):_(t,e)},y=function(t){return function(e,r,n){var o,i=c(e),a=h(i.length),s=v(n,a);if(t&&r!=r){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((t||s in i)&&i[s]===r)return t||s||0;return!t&&-1}},m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function g(t,e){return t(e={exports:{}},e.exports),e.exports}var b=g(function(t){var e=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=e)}),w=b.version,j=g(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),C=!0,E=g(function(t){var e=j["__core-js_shared__"]||(j["__core-js_shared__"]={});(t.exports=function(t,r){return e[t]||(e[t]=void 0!==r?r:{})})("versions",[]).push({version:b.version,mode:"pure",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),k=0,O=Math.random(),F=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++k+O).toString(36))},T=E("keys"),S=function(t){return T[t]||(T[t]=F(t))},P=y(!1),x=S("IE_PROTO"),R=function(t,e){var r,n=c(t),i=0,a=[];for(r in n)r!=x&&o(n,r)&&a.push(r);for(;e.length>i;)o(n,r=e[i++])&&(~P(a,r)||a.push(r));return a},A="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),N=Object.keys||function(t){return R(t,A)},L=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},I=function(t,e,r){if(L(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}},D=function(t){return"object"==typeof t?null!==t:"function"==typeof t},M=function(t){if(!D(t))throw TypeError(t+" is not an object!");return t},q=function(t){try{return!!t()}catch(t){return!0}},U=!q(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),V=j.document,H=D(V)&&D(V.createElement),B=function(t){return H?V.createElement(t):{}},z=!U&&!q(function(){return 7!=Object.defineProperty(B("div"),"a",{get:function(){return 7}}).a}),G=function(t,e){if(!D(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!D(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!D(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!D(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},$=Object.defineProperty,W=U?Object.defineProperty:function(t,e,r){if(M(t),e=G(e,!0),M(r),z)try{return $(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t},Q={f:W},X=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},K=U?function(t,e,r){return Q.f(t,e,X(1,r))}:function(t,e,r){return t[e]=r,t},J="prototype",Z=function(t,e,r){var n,i,a,s=t&Z.F,c=t&Z.G,u=t&Z.S,l=t&Z.P,f=t&Z.B,p=t&Z.W,h=c?b:b[e]||(b[e]={}),d=h[J],_=c?j:u?j[e]:(j[e]||{})[J];for(n in c&&(r=e),r)(i=!s&&_&&void 0!==_[n])&&o(h,n)||(a=i?_[n]:r[n],h[n]=c&&"function"!=typeof _[n]?r[n]:f&&i?I(a,j):p&&_[n]==a?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e[J]=t[J],e}(a):l&&"function"==typeof a?I(Function.call,a):a,l&&((h.virtual||(h.virtual={}))[n]=a,t&Z.R&&d&&!d[n]&&K(d,n,a)))};Z.F=1,Z.G=2,Z.S=4,Z.P=8,Z.B=16,Z.W=32,Z.U=64,Z.R=128;var Y=Z,tt=function(t,e){var r=(b.Object||{})[t]||Object[t],n={};n[t]=e(r),Y(Y.S+Y.F*q(function(){r(1)}),"Object",n)};tt("keys",function(){return function(t){return N(r(t))}});var et=b.Object.keys,rt=et;Y(Y.S+Y.F*!U,"Object",{defineProperty:Q.f});var nt=b.Object,ot=function(t,e,r){return nt.defineProperty(t,e,r)},it=ot,at=b.JSON||(b.JSON={stringify:JSON.stringify}),st=function(t){return at.stringify.apply(at,arguments)},ct=st;function ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var lt=ut;function ft(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),it(t,n.key,n)}}function pt(t,e,r){return e&&ft(t.prototype,e),r&&ft(t,r),t}var ht=pt,dt=function(t){return function(r,n){var o,i,a=String(e(r)),s=f(n),c=a.length;return s<0||s>=c?t?"":void 0:(o=a.charCodeAt(s))<55296||o>56319||s+1===c||(i=a.charCodeAt(s+1))<56320||i>57343?t?a.charAt(s):o:t?a.slice(s,s+2):i-56320+(o-55296<<10)+65536}},_t=K,vt=U?Object.defineProperties:function(t,e){M(t);for(var r,n=N(e),o=n.length,i=0;o>i;)Q.f(t,r=n[i++],e[r]);return t},yt=j.document,mt=yt&&yt.documentElement,gt=S("IE_PROTO"),bt=function(){},wt="prototype",jt=function(){var t,e=B("iframe"),r=A.length;for(e.style.display="none",mt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),jt=t.F;r--;)delete jt[wt][A[r]];return jt()},Ct=Object.create||function(t,e){var r;return null!==t?(bt[wt]=M(t),r=new bt,bt[wt]=null,r[gt]=t):r=jt(),void 0===e?r:vt(r,e)},Et=g(function(t){var e=E("wks"),r=j.Symbol,n="function"==typeof r;(t.exports=function(t){return e[t]||(e[t]=n&&r[t]||(n?r:F)("Symbol."+t))}).store=e}),kt=Q.f,Ot=Et("toStringTag"),Ft=function(t,e,r){t&&!o(t=r?t:t.prototype,Ot)&&kt(t,Ot,{configurable:!0,value:e})},Tt={};K(Tt,Et("iterator"),function(){return this});var St=function(t,e,r){t.prototype=Ct(Tt,{next:X(1,r)}),Ft(t,e+" Iterator")},Pt=S("IE_PROTO"),xt=Object.prototype,Rt=Object.getPrototypeOf||function(t){return t=r(t),o(t,Pt)?t[Pt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?xt:null},At=Et("iterator"),Nt=!([].keys&&"next"in[].keys()),Lt="@@iterator",It="keys",Dt="values",Mt=function(t,e,r,n,o,i,a){St(r,e,n);var s,c,u,l=function(t){if(!Nt&&t in d)return d[t];switch(t){case It:case Dt:return function(){return new r(this,t)}}return function(){return new r(this,t)}},f=e+" Iterator",p=o==Dt,h=!1,d=t.prototype,_=d[At]||d[Lt]||o&&d[o],v=_||l(o),y=o?p?l("entries"):v:void 0,m="Array"==e&&d.entries||_;if(m&&(u=Rt(m.call(new t)))!==Object.prototype&&u.next&&Ft(u,f,!0),p&&_&&_.name!==Dt&&(h=!0,v=function(){return _.call(this)}),a&&(Nt||h||!d[At])&&K(d,At,v),o)if(s={values:p?v:l(Dt),keys:i?v:l(It),entries:y},a)for(c in s)c in d||_t(d,c,s[c]);else Y(Y.P+Y.F*(Nt||h),e,s);return s},qt=dt(!0);Mt(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=qt(e,r),this._i+=t.length,{value:t,done:!1})});for(var Ut=function(t,e){return{value:e,done:!!t}},Vt=Mt(Array,"Array",function(t,e){this._t=c(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,Ut(1)):Ut(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values"),Ht=Et("toStringTag"),Bt="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),zt=0;zt<Bt.length;zt++){var Gt=Bt[zt],$t=j[Gt],Wt=$t&&$t.prototype;Wt&&!Wt[Ht]&&K(Wt,Ht,Gt)}var Qt=Et,Xt={f:Qt},Kt=Xt.f("iterator"),Jt=Kt,Zt=g(function(t){var e=F("meta"),r=Q.f,n=0,i=Object.isExtensible||function(){return!0},a=!q(function(){return i(Object.preventExtensions({}))}),s=function(t){r(t,e,{value:{i:"O"+ ++n,w:{}}})},c=t.exports={KEY:e,NEED:!1,fastKey:function(t,r){if(!D(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!i(t))return"F";if(!r)return"E";s(t)}return t[e].i},getWeak:function(t,r){if(!o(t,e)){if(!i(t))return!0;if(!r)return!1;s(t)}return t[e].w},onFreeze:function(t){return a&&c.NEED&&i(t)&&!o(t,e)&&s(t),t}}}),Yt=Zt.KEY,te=Zt.NEED,ee=Zt.fastKey,re=Zt.getWeak,ne=Zt.onFreeze,oe=Q.f,ie=function(t){var e=b.Symbol||(b.Symbol={});"_"==t.charAt(0)||t in e||oe(e,t,{value:Xt.f(t)})},ae=Object.getOwnPropertySymbols,se={f:ae},ce={}.propertyIsEnumerable,ue={f:ce},le=function(t){var e=N(t),r=se.f;if(r)for(var n,o=r(t),i=ue.f,a=0;o.length>a;)i.call(t,n=o[a++])&&e.push(n);return e},fe=Array.isArray||function(t){return"Array"==a(t)},pe=A.concat("length","prototype"),he=Object.getOwnPropertyNames||function(t){return R(t,pe)},de={f:he},_e=de.f,ve={}.toString,ye="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],me=function(t){try{return _e(t)}catch(t){return ye.slice()}},ge=function(t){return ye&&"[object Window]"==ve.call(t)?me(t):_e(c(t))},be={f:ge},we=Object.getOwnPropertyDescriptor,je=U?we:function(t,e){if(t=c(t),e=G(e,!0),z)try{return we(t,e)}catch(t){}if(o(t,e))return X(!ue.f.call(t,e),t[e])},Ce={f:je},Ee=Zt.KEY,ke=Ce.f,Oe=Q.f,Fe=be.f,Te=j.Symbol,Se=j.JSON,Pe=Se&&Se.stringify,xe="prototype",Re=Et("_hidden"),Ae=Et("toPrimitive"),Ne={}.propertyIsEnumerable,Le=E("symbol-registry"),Ie=E("symbols"),De=E("op-symbols"),Me=Object[xe],qe="function"==typeof Te&&!!se.f,Ue=j.QObject,Ve=!Ue||!Ue[xe]||!Ue[xe].findChild,He=U&&q(function(){return 7!=Ct(Oe({},"a",{get:function(){return Oe(this,"a",{value:7}).a}})).a})?function(t,e,r){var n=ke(Me,e);n&&delete Me[e],Oe(t,e,r),n&&t!==Me&&Oe(Me,e,n)}:Oe,Be=function(t){var e=Ie[t]=Ct(Te[xe]);return e._k=t,e},ze=qe&&"symbol"==typeof Te.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof Te},Ge=function(t,e,r){return t===Me&&Ge(De,e,r),M(t),e=G(e,!0),M(r),o(Ie,e)?(r.enumerable?(o(t,Re)&&t[Re][e]&&(t[Re][e]=!1),r=Ct(r,{enumerable:X(0,!1)})):(o(t,Re)||Oe(t,Re,X(1,{})),t[Re][e]=!0),He(t,e,r)):Oe(t,e,r)},$e=function(t,e){M(t);for(var r,n=le(e=c(e)),o=0,i=n.length;i>o;)Ge(t,r=n[o++],e[r]);return t},We=function(t,e){return void 0===e?Ct(t):$e(Ct(t),e)},Qe=function(t){var e=Ne.call(this,t=G(t,!0));return!(this===Me&&o(Ie,t)&&!o(De,t))&&(!(e||!o(this,t)||!o(Ie,t)||o(this,Re)&&this[Re][t])||e)},Xe=function(t,e){if(t=c(t),e=G(e,!0),t!==Me||!o(Ie,e)||o(De,e)){var r=ke(t,e);return!r||!o(Ie,e)||o(t,Re)&&t[Re][e]||(r.enumerable=!0),r}},Ke=function(t){for(var e,r=Fe(c(t)),n=[],i=0;r.length>i;)o(Ie,e=r[i++])||e==Re||e==Ee||n.push(e);return n},Je=function(t){for(var e,r=t===Me,n=Fe(r?De:c(t)),i=[],a=0;n.length>a;)!o(Ie,e=n[a++])||r&&!o(Me,e)||i.push(Ie[e]);return i};qe||(Te=function(){if(this instanceof Te)throw TypeError("Symbol is not a constructor!");var t=F(arguments.length>0?arguments[0]:void 0),e=function(r){this===Me&&e.call(De,r),o(this,Re)&&o(this[Re],t)&&(this[Re][t]=!1),He(this,t,X(1,r))};return U&&Ve&&He(Me,t,{configurable:!0,set:e}),Be(t)},_t(Te[xe],"toString",function(){return this._k}),Ce.f=Xe,Q.f=Ge,de.f=be.f=Ke,ue.f=Qe,se.f=Je,U&&!C&&_t(Me,"propertyIsEnumerable",Qe,!0),Xt.f=function(t){return Be(Et(t))}),Y(Y.G+Y.W+Y.F*!qe,{Symbol:Te});for(var Ze="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Ye=0;Ze.length>Ye;)Et(Ze[Ye++]);for(var tr=N(Et.store),er=0;tr.length>er;)ie(tr[er++]);Y(Y.S+Y.F*!qe,"Symbol",{for:function(t){return o(Le,t+="")?Le[t]:Le[t]=Te(t)},keyFor:function(t){if(!ze(t))throw TypeError(t+" is not a symbol!");for(var e in Le)if(Le[e]===t)return e},useSetter:function(){Ve=!0},useSimple:function(){Ve=!1}}),Y(Y.S+Y.F*!qe,"Object",{create:We,defineProperty:Ge,defineProperties:$e,getOwnPropertyDescriptor:Xe,getOwnPropertyNames:Ke,getOwnPropertySymbols:Je});var rr=q(function(){se.f(1)});Y(Y.S+Y.F*rr,"Object",{getOwnPropertySymbols:function(t){return se.f(r(t))}}),Se&&Y(Y.S+Y.F*(!qe||q(function(){var t=Te();return"[null]"!=Pe([t])||"{}"!=Pe({a:t})||"{}"!=Pe(Object(t))})),"JSON",{stringify:function(t){for(var e,r,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=e=n[1],(D(e)||void 0!==t)&&!ze(t))return fe(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ze(e))return e}),n[1]=e,Pe.apply(Se,n)}}),Te[xe][Ae]||K(Te[xe],Ae,Te[xe].valueOf),Ft(Te,"Symbol"),Ft(Math,"Math",!0),Ft(j.JSON,"JSON",!0),ie("asyncIterator"),ie("observable");var nr=b.Symbol,or=nr,ir=g(function(t){function e(t){return(e="function"==typeof or&&"symbol"==typeof Jt?function(t){return typeof t}:function(t){return t&&"function"==typeof or&&t.constructor===or&&t!==or.prototype?"symbol":typeof t})(t)}function r(n){return"function"==typeof or&&"symbol"===e(Jt)?t.exports=r=function(t){return e(t)}:t.exports=r=function(t){return t&&"function"==typeof or&&t.constructor===or&&t!==or.prototype?"symbol":e(t)},r(n)}t.exports=r});function ar(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var sr=ar;function cr(t,e){return!e||"object"!==ir(e)&&"function"!=typeof e?sr(t):e}var ur=cr;tt("getPrototypeOf",function(){return function(t){return Rt(r(t))}});var lr=b.Object.getPrototypeOf,fr=lr,pr=function(t,e){if(M(t),!D(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},hr={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=I(Function.call,Ce.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return pr(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:pr};Y(Y.S,"Object",{setPrototypeOf:hr.set});var dr=b.Object.setPrototypeOf,_r=dr,vr=g(function(t){function e(r){return t.exports=e=_r?fr:function(t){return t.__proto__||fr(t)},e(r)}t.exports=e});Y(Y.S,"Object",{create:Ct});var yr=b.Object,mr=function(t,e){return yr.create(t,e)},gr=mr,br=g(function(t){function e(r,n){return t.exports=e=_r||function(t,e){return t.__proto__=e,t},e(r,n)}t.exports=e});function wr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=gr(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&br(t,e)}var jr=wr;function Cr(){this.__data__=[],this.size=0}var Er=Cr;function kr(t,e){return t===e||t!=t&&e!=e}var Or=kr;function Fr(t,e){for(var r=t.length;r--;)if(Or(t[r][0],e))return r;return-1}var Tr=Fr,Sr=Array.prototype,Pr=Sr.splice;function xr(t){var e=this.__data__,r=Tr(e,t);return!(r<0)&&(r==e.length-1?e.pop():Pr.call(e,r,1),--this.size,!0)}var Rr=xr;function Ar(t){var e=this.__data__,r=Tr(e,t);return r<0?void 0:e[r][1]}var Nr=Ar;function Lr(t){return Tr(this.__data__,t)>-1}var Ir=Lr;function Dr(t,e){var r=this.__data__,n=Tr(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Mr=Dr;function qr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}qr.prototype.clear=Er,qr.prototype.delete=Rr,qr.prototype.get=Nr,qr.prototype.has=Ir,qr.prototype.set=Mr;var Ur=qr;function Vr(){this.__data__=new Ur,this.size=0}var Hr=Vr;function Br(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var zr=Br;function Gr(t){return this.__data__.get(t)}var $r=Gr;function Wr(t){return this.__data__.has(t)}var Qr=Wr,Xr="object"==typeof m&&m&&m.Object===Object&&m,Kr=Xr,Jr="object"==typeof self&&self&&self.Object===Object&&self,Zr=Kr||Jr||Function("return this")(),Yr=Zr,tn=Yr.Symbol,en=tn,rn=Object.prototype,nn=rn.hasOwnProperty,on=rn.toString,an=en?en.toStringTag:void 0;function sn(t){var e=nn.call(t,an),r=t[an];try{t[an]=void 0;var n=!0}catch(t){}var o=on.call(t);return n&&(e?t[an]=r:delete t[an]),o}var cn=sn,un=Object.prototype,ln=un.toString;function fn(t){return ln.call(t)}var pn=fn,hn="[object Null]",dn="[object Undefined]",_n=en?en.toStringTag:void 0;function vn(t){return null==t?void 0===t?dn:hn:_n&&_n in Object(t)?cn(t):pn(t)}var yn=vn;function mn(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var gn=mn,bn="[object AsyncFunction]",wn="[object Function]",jn="[object GeneratorFunction]",Cn="[object Proxy]";function En(t){if(!gn(t))return!1;var e=yn(t);return e==wn||e==jn||e==bn||e==Cn}var kn=En,On=Yr["__core-js_shared__"],Fn=On,Tn=(Sn=/[^.]+$/.exec(Fn&&Fn.keys&&Fn.keys.IE_PROTO||""),Sn?"Symbol(src)_1."+Sn:""),Sn;function Pn(t){return!!Tn&&Tn in t}var xn=Pn,Rn=Function.prototype,An=Rn.toString;function Nn(t){if(null!=t){try{return An.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Ln=Nn,In=/[\\^$.*+?()[\]{}|]/g,Dn=/^\[object .+?Constructor\]$/,Mn=Function.prototype,qn=Object.prototype,Un=Mn.toString,Vn=qn.hasOwnProperty,Hn=RegExp("^"+Un.call(Vn).replace(In,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Bn(t){return!(!gn(t)||xn(t))&&(kn(t)?Hn:Dn).test(Ln(t))}var zn=Bn;function Gn(t,e){return null==t?void 0:t[e]}var $n=Gn;function Wn(t,e){var r=$n(t,e);return zn(r)?r:void 0}var Qn=Wn,Xn=Qn(Yr,"Map"),Kn=Xn,Jn=Qn(Object,"create"),Zn=Jn;function Yn(){this.__data__=Zn?Zn(null):{},this.size=0}var to=Yn;function eo(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ro=eo,no="__lodash_hash_undefined__",oo=Object.prototype,io=oo.hasOwnProperty;function ao(t){var e=this.__data__;if(Zn){var r=e[t];return r===no?void 0:r}return io.call(e,t)?e[t]:void 0}var so=ao,co=Object.prototype,uo=co.hasOwnProperty;function lo(t){var e=this.__data__;return Zn?void 0!==e[t]:uo.call(e,t)}var fo=lo,po="__lodash_hash_undefined__";function ho(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Zn&&void 0===e?po:e,this}var _o=ho;function vo(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}vo.prototype.clear=to,vo.prototype.delete=ro,vo.prototype.get=so,vo.prototype.has=fo,vo.prototype.set=_o;var yo=vo;function mo(){this.size=0,this.__data__={hash:new yo,map:new(Kn||Ur),string:new yo}}var go=mo;function bo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}var wo=bo;function jo(t,e){var r=t.__data__;return wo(e)?r["string"==typeof e?"string":"hash"]:r.map}var Co=jo;function Eo(t){var e=Co(this,t).delete(t);return this.size-=e?1:0,e}var ko=Eo;function Oo(t){return Co(this,t).get(t)}var Fo=Oo;function To(t){return Co(this,t).has(t)}var So=To;function Po(t,e){var r=Co(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var xo=Po;function Ro(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ro.prototype.clear=go,Ro.prototype.delete=ko,Ro.prototype.get=Fo,Ro.prototype.has=So,Ro.prototype.set=xo;var Ao=Ro,No=200;function Lo(t,e){var r=this.__data__;if(r instanceof Ur){var n=r.__data__;if(!Kn||n.length<No-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ao(n)}return r.set(t,e),this.size=r.size,this}var Io=Lo;function Do(t){var e=this.__data__=new Ur(t);this.size=e.size}Do.prototype.clear=Hr,Do.prototype.delete=zr,Do.prototype.get=$r,Do.prototype.has=Qr,Do.prototype.set=Io;var Mo=Do,qo=function(){try{var t=Qn(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Uo=qo;function Vo(t,e,r){"__proto__"==e&&Uo?Uo(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Ho=Vo;function Bo(t,e,r){(void 0===r||Or(t[e],r))&&(void 0!==r||e in t)||Ho(t,e,r)}var zo=Bo;function Go(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),s=a.length;s--;){var c=a[t?s:++o];if(!1===r(i[c],c,i))break}return e}}var $o=Go,Wo=$o(),Qo=Wo,Xo=g(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?Yr.Buffer:void 0,i=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=i?i(r):new t.constructor(r);return t.copy(n),n}}),Ko=Yr.Uint8Array,Jo=Ko;function Zo(t){var e=new t.constructor(t.byteLength);return new Jo(e).set(new Jo(t)),e}var Yo=Zo;function ti(t,e){var r=e?Yo(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var ei=ti;function ri(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var ni=ri,oi=Object.create,ii=function(){function t(){}return function(e){if(!gn(e))return{};if(oi)return oi(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),ai=ii;function si(t,e){return function(r){return t(e(r))}}var ci=si,ui=ci(Object.getPrototypeOf,Object),li=ui,fi=Object.prototype;function pi(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||fi)}var hi=pi;function di(t){return"function"!=typeof t.constructor||hi(t)?{}:ai(li(t))}var _i=di;function vi(t){return null!=t&&"object"==typeof t}var yi=vi,mi="[object Arguments]";function gi(t){return yi(t)&&yn(t)==mi}var bi=gi,wi=Object.prototype,ji=wi.hasOwnProperty,Ci=wi.propertyIsEnumerable,Ei=bi(function(){return arguments}())?bi:function(t){return yi(t)&&ji.call(t,"callee")&&!Ci.call(t,"callee")},ki=Ei,Oi=Array.isArray,Fi=Oi,Ti=9007199254740991;function Si(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ti}var Pi=Si;function xi(t){return null!=t&&Pi(t.length)&&!kn(t)}var Ri=xi;function Ai(t){return yi(t)&&Ri(t)}var Ni=Ai;function Li(){return!1}var Ii=Li,Di=g(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?Yr.Buffer:void 0,i=(o?o.isBuffer:void 0)||Ii;t.exports=i}),Mi="[object Object]",qi=Function.prototype,Ui=Object.prototype,Vi=qi.toString,Hi=Ui.hasOwnProperty,Bi=Vi.call(Object);function zi(t){if(!yi(t)||yn(t)!=Mi)return!1;var e=li(t);if(null===e)return!0;var r=Hi.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Vi.call(r)==Bi}var Gi=zi,$i="[object Arguments]",Wi="[object Array]",Qi="[object Boolean]",Xi="[object Date]",Ki="[object Error]",Ji="[object Function]",Zi="[object Map]",Yi="[object Number]",ta="[object Object]",ea="[object RegExp]",ra="[object Set]",na="[object String]",oa="[object WeakMap]",ia="[object ArrayBuffer]",aa="[object DataView]",sa="[object Float32Array]",ca="[object Float64Array]",ua="[object Int8Array]",la="[object Int16Array]",fa="[object Int32Array]",pa="[object Uint8Array]",ha="[object Uint8ClampedArray]",da="[object Uint16Array]",_a="[object Uint32Array]",va={};function ya(t){return yi(t)&&Pi(t.length)&&!!va[yn(t)]}va[sa]=va[ca]=va[ua]=va[la]=va[fa]=va[pa]=va[ha]=va[da]=va[_a]=!0,va[$i]=va[Wi]=va[ia]=va[Qi]=va[aa]=va[Xi]=va[Ki]=va[Ji]=va[Zi]=va[Yi]=va[ta]=va[ea]=va[ra]=va[na]=va[oa]=!1;var ma=ya;function ga(t){return function(e){return t(e)}}var ba=ga,wa=g(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&Kr.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i}),ja=wa&&wa.isTypedArray,Ca=ja?ba(ja):ma,Ea=Ca;function ka(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Oa=ka,Fa=Object.prototype,Ta=Fa.hasOwnProperty;function Sa(t,e,r){var n=t[e];Ta.call(t,e)&&Or(n,r)&&(void 0!==r||e in t)||Ho(t,e,r)}var Pa=Sa;function xa(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var s=e[i],c=n?n(r[s],t[s],s,r,t):void 0;void 0===c&&(c=t[s]),o?Ho(r,s,c):Pa(r,s,c)}return r}var Ra=xa;function Aa(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var Na=Aa,La=9007199254740991,Ia=/^(?:0|[1-9]\d*)$/;function Da(t,e){var r=typeof t;return!!(e=null==e?La:e)&&("number"==r||"symbol"!=r&&Ia.test(t))&&t>-1&&t%1==0&&t<e}var Ma=Da,qa=Object.prototype,Ua=qa.hasOwnProperty;function Va(t,e){var r=Fi(t),n=!r&&ki(t),o=!r&&!n&&Di(t),i=!r&&!n&&!o&&Ea(t),a=r||n||o||i,s=a?Na(t.length,String):[],c=s.length;for(var u in t)!e&&!Ua.call(t,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ma(u,c))||s.push(u);return s}var Ha=Va;function Ba(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}var za=Ba,Ga=Object.prototype,$a=Ga.hasOwnProperty;function Wa(t){if(!gn(t))return za(t);var e=hi(t),r=[];for(var n in t)("constructor"!=n||!e&&$a.call(t,n))&&r.push(n);return r}var Qa=Wa;function Xa(t){return Ri(t)?Ha(t,!0):Qa(t)}var Ka=Xa;function Ja(t){return Ra(t,Ka(t))}var Za=Ja;function Ya(t,e,r,n,o,i,a){var s=Oa(t,r),c=Oa(e,r),u=a.get(c);if(u)zo(t,r,u);else{var l=i?i(s,c,r+"",t,e,a):void 0,f=void 0===l;if(f){var p=Fi(c),h=!p&&Di(c),d=!p&&!h&&Ea(c);l=c,p||h||d?Fi(s)?l=s:Ni(s)?l=ni(s):h?(f=!1,l=Xo(c,!0)):d?(f=!1,l=ei(c,!0)):l=[]:Gi(c)||ki(c)?(l=s,ki(s)?l=Za(s):gn(s)&&!kn(s)||(l=_i(c))):f=!1}f&&(a.set(c,l),o(l,c,n,i,a),a.delete(c)),zo(t,r,l)}}var ts=Ya;function es(t,e,r,n,o){t!==e&&Qo(e,function(i,a){if(o||(o=new Mo),gn(i))ts(t,e,a,r,es,n,o);else{var s=n?n(Oa(t,a),i,a+"",t,e,o):void 0;void 0===s&&(s=i),zo(t,a,s)}},Ka)}var rs=es;function ns(t){return t}var os=ns;function is(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var as=is,ss=Math.max;function cs(t,e,r){return e=ss(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=ss(n.length-e,0),a=Array(i);++o<i;)a[o]=n[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=n[o];return s[e]=r(a),as(t,this,s)}}var us=cs;function ls(t){return function(){return t}}var fs=ls,ps=Uo?function(t,e){return Uo(t,"toString",{configurable:!0,enumerable:!1,value:fs(e),writable:!0})}:os,hs=ps,ds=800,_s=16,vs=Date.now;function ys(t){var e=0,r=0;return function(){var n=vs(),o=_s-(n-r);if(r=n,o>0){if(++e>=ds)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var ms=ys,gs=ms(hs),bs=gs;function ws(t,e){return bs(us(t,e,os),t+"")}var js=ws;function Cs(t,e,r){if(!gn(r))return!1;var n=typeof e;return!!("number"==n?Ri(r)&&Ma(e,r.length):"string"==n&&e in r)&&Or(r[e],t)}var Es=Cs;function ks(t){return js(function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&Es(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++n<o;){var s=r[n];s&&t(e,s,n,i)}return e})}var Os=ks,Fs=Os(function(t,e,r){rs(t,e,r)}),Ts=Fs;Y(Y.S+Y.F*!U,"Object",{defineProperties:vt});var Ss=b.Object,Ps=function(t,e){return Ss.defineProperties(t,e)},xs=Ps,Rs=j.Reflect,As=Rs&&Rs.ownKeys||function(t){var e=de.f(M(t)),r=se.f;return r?e.concat(r(t)):e},Ns=function(t,e,r){e in t?Q.f(t,e,X(0,r)):t[e]=r};Y(Y.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,r,n=c(t),o=Ce.f,i=As(n),a={},s=0;i.length>s;)void 0!==(r=o(n,e=i[s++]))&&Ns(a,e,r);return a}});var Ls=b.Object.getOwnPropertyDescriptors,Is=Ls,Ds=Ce.f;tt("getOwnPropertyDescriptor",function(){return function(t,e){return Ds(c(t),e)}});var Ms=b.Object,qs=function(t,e){return Ms.getOwnPropertyDescriptor(t,e)},Us=qs,Vs=b.Object.getOwnPropertySymbols,Hs=Vs,Bs="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff",zs="["+Bs+"]",Gs="âÂ",$s=RegExp("^"+zs+zs+"*"),Ws=RegExp(zs+zs+"*$"),Qs=function(t,e,r){var n={},o=q(function(){return!!Bs[t]()||Gs[t]()!=Gs}),i=n[t]=o?e(Xs):Bs[t];r&&(n[r]=i),Y(Y.P+Y.F*o,"String",n)},Xs=Qs.trim=function(t,r){return t=String(e(t)),1&r&&(t=t.replace($s,"")),2&r&&(t=t.replace(Ws,"")),t},Ks=Qs,Js=j.parseInt,Zs=Ks.trim,Ys=/^[-+]?0[xX]/,tc=8!==Js(Bs+"08")||22!==Js(Bs+"0x16")?function(t,e){var r=Zs(String(t),3);return Js(r,e>>>0||(Ys.test(r)?16:10))}:Js;Y(Y.G+Y.F*(parseInt!=tc),{parseInt:tc});var ec=b.parseInt,rc=ec;function nc(t,e,r){return e in t?it(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var oc=nc;Y(Y.S,"Array",{isArray:fe});var ic=b.Array.isArray,ac=ic,sc=g(function(t){var e=function(){return void 0===this}();if(e)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:e,propertyIsWritable:function(t,e){var r=Object.getOwnPropertyDescriptor(t,e);return!(r&&!r.writable&&!r.set)}};else{var r={}.hasOwnProperty,n={}.toString,o={}.constructor.prototype,i=function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e};t.exports={isArray:function(t){try{return"[object Array]"===n.call(t)}catch(t){return!1}},keys:i,names:i,defineProperty:function(t,e,r){return t[e]=r.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return o}},isES5:e,propertyIsWritable:function(){return!0}}}}),cc=sc.freeze,uc=sc.defineProperty,lc=sc.getDescriptor,fc=sc.keys,pc=sc.names,hc=sc.getPrototypeOf,dc=sc.isArray,_c=sc.isES5,vc=sc.propertyIsWritable,yc="undefined"==typeof navigator,mc={e:{}},gc,bc="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==m?m:void 0!==m?m:null;function wc(){try{var t=gc;return gc=null,t.apply(this,arguments)}catch(t){return mc.e=t,mc}}function jc(t){return gc=t,wc}var Cc=function(t,e){var r={}.hasOwnProperty;function n(){for(var n in this.constructor=t,this.constructor$=e,e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}return n.prototype=e.prototype,t.prototype=new n,t.prototype};function Ec(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function kc(t){return"function"==typeof t||"object"==typeof t&&null!==t}function Oc(t){return Ec(t)?new Error(Mc(t)):t}function Fc(t,e){var r,n=t.length,o=new Array(n+1);for(r=0;r<n;++r)o[r]=t[r];return o[r]=e,o}function Tc(t,e,r){if(!sc.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var n=Object.getOwnPropertyDescriptor(t,e);return null!=n?null==n.get&&null==n.set?n.value:r:void 0}function Sc(t,e,r){if(Ec(t))return t;var n={value:r,configurable:!0,enumerable:!1,writable:!0};return sc.defineProperty(t,e,n),t}function Pc(t){throw t}var xc=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var r=0;r<t.length;++r)if(t[r]===e)return!0;return!1};if(sc.isES5){var r=Object.getOwnPropertyNames;return function(t){for(var n=[],o=Object.create(null);null!=t&&!e(t);){var i;try{i=r(t)}catch(t){return n}for(var a=0;a<i.length;++a){var s=i[a];if(!o[s]){o[s]=!0;var c=Object.getOwnPropertyDescriptor(t,s);null!=c&&null==c.get&&null==c.set&&n.push(s)}}t=sc.getPrototypeOf(t)}return n}}var n={}.hasOwnProperty;return function(r){if(e(r))return[];var o=[];t:for(var i in r)if(n.call(r,i))o.push(i);else{for(var a=0;a<t.length;++a)if(n.call(t[a],i))continue t;o.push(i)}return o}}(),Rc=/this\s*\.\s*\S+\s*=/;function Ac(t){try{if("function"==typeof t){var e=sc.names(t.prototype),r=sc.isES5&&e.length>1,n=e.length>0&&!(1===e.length&&"constructor"===e[0]),o=Rc.test(t+"")&&sc.names(t).length>0;if(r||n||o)return!0}return!1}catch(t){return!1}}function Nc(t){return t}var Lc=/^[a-z$_][a-z$_0-9]*$/i;function Ic(t){return Lc.test(t)}function Dc(t,e,r){for(var n=new Array(t),o=0;o<t;++o)n[o]=e+o+r;return n}function Mc(t){try{return t+""}catch(t){return"[no string representation]"}}function qc(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function Uc(t){try{Sc(t,"isOperational",!0)}catch(t){}}function Vc(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)}function Hc(t){return qc(t)&&sc.propertyIsWritable(t,"stack")}var Bc="stack"in new Error?function(t){return Hc(t)?t:new Error(Mc(t))}:function(t){if(Hc(t))return t;try{throw new Error(Mc(t))}catch(t){return t}};function zc(t){return{}.toString.call(t)}function Gc(t,e,r){for(var n=sc.names(t),o=0;o<n.length;++o){var i=n[o];if(r(i))try{sc.defineProperty(e,i,sc.getDescriptor(t,i))}catch(t){}}}var $c=function(t){return sc.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var Wc="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,r=[],n=t[Symbol.iterator]();!(e=n.next()).done;)r.push(e.value);return r};$c=function(t){return sc.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?Wc(t):null}}var Qc="undefined"!=typeof process&&"[object process]"===zc(process).toLowerCase(),Xc="undefined"!=typeof process&&void 0!==process.env;function Kc(t){return Xc?process.env[t]:void 0}function Jc(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}}function Zc(t,e){return t.bind(e)}var Yc={isClass:Ac,isIdentifier:Ic,inheritedDataKeys:xc,getDataPropertyOrDefault:Tc,thrower:Pc,isArray:sc.isArray,asArray:$c,notEnumerableProp:Sc,isPrimitive:Ec,isObject:kc,isError:qc,canEvaluate:yc,errorObj:mc,tryCatch:jc,inherits:Cc,withAppended:Fc,maybeWrapAsError:Oc,toFastProperties:Nc,filledRange:Dc,toString:Mc,canAttachTrace:Hc,ensureErrorObject:Bc,originatesFromRejection:Vc,markAsOriginatingFromRejection:Uc,classString:zc,copyDescriptors:Gc,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:Qc,hasEnvVariables:Xc,env:Kc,global:bc,getNativePromise:Jc,domainBind:Zc},tu;Yc.isRecentNode=Yc.isNode&&(process.versions&&process.versions.node?tu=process.versions.node.split(".").map(Number):process.version&&(tu=process.version.split(".").map(Number)),0===tu[0]&&tu[1]>10||tu[0]>0),Yc.isNode&&Yc.toFastProperties(process);try{throw new Error}catch(t){Yc.lastLineError=t}var eu=Yc,ru,nu=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},ou=eu.getNativePromise();if(eu.isNode&&"undefined"==typeof MutationObserver){var iu=m.setImmediate,au=process.nextTick;ru=eu.isRecentNode?function(t){iu.call(m,t)}:function(t){au.call(process,t)}}else if("function"==typeof ou&&"function"==typeof ou.resolve){var su=ou.resolve();ru=function(t){su.then(t)}}else ru="undefined"!=typeof MutationObserver&&("undefined"==typeof window||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var t=document.createElement("div"),e={attributes:!0},r=!1,n=document.createElement("div");new MutationObserver(function(){t.classList.toggle("foo"),r=!1}).observe(n,e);return function(o){var i=new MutationObserver(function(){i.disconnect(),o()});i.observe(t,e),r||(r=!0,n.classList.toggle("foo"))}}():"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:nu;var cu=ru;function uu(t,e,r,n,o){for(var i=0;i<o;++i)r[i+n]=t[i+e],t[i+e]=void 0}function lu(t){this._capacity=t,this._length=0,this._front=0}lu.prototype._willBeOverCapacity=function(t){return this._capacity<t},lu.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},lu.prototype.push=function(t,e,r){var n=this.length()+3;if(this._willBeOverCapacity(n))return this._pushOne(t),this._pushOne(e),void this._pushOne(r);var o=this._front+n-3;this._checkCapacity(n);var i=this._capacity-1;this[o+0&i]=t,this[o+1&i]=e,this[o+2&i]=r,this._length=n},lu.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},lu.prototype.length=function(){return this._length},lu.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},lu.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,uu(this,0,this,e,this._front+this._length&e-1)};var fu=lu,pu;try{throw new Error}catch(t){pu=t}function hu(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new fu(16),this._normalQueue=new fu(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=cu}function du(t,e,r){this._lateQueue.push(t,e,r),this._queueTick()}function _u(t,e,r){this._normalQueue.push(t,e,r),this._queueTick()}function vu(t){this._normalQueue._pushOne(t),this._queueTick()}function yu(t){for(;t.length()>0;)mu(t)}function mu(t){var e=t.shift();if("function"!=typeof e)e._settlePromises();else{var r=t.shift(),n=t.shift();e.call(r,n)}}hu.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},hu.prototype.hasCustomScheduler=function(){return this._customScheduler},hu.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},hu.prototype.disableTrampolineIfNecessary=function(){eu.hasDevTools&&(this._trampolineEnabled=!1)},hu.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},hu.prototype.fatalError=function(t,e){e?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},hu.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},eu.hasDevTools?(hu.prototype.invokeLater=function(t,e,r){this._trampolineEnabled?du.call(this,t,e,r):this._schedule(function(){setTimeout(function(){t.call(e,r)},100)})},hu.prototype.invoke=function(t,e,r){this._trampolineEnabled?_u.call(this,t,e,r):this._schedule(function(){t.call(e,r)})},hu.prototype.settlePromises=function(t){this._trampolineEnabled?vu.call(this,t):this._schedule(function(){t._settlePromises()})}):(hu.prototype.invokeLater=du,hu.prototype.invoke=_u,hu.prototype.settlePromises=vu),hu.prototype._drainQueues=function(){yu(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,yu(this._lateQueue)},hu.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},hu.prototype._reset=function(){this._isTickUsed=!1};var gu=hu,bu=pu;gu.firstLineError=bu;var wu=sc.freeze,ju=eu.inherits,Cu=eu.notEnumerableProp,Eu,ku;function Ou(t,e){function r(n){if(!(this instanceof r))return new r(n);Cu(this,"message","string"==typeof n?n:e),Cu(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return ju(r,Error),r}var Fu=Ou("Warning","warning"),Tu=Ou("CancellationError","cancellation error"),Su=Ou("TimeoutError","timeout error"),Pu=Ou("AggregateError","aggregate error");try{Eu=TypeError,ku=RangeError}catch(t){Eu=Ou("TypeError","type error"),ku=Ou("RangeError","range error")}for(var xu="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),Ru=0;Ru<xu.length;++Ru)"function"==typeof Array.prototype[xu[Ru]]&&(Pu.prototype[xu[Ru]]=Array.prototype[xu[Ru]]);sc.defineProperty(Pu.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),Pu.prototype.isOperational=!0;var Au=0;function Nu(t){if(!(this instanceof Nu))return new Nu(t);Cu(this,"name","OperationalError"),Cu(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(Cu(this,"message",t.message),Cu(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}Pu.prototype.toString=function(){var t=Array(4*Au+1).join(" "),e="\n"+t+"AggregateError of:\n";Au++,t=Array(4*Au+1).join(" ");for(var r=0;r<this.length;++r){for(var n=this[r]===this?"[Circular AggregateError]":this[r]+"",o=n.split("\n"),i=0;i<o.length;++i)o[i]=t+o[i];e+=(n=o.join("\n"))+"\n"}return Au--,e},ju(Nu,Error);var Lu=Error.__BluebirdErrorTypes__;Lu||(Lu=wu({CancellationError:Tu,TimeoutError:Su,OperationalError:Nu,RejectionError:Nu,AggregateError:Pu}),sc.defineProperty(Error,"__BluebirdErrorTypes__",{value:Lu,writable:!1,enumerable:!1,configurable:!1}));var Iu={Error:Error,TypeError:Eu,RangeError:ku,CancellationError:Lu.CancellationError,OperationalError:Lu.OperationalError,TimeoutError:Lu.TimeoutError,AggregateError:Lu.AggregateError,Warning:Fu},Du=function(t,e){var r=eu,n=r.errorObj,o=r.isObject;var i={}.hasOwnProperty;return function(a,s){if(o(a)){if(a instanceof t)return a;var c=function(t){try{return function(t){return t.then}(t)}catch(t){return n.e=t,n}}(a);if(c===n){s&&s._pushContext();var u=t.reject(c.e);return s&&s._popContext(),u}if("function"==typeof c)return function(t){try{return i.call(t,"_promise0")}catch(t){return!1}}(a)?(u=new t(e),a._then(u._fulfill,u._reject,void 0,u,null),u):function(o,i,a){var s=new t(e),c=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var u=!0,l=r.tryCatch(i).call(o,function(t){s&&(s._resolveCallback(t),s=null)},function(t){s&&(s._rejectCallback(t,u,!0),s=null)});return u=!1,s&&l===n&&(s._rejectCallback(l.e,!0,!0),s=null),c}(a,c,s)}return a}},Mu=function(t,e,r,n,o){var i=eu;function a(r){var n=this._promise=new t(e);r instanceof t&&n._propagateFrom(r,3),n._setOnCancel(this),this._values=r,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return i.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function e(o,a){var s=r(this._values,this._promise);if(s instanceof t){var c=(s=s._target())._bitField;if(this._values=s,0==(50397184&c))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,a);if(0==(33554432&c))return 0!=(16777216&c)?this._reject(s._reason()):this._cancel();s=s._value()}if(null!==(s=i.asArray(s)))0!==s.length?this._iterate(s):-5===a?this._resolveEmptyArray():this._resolve(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(a));else{var u=n("expecting an array or an iterable object but got "+i.classString(s)).reason();this._promise._rejectCallback(u,!1)}},a.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var o=this._promise,i=!1,a=null,s=0;s<n;++s){var c=r(e[s],o);a=c instanceof t?(c=c._target())._bitField:null,i?null!==a&&c.suppressUnhandledRejections():null!==a?0==(50397184&a)?(c._proxy(this,s),this._values[s]=c):i=0!=(33554432&a)?this._promiseFulfilled(c._value(),s):0!=(16777216&a)?this._promiseRejected(c._reason(),s):this._promiseCancelled(s):i=this._promiseFulfilled(c,s)}i||o._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},a.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var r=0;r<e.length;++r)e[r]instanceof t&&e[r].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a},qu=function(t){var e=!1,r=[];function n(){this._trace=new n.CapturedTrace(o())}function o(){var t=r.length-1;if(t>=0)return r[t]}return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},n.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,r.push(this._trace))},n.prototype._popContext=function(){if(void 0!==this._trace){var t=r.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},n.CapturedTrace=null,n.create=function(){if(e)return new n},n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var r=t.prototype._pushContext,i=t.prototype._popContext,a=t._peekContext,s=t.prototype._peekContext,c=t.prototype._promiseCreated;n.deactivateLongStackTraces=function(){t.prototype._pushContext=r,t.prototype._popContext=i,t._peekContext=a,t.prototype._peekContext=s,t.prototype._promiseCreated=c,e=!1},e=!0,t.prototype._pushContext=n.prototype._pushContext,t.prototype._popContext=n.prototype._popContext,t._peekContext=t.prototype._peekContext=o,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},n},Uu=function(t,e){var r,n,o,i=t._getDomain,a=t._async,s=Iu.Warning,c=eu,u=sc,l=c.canAttachTrace,f=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,h=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,d=null,_=null,v=!1,y=!(0==c.env("BLUEBIRD_DEBUG")||!c.env("BLUEBIRD_DEBUG")&&"development"!==c.env("NODE_ENV")),m=!(0==c.env("BLUEBIRD_WARNINGS")||!y&&!c.env("BLUEBIRD_WARNINGS")),g=!(0==c.env("BLUEBIRD_LONG_STACK_TRACES")||!y&&!c.env("BLUEBIRD_LONG_STACK_TRACES")),b=0!=c.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(m||!!c.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},t.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var t=this;setTimeout(function(){t._notifyUnhandledRejection()},1)}},t.prototype._notifyUnhandledRejectionIsHandled=function(){B("rejectionHandled",r,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),B("unhandledRejection",n,t,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(t,e,r){return q(t,e,r||this)},t.onPossiblyUnhandledRejection=function(t){var e=i();n="function"==typeof t?null===e?t:c.domainBind(e,t):void 0},t.onUnhandledRejectionHandled=function(t){var e=i();r="function"==typeof t?null===e?t:c.domainBind(e,t):void 0};var w=function(){};t.longStackTraces=function(){if(a.haveItemsQueued()&&!J.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!J.longStackTraces&&G()){var r=t.prototype._captureStackTrace,n=t.prototype._attachExtraTrace,o=t.prototype._dereferenceTrace;J.longStackTraces=!0,w=function(){if(a.haveItemsQueued()&&!J.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=r,t.prototype._attachExtraTrace=n,t.prototype._dereferenceTrace=o,e.deactivateLongStackTraces(),a.enableTrampoline(),J.longStackTraces=!1},t.prototype._captureStackTrace=I,t.prototype._attachExtraTrace=D,t.prototype._dereferenceTrace=M,e.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return J.longStackTraces&&G()};var j=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return c.global.dispatchEvent(t),function(t,e){var r={detail:e,cancelable:!0};u.defineProperty(r,"promise",{value:e.promise}),u.defineProperty(r,"reason",{value:e.reason});var n=new CustomEvent(t.toLowerCase(),r);return!c.global.dispatchEvent(n)}}if("function"==typeof Event){t=new Event("CustomEvent");return c.global.dispatchEvent(t),function(t,e){var r=new Event(t.toLowerCase(),{cancelable:!0});return r.detail=e,u.defineProperty(r,"promise",{value:e.promise}),u.defineProperty(r,"reason",{value:e.reason}),!c.global.dispatchEvent(r)}}return(t=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),c.global.dispatchEvent(t),function(t,e){var r=document.createEvent("CustomEvent");return r.initCustomEvent(t.toLowerCase(),!1,!0,e),!c.global.dispatchEvent(r)}}catch(t){}return function(){return!1}}(),C=c.isNode?function(){return process.emit.apply(process,arguments)}:c.global?function(t){var e="on"+t.toLowerCase(),r=c.global[e];return!!r&&(r.apply(c.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function E(t,e){return{promise:e}}var k={promiseCreated:E,promiseFulfilled:E,promiseRejected:E,promiseResolved:E,promiseCancelled:E,promiseChained:function(t,e,r){return{promise:e,child:r}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,r){return{reason:e,promise:r}},rejectionHandled:E},O=function(t){var e=!1;try{e=C.apply(null,arguments)}catch(t){a.throwLater(t),e=!0}var r=!1;try{r=j(t,k[t].apply(null,arguments))}catch(t){a.throwLater(t),r=!0}return r||e};function F(){return!1}function T(t,e,r){var n=this;try{t(e,r,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+c.toString(t));n._attachCancellationCallback(t)})}catch(t){return t}}function S(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?c.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function P(){return this._onCancelField}function x(t){this._onCancelField=t}function R(){this._cancellationParent=void 0,this._onCancelField=void 0}function A(t,e){if(0!=(1&e)){this._cancellationParent=t;var r=t._branchesRemainingToCancel;void 0===r&&(r=0),t._branchesRemainingToCancel=r+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}t.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&w()),"warnings"in e){var r=e.warnings;J.warnings=!!r,b=J.warnings,c.isObject(r)&&"wForgottenReturn"in r&&(b=!!r.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!J.cancellation){if(a.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=R,t.prototype._propagateFrom=A,t.prototype._onCancel=P,t.prototype._setOnCancel=x,t.prototype._attachCancellationCallback=S,t.prototype._execute=T,N=A,J.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!J.monitoring?(J.monitoring=!0,t.prototype._fireEvent=O):!e.monitoring&&J.monitoring&&(J.monitoring=!1,t.prototype._fireEvent=F)),t},t.prototype._fireEvent=F,t.prototype._execute=function(t,e,r){try{t(e,r)}catch(t){return t}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(t){},t.prototype._attachCancellationCallback=function(t){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._dereferenceTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(t,e){};var N=function(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)};function L(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function I(){this._trace=new X(this._peekContext())}function D(t,e){if(l(t)){var r=this._trace;if(void 0!==r&&e&&(r=r._parent),void 0!==r)r.attachExtraTrace(t);else if(!t.__stackCleaned__){var n=V(t);c.notEnumerableProp(t,"stack",n.message+"\n"+n.stack.join("\n")),c.notEnumerableProp(t,"__stackCleaned__",!0)}}}function M(){this._trace=void 0}function q(e,r,n){if(J.warnings){var o,i=new s(e);if(r)n._attachExtraTrace(i);else if(J.longStackTraces&&(o=t._peekContext()))o.attachExtraTrace(i);else{var a=V(i);i.stack=a.message+"\n"+a.stack.join("\n")}O("warning",i)||H(i,"",!0)}}function U(t){for(var e=[],r=0;r<t.length;++r){var n=t[r],o="    (No stack trace)"===n||d.test(n),i=o&&$(n);o&&!i&&(v&&" "!==n.charAt(0)&&(n="    "+n),e.push(n))}return e}function V(t){var e=t.stack,r=t.toString();return e="string"==typeof e&&e.length>0?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),r=0;r<e.length;++r){var n=e[r];if("    (No stack trace)"===n||d.test(n))break}return r>0&&"SyntaxError"!=t.name&&(e=e.slice(r)),e}(t):["    (No stack trace)"],{message:r,stack:"SyntaxError"==t.name?e:U(e)}}function H(t,e,r){if("undefined"!=typeof console){var n;if(c.isObject(t)){var i=t.stack;n=e+_(i,t)}else n=e+String(t);"function"==typeof o?o(n,r):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(n)}}function B(t,e,r,n){var o=!1;try{"function"==typeof e&&(o=!0,"rejectionHandled"===t?e(n):e(r,n))}catch(t){a.throwLater(t)}"unhandledRejection"===t?O(t,r,n)||o||H(r,"Unhandled rejection "):O(t,n)}function z(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():c.toString(t);if(/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+function(t){if(t.length<41)return t;return t.substr(0,38)+"..."}(e)+">, no stack trace)"}function G(){return"function"==typeof K}var $=function(){return!1},W=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function Q(t){var e=t.match(W);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function X(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);K(this,X),e>32&&this.uncycle()}c.inherits(X,Error),e.CapturedTrace=X,X.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],r={},n=0,o=this;void 0!==o;++n)e.push(o),o=o._parent;for(n=(t=this._length=n)-1;n>=0;--n){var i=e[n].stack;void 0===r[i]&&(r[i]=n)}for(n=0;n<t;++n){var a=r[e[n].stack];if(void 0!==a&&a!==n){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[n]._parent=void 0,e[n]._length=1;var s=n>0?e[n-1]:this;a<t-1?(s._parent=e[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var c=s._length+1,u=n-2;u>=0;--u)e[u]._length=c,c++;return}}}},X.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=V(t),r=e.message,n=[e.stack],o=this;void 0!==o;)n.push(U(o.stack.split("\n"))),o=o._parent;!function(t){for(var e=t[0],r=1;r<t.length;++r){for(var n=t[r],o=e.length-1,i=e[o],a=-1,s=n.length-1;s>=0;--s)if(n[s]===i){a=s;break}for(s=a;s>=0;--s){var c=n[s];if(e[o]!==c)break;e.pop(),o--}e=n}}(n),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(n),c.notEnumerableProp(t,"stack",function(t,e){for(var r=0;r<e.length-1;++r)e[r].push("From previous event:"),e[r]=e[r].join("\n");return r<e.length&&(e[r]=e[r].join("\n")),t+"\n"+e.join("\n")}(r,n)),c.notEnumerableProp(t,"__stackCleaned__",!0)}};var K=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():z(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,d=t,_=e;var r=Error.captureStackTrace;return $=function(t){return f.test(t)},function(t,e){Error.stackTraceLimit+=6,r(t,e),Error.stackTraceLimit-=6}}var n,o=new Error;if("string"==typeof o.stack&&o.stack.split("\n")[0].indexOf("stackDetection@")>=0)return d=/@/,_=e,v=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(t){n="stack"in t}return"stack"in o||!n||"number"!=typeof Error.stackTraceLimit?(_=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?z(e):e.toString()},null):(d=t,_=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(o=function(t){console.warn(t)},c.isNode&&process.stderr.isTTY?o=function(t,e){var r=e?"[33m":"[31m";console.warn(r+t+"[0m\n")}:c.isNode||"string"!=typeof(new Error).stack||(o=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var J={warnings:m,longStackTraces:!1,cancellation:!1,monitoring:!1};return g&&t.longStackTraces(),{longStackTraces:function(){return J.longStackTraces},warnings:function(){return J.warnings},cancellation:function(){return J.cancellation},monitoring:function(){return J.monitoring},propagateFromFunction:function(){return N},boundValueFunction:function(){return L},checkForgottenReturns:function(t,e,r,n,o){if(void 0===t&&null!==e&&b){if(void 0!==o&&o._returnedNonUndefined())return;if(0==(65535&n._bitField))return;r&&(r+=" ");var i="",a="";if(e._trace){for(var s=e._trace.stack.split("\n"),c=U(s),u=c.length-1;u>=0;--u){var l=c[u];if(!p.test(l)){var f=l.match(h);f&&(i="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(c.length>0){var d=c[0];for(u=0;u<s.length;++u)if(s[u]===d){u>0&&(a="\n"+s[u-1]);break}}}var _="a promise was created in a "+r+"handler "+i+"but was not returned from it, see http://goo.gl/rRqMUw"+a;n._warn(_,!0,e)}},setBounds:function(t,e){if(G()){for(var r,n,o=(t.stack||"").split("\n"),i=(e.stack||"").split("\n"),a=-1,s=-1,c=0;c<o.length;++c)if(u=Q(o[c])){r=u.fileName,a=u.line;break}for(c=0;c<i.length;++c){var u;if(u=Q(i[c])){n=u.fileName,s=u.line;break}}a<0||s<0||!r||!n||r!==n||a>=s||($=function(t){if(f.test(t))return!0;var e=Q(t);return!!(e&&e.fileName===r&&a<=e.line&&e.line<=s)})}},warn:q,deprecated:function(t,e){var r=t+" is deprecated and will be removed in a future version.";return e&&(r+=" Use "+e+" instead."),q(r)},CapturedTrace:X,fireDomEvent:j,fireGlobalEvent:C}},Vu=function(t){var e=eu,r=sc.keys,n=e.tryCatch,o=e.errorObj;return function(i,a,s){return function(c){var u=s._boundValue();t:for(var l=0;l<i.length;++l){var f=i[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(c instanceof f)return n(a).call(u,c)}else if("function"==typeof f){var p=n(f).call(u,c);if(p===o)return p;if(p)return n(a).call(u,c)}else if(e.isObject(c)){for(var h=r(f),d=0;d<h.length;++d){var _=h[d];if(f[_]!=c[_])continue t}return n(a).call(u,c)}}return t}}},Hu=function(t,e,r){var n=eu,o=t.CancellationError,i=n.errorObj,a=Vu(r);function s(t,e,r){this.promise=t,this.type=e,this.handler=r,this.called=!1,this.cancelPromise=null}function c(t){this.finallyHandler=t}function u(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function l(){return p.call(this,this.promise._target()._settledValue())}function f(t){if(!u(this,t))return i.e=t,i}function p(n){var a=this.promise,s=this.handler;if(!this.called){this.called=!0;var p=this.isFinallyHandler()?s.call(a._boundValue()):s.call(a._boundValue(),n);if(p===r)return p;if(void 0!==p){a._setReturnedNonUndefined();var h=e(p,a);if(h instanceof t){if(null!=this.cancelPromise){if(h._isCancelled()){var d=new o("late cancellation observer");return a._attachExtraTrace(d),i.e=d,i}h.isPending()&&h._attachCancellationCallback(new c(this))}return h._then(l,f,void 0,this,void 0)}}}return a.isRejected()?(u(this),i.e=n,i):(u(this),n)}return s.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){u(this.finallyHandler)},t.prototype._passThrough=function(t,e,r,n){return"function"!=typeof t?this.then():this._then(r,n,void 0,new s(this,e,t),void 0)},t.prototype.lastly=t.prototype.finally=function(t){return this._passThrough(t,0,p,p)},t.prototype.tap=function(t){return this._passThrough(t,1,p)},t.prototype.tapCatch=function(e){var r=arguments.length;if(1===r)return this._passThrough(e,1,void 0,p);var o,i=new Array(r-1),s=0;for(o=0;o<r-1;++o){var c=arguments[o];if(!n.isObject(c))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+n.classString(c)));i[s++]=c}i.length=s;var u=arguments[o];return this._passThrough(a(i,u,this),1,void 0,p)},s},Bu=eu.maybeWrapAsError,zu=Iu.OperationalError;function Gu(t){return t instanceof Error&&sc.getPrototypeOf(t)===Error.prototype}var $u=/^(?:name|message|stack|cause)$/;function Wu(t){var e;if(Gu(t)){(e=new zu(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var r=sc.keys(t),n=0;n<r.length;++n){var o=r[n];$u.test(o)||(e[o]=t[o])}return e}return eu.markAsOriginatingFromRejection(t),t}function Qu(t,e){return function(r,n){if(null!==t){if(r){var o=Wu(Bu(r));t._attachExtraTrace(o),t._reject(o)}else if(e){for(var i=arguments.length,a=new Array(Math.max(i-1,0)),s=1;s<i;++s)a[s-1]=arguments[s];t._fulfill(a)}else t._fulfill(n);t=null}}}var Xu=Qu,Ku=function(t,e,r,n,o){var i=eu,a=i.tryCatch;t.method=function(r){if("function"!=typeof r)throw new t.TypeError("expecting a function but got "+i.classString(r));return function(){var n=new t(e);n._captureStackTrace(),n._pushContext();var i=a(r).apply(this,arguments),s=n._popContext();return o.checkForgottenReturns(i,s,"Promise.method",n),n._resolveFromSyncValue(i),n}},t.attempt=t.try=function(r){if("function"!=typeof r)return n("expecting a function but got "+i.classString(r));var s,c=new t(e);if(c._captureStackTrace(),c._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var u=arguments[1],l=arguments[2];s=i.isArray(u)?a(r).apply(l,u):a(r).call(l,u)}else s=a(r)();var f=c._popContext();return o.checkForgottenReturns(s,f,"Promise.try",c),c._resolveFromSyncValue(s),c},t.prototype._resolveFromSyncValue=function(t){t===i.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}},Ju=function(t,e,r,n){var o=!1,i=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(i,i,null,this,t)},s=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},c=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(i){o||(o=!0,t.prototype._propagateFrom=n.propagateFromFunction(),t.prototype._boundValue=n.boundValueFunction());var u=r(i),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(u),u instanceof t){var p={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:u};f._then(e,a,void 0,l,p),u._then(s,c,void 0,l,p),l._setOnCancel(u)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,r){return t.resolve(r).bind(e)}},Zu=function(t,e,r,n){var o=eu,i=o.tryCatch,a=o.errorObj,s=t._async;t.prototype.break=t.prototype.cancel=function(){if(!n.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var r=t._cancellationParent;if(null==r||!r._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=r}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),s.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var r=0;r<t.length;++r)this._doInvokeOnCancel(t[r],e);else if(void 0!==t)if("function"==typeof t){if(!e){var n=i(t).call(this._boundValue());n===a&&(this._attachExtraTrace(n.e),s.throwLater(n.e))}}else t._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),s.invoke(this._doInvokeOnCancel,this,t)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}},Yu=function(t){function e(){return this.value}function r(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r instanceof t&&r.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(r,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:t},void 0);var e=arguments[1],n=function(){throw e};return this.caught(t,n)},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof t&&r.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:r},void 0);var n=arguments[1];n instanceof t&&n.suppressUnhandledRejections();var o=function(){return n};return this.caught(r,o)}},tl=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var r=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},o=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},i=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return i.call(this._target())},t.prototype.isFulfilled=function(){return o.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return r.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),n.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e},el=function(t,e,r,n,o,i){var a,s=eu,c=s.canEvaluate,u=s.tryCatch,l=s.errorObj;if(c){for(var f=function(t){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,t))},p=function(t){return new Function("promise","holder","                           \n            'use strict';                                                    \n            holder.pIndex = promise;                                         \n            ".replace(/Index/g,t))},h=function(e){for(var r=new Array(e),n=0;n<r.length;++n)r[n]="this.p"+(n+1);var i=r.join(" = ")+" = null;",a="var promise;\n"+r.map(function(t){return"                                                         \n                promise = "+t+";                                      \n                if (promise instanceof Promise) {                            \n                    promise.cancel();                                        \n                }                                                            \n            "}).join("\n"),s=r.join(", "),c="Holder$"+e,f="return function(tryCatch, errorObj, Promise, async) {    \n            'use strict';                                                    \n            function [TheName](fn) {                                         \n                [TheProperties]                                              \n                this.fn = fn;                                                \n                this.asyncNeeded = true;                                     \n                this.now = 0;                                                \n            }                                                                \n                                                                             \n            [TheName].prototype._callFunction = function(promise) {          \n                promise._pushContext();                                      \n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n                promise._popContext();                                       \n                if (ret === errorObj) {                                      \n                    promise._rejectCallback(ret.e, false);                   \n                } else {                                                     \n                    promise._resolveCallback(ret);                           \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype.checkFulfillment = function(promise) {       \n                var now = ++this.now;                                        \n                if (now === [TheTotal]) {                                    \n                    if (this.asyncNeeded) {                                  \n                        async.invoke(this._callFunction, this, promise);     \n                    } else {                                                 \n                        this._callFunction(promise);                         \n                    }                                                        \n                                                                             \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype._resultCancelled = function() {              \n                [CancellationCode]                                           \n            };                                                               \n                                                                             \n            return [TheName];                                                \n        }(tryCatch, errorObj, Promise, async);                               \n        ";return f=f.replace(/\[TheName\]/g,c).replace(/\[TheTotal\]/g,e).replace(/\[ThePassedArguments\]/g,s).replace(/\[TheProperties\]/g,i).replace(/\[CancellationCode\]/g,a),new Function("tryCatch","errorObj","Promise","async",f)(u,l,t,o)},d=[],_=[],v=[],y=0;y<8;++y)d.push(h(y+1)),_.push(f(y+1)),v.push(p(y+1));a=function(t){this._reject(t)}}t.join=function(){var o,u=arguments.length-1;if(u>0&&"function"==typeof arguments[u]&&(o=arguments[u],u<=8&&c)){(C=new t(n))._captureStackTrace();for(var l=d[u-1],f=new l(o),p=_,h=0;h<u;++h){var y=r(arguments[h],C);if(y instanceof t){var m=(y=y._target())._bitField;0==(50397184&m)?(y._then(p[h],a,void 0,C,f),v[h](y,f),f.asyncNeeded=!1):0!=(33554432&m)?p[h].call(C,y._value(),f):0!=(16777216&m)?C._reject(y._reason()):C._cancel()}else p[h].call(C,y,f)}if(!C._isFateSealed()){if(f.asyncNeeded){var g=i();null!==g&&(f.fn=s.domainBind(g,f.fn))}C._setAsyncGuaranteed(),C._setOnCancel(f)}return C}for(var b=arguments.length,w=new Array(b),j=0;j<b;++j)w[j]=arguments[j];o&&w.pop();var C=new e(w).promise();return void 0!==o?C.spread(o):C}},rl=Object.create;if(rl){var nl=rl(null),ol=rl(null);nl[" size"]=ol[" size"]=0}var il=function(t){var e,r,n=eu,o=n.canEvaluate,i=n.isIdentifier,a=function(t){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,t))(u)},s=function(t){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",t))},c=function(t,e,r){var n=r[t];if("function"!=typeof n){if(!i(t))return null;if(n=e(t),r[t]=n,r[" size"]++,r[" size"]>512){for(var o=Object.keys(r),a=0;a<256;++a)delete r[o[a]];r[" size"]=o.length-256}}return n};function u(e,r){var o;if(null!=e&&(o=e[r]),"function"!=typeof o){var i="Object "+n.classString(e)+" has no method '"+n.toString(r)+"'";throw new t.TypeError(i)}return o}function l(t){return u(t,this.pop()).apply(t,this)}function f(t){return t[this]}function p(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}e=function(t){return c(t,a,nl)},r=function(t){return c(t,s,ol)},t.prototype.call=function(t){for(var r=arguments.length,n=new Array(Math.max(r-1,0)),i=1;i<r;++i)n[i-1]=arguments[i];if(o){var a=e(t);if(null!==a)return this._then(a,void 0,void 0,n,void 0)}return n.push(t),this._then(l,void 0,void 0,n,void 0)},t.prototype.get=function(t){var e;if("number"==typeof t)e=p;else if(o){var n=r(t);e=null!==n?n:f}else e=f;return this._then(e,void 0,void 0,t,void 0)}},al=function(t,e,r,n,o,i){var a=Iu.TypeError,s=eu,c=s.errorObj,u=s.tryCatch,l=[];function f(e,n,o,a){if(i.cancellation()){var s=new t(r),c=this._finallyPromise=new t(r);this._promise=s.lastly(function(){return c}),s._captureStackTrace(),s._setOnCancel(this)}else{(this._promise=new t(r))._captureStackTrace()}this._stack=a,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof o?[o].concat(l):l,this._yieldedPromise=null,this._cancellationPhase=!1}s.inherits(f,o),f.prototype._isResolved=function(){return null===this._promise},f.prototype._cleanup=function(){this._promise=this._generator=null,i.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},f.prototype._promiseCancelled=function(){if(!this._isResolved()){var e;if(void 0!==this._generator.return)this._promise._pushContext(),e=u(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),e=u(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},f.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=u(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},f.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=u(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},f.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},f.prototype.promise=function(){return this._promise},f.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},f.prototype._continue=function(e){var r=this._promise;if(e===c)return this._cleanup(),this._cancellationPhase?r.cancel():r._rejectCallback(e.e,!1);var o=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?r.cancel():r._resolveCallback(o);var i=n(o,this._promise);if(i instanceof t||null!==(i=function(e,r,o){for(var i=0;i<r.length;++i){o._pushContext();var a=u(r[i])(e);if(o._popContext(),a===c){o._pushContext();var s=t.reject(c.e);return o._popContext(),s}var l=n(a,o);if(l instanceof t)return l}return null}(i,this._yieldHandlers,this._promise))){var s=(i=i._target())._bitField;0==(50397184&s)?(this._yieldedPromise=i,i._proxy(this,null)):0!=(33554432&s)?t._async.invoke(this._promiseFulfilled,this,i._value()):0!=(16777216&s)?t._async.invoke(this._promiseRejected,this,i._reason()):this._promiseCancelled()}else this._promiseRejected(new a("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(o))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},t.coroutine=function(t,e){if("function"!=typeof t)throw new a("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=Object(e).yieldHandler,n=f,o=(new Error).stack;return function(){var e=t.apply(this,arguments),i=new n(void 0,void 0,r,o),a=i.promise();return i._generator=e,i._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new a("expecting a function but got "+s.classString(t));l.push(t)},t.spawn=function(r){if(i.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof r)return e("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=new f(r,this),o=n.promise();return n._run(t.spawn),o}},sl=function(t,e,r,n,o,i){var a=t._getDomain,s=eu,c=s.tryCatch,u=s.errorObj,l=t._async;function f(t,e,r,n){this.constructor$(t),this._promise._captureStackTrace();var i=a();this._callback=null===i?e:s.domainBind(i,e),this._preservedValues=n===o?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=[],l.invoke(this._asyncInit,this,void 0)}function p(e,n,o,i){if("function"!=typeof n)return r("expecting a function but got "+s.classString(n));var a=0;if(void 0!==o){if("object"!=typeof o||null===o)return t.reject(new TypeError("options argument must be an object but it is "+s.classString(o)));if("number"!=typeof o.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+s.classString(o.concurrency)));a=o.concurrency}return new f(e,n,a="number"==typeof a&&isFinite(a)&&a>=1?a:0,i).promise()}s.inherits(f,e),f.prototype._asyncInit=function(){this._init$(void 0,-2)},f.prototype._init=function(){},f.prototype._promiseFulfilled=function(e,r){var o=this._values,a=this.length(),s=this._preservedValues,l=this._limit;if(r<0){if(o[r=-1*r-1]=e,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return o[r]=e,this._queue.push(r),!1;null!==s&&(s[r]=e);var f=this._promise,p=this._callback,h=f._boundValue();f._pushContext();var d=c(p).call(h,e,r,a),_=f._popContext();if(i.checkForgottenReturns(d,_,null!==s?"Promise.filter":"Promise.map",f),d===u)return this._reject(d.e),!0;var v=n(d,this._promise);if(v instanceof t){var y=(v=v._target())._bitField;if(0==(50397184&y))return l>=1&&this._inFlight++,o[r]=v,v._proxy(this,-1*(r+1)),!1;if(0==(33554432&y))return 0!=(16777216&y)?(this._reject(v._reason()),!0):(this._cancel(),!0);d=v._value()}o[r]=d}return++this._totalResolved>=a&&(null!==s?this._filter(o,s):this._resolve(o),!0)},f.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,r=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var n=t.pop();this._promiseFulfilled(r[n],n)}},f.prototype._filter=function(t,e){for(var r=e.length,n=new Array(r),o=0,i=0;i<r;++i)t[i]&&(n[o++]=e[i]);n.length=o,this._resolve(n)},f.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(t,e){return p(this,t,e,null)},t.map=function(t,e,r,n){return p(t,e,r,n)}},cl=function(t){var e=eu,r=t._async,n=e.tryCatch,o=e.errorObj;function i(t,i){if(!e.isArray(t))return a.call(this,t,i);var s=n(i).apply(this._boundValue(),[null].concat(t));s===o&&r.throwLater(s.e)}function a(t,e){var i=this._boundValue(),a=void 0===t?n(e).call(i,null):n(e).call(i,null,t);a===o&&r.throwLater(a.e)}function s(t,e){if(!t){var i=new Error(t+"");i.cause=t,t=i}var a=n(e).call(this._boundValue(),t);a===o&&r.throwLater(a.e)}t.prototype.asCallback=t.prototype.nodeify=function(t,e){if("function"==typeof t){var r=a;void 0!==e&&Object(e).spread&&(r=i),this._then(r,s,void 0,this,t)}return this}},ul=function(t,e){var r={},n=eu,o=Xu,i=n.withAppended,a=n.maybeWrapAsError,s=n.canEvaluate,c=Iu.TypeError,u={__isPromisified__:!0},l=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),f=function(t){return n.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function p(t){return!l.test(t)}function h(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function d(t,e,r){var o=n.getDataPropertyOrDefault(t,e+r,u);return!!o&&h(o)}function _(t,e,r,o){for(var i=n.inheritedDataKeys(t),a=[],s=0;s<i.length;++s){var u=i[s],l=t[u],p=o===f||f(u);"function"!=typeof l||h(l)||d(t,u,e)||!o(u,l,t,p)||a.push(u,l)}return function(t,e,r){for(var n=0;n<t.length;n+=2){var o=t[n];if(r.test(o))for(var i=o.replace(r,""),a=0;a<t.length;a+=2)if(t[a]===i)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}(a,e,r),a}var v=function(t){return t.replace(/([$])/,"\\$")},y=function(t){return n.filledRange(t,"_arg","")};var m=s?function(s,c,u,l,f,p){var h=Math.max(0,function(t){return"number"==typeof t.length?Math.max(Math.min(t.length,1024),0):0}(l)-1),d=function(t){for(var e=[t],r=Math.max(0,t-1-3),n=t-1;n>=r;--n)e.push(n);for(n=t+1;n<=3;++n)e.push(n);return e}(h),_="string"==typeof s||c===r;var v="string"==typeof s?"this != null ? this['"+s+"'] : fn":"fn",m="'use strict';                                                \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise, "+p+");   \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n    ".replace("[CodeForSwitchCase]",function(){for(var t,e,r,n="",o=0;o<d.length;++o)n+="case "+d[o]+":"+(t=d[o],e=void 0,r=void 0,e=y(t).join(", "),r=t>0?", ":"",(_?"ret = callback.call(this, {{args}}, nodeback); break;\n":void 0===c?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n").replace("{{args}}",e).replace(", ",r));return n+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",_?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n")}()).replace("[GetFunctionCode]",v);return m=m.replace("Parameters",function(t){return n.filledRange(Math.max(t,3),"_arg","")}(h)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",m)(t,l,c,i,a,o,n.tryCatch,n.errorObj,n.notEnumerableProp,e)}:function(s,c,u,l,f,p){var h=function(){return this}(),d=s;function _(){var n=c;c===r&&(n=this);var u=new t(e);u._captureStackTrace();var l="string"==typeof d&&this!==h?this[d]:s,f=o(u,p);try{l.apply(n,i(arguments,f))}catch(t){u._rejectCallback(a(t),!0,!0)}return u._isFateSealed()||u._setAsyncGuaranteed(),u}return"string"==typeof d&&(s=l),n.notEnumerableProp(_,"__isPromisified__",!0),_};function g(t,e,o,i,a){for(var s=new RegExp(v(e)+"$"),c=_(t,e,s,o),u=0,l=c.length;u<l;u+=2){var f=c[u],p=c[u+1],h=f+e;if(i===m)t[h]=m(f,r,f,p,e,a);else{var d=i(p,function(){return m(f,r,f,p,e,a)});n.notEnumerableProp(d,"__isPromisified__",!0),t[h]=d}}return n.toFastProperties(t),t}t.promisify=function(t,e){if("function"!=typeof t)throw new c("expecting a function but got "+n.classString(t));if(h(t))return t;var o=function(t,e,r){return m(t,e,void 0,t,null,r)}(t,void 0===(e=Object(e)).context?r:e.context,!!e.multiArgs);return n.copyDescriptors(t,o,p),o},t.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var r=!!(e=Object(e)).multiArgs,o=e.suffix;"string"!=typeof o&&(o="Async");var i=e.filter;"function"!=typeof i&&(i=f);var a=e.promisifier;if("function"!=typeof a&&(a=m),!n.isIdentifier(o))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=n.inheritedDataKeys(t),u=0;u<s.length;++u){var l=t[s[u]];"constructor"!==s[u]&&n.isClass(l)&&(g(l.prototype,o,i,a,r),g(l,o,i,a,r))}return g(t,o,i,a,r)}},ll=function(t,e,r,n){var o,i=eu,a=i.isObject,s=sc;"function"==typeof Map&&(o=Map);var c=function(){var t=0,e=0;function r(r,n){this[t]=r,this[t+e]=n,t++}return function(n){e=n.size,t=0;var o=new Array(2*n.size);return n.forEach(r,o),o}}();function u(t){var e,r=!1;if(void 0!==o&&t instanceof o)e=c(t),r=!0;else{var n=s.keys(t),i=n.length;e=new Array(2*i);for(var a=0;a<i;++a){var u=n[a];e[a]=t[u],e[a+i]=u}}this.constructor$(e),this._isMap=r,this._init$(void 0,r?-6:-3)}function l(e){var o,i=r(e);return a(i)?(o=i instanceof t?i._then(t.props,void 0,void 0,void 0,void 0):new u(i).promise(),i instanceof t&&o._propagateFrom(i,2),o):n("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}i.inherits(u,e),u.prototype._init=function(){},u.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var r;if(this._isMap)r=function(t){for(var e=new o,r=t.length/2|0,n=0;n<r;++n){var i=t[r+n],a=t[n];e.set(i,a)}return e}(this._values);else{r={};for(var n=this.length(),i=0,a=this.length();i<a;++i)r[this._values[i+n]]=this._values[i]}return this._resolve(r),!0}return!1},u.prototype.shouldCopyValues=function(){return!1},u.prototype.getActualLength=function(t){return t>>1},t.prototype.props=function(){return l(this)},t.props=function(t){return l(t)}},fl=function(t,e,r,n){var o=eu,i=function(t){return t.then(function(e){return a(e,t)})};function a(a,s){var c=r(a);if(c instanceof t)return i(c);if(null===(a=o.asArray(a)))return n("expecting an array or an iterable object but got "+o.classString(a));var u=new t(e);void 0!==s&&u._propagateFrom(s,3);for(var l=u._fulfill,f=u._reject,p=0,h=a.length;p<h;++p){var d=a[p];(void 0!==d||p in a)&&t.cast(d)._then(l,f,void 0,u,null)}return u}t.race=function(t){return a(t,void 0)},t.prototype.race=function(){return a(this,void 0)}},pl=function(t,e,r,n,o,i){var a=t._getDomain,s=eu,c=s.tryCatch;function u(e,r,n,i){this.constructor$(e);var c=a();this._fn=null===c?r:s.domainBind(c,r),void 0!==n&&(n=t.resolve(n))._attachCancellationCallback(this),this._initialValue=n,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function l(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function f(t,e,n,o){return"function"!=typeof e?r("expecting a function but got "+s.classString(e)):new u(t,e,n,o).promise()}function p(e){this.accum=e,this.array._gotAccum(e);var r=n(this.value,this.array._promise);return r instanceof t?(this.array._currentCancellable=r,r._then(h,void 0,void 0,this,void 0)):h.call(this,r)}function h(e){var r,n=this.array,o=n._promise,a=c(n._fn);o._pushContext(),(r=void 0!==n._eachValues?a.call(o._boundValue(),e,this.index,this.length):a.call(o._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(n._currentCancellable=r);var s=o._popContext();return i.checkForgottenReturns(r,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",o),r}s.inherits(u,e),u.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},u.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},u.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},u.prototype._iterate=function(e){var r,n;this._values=e;var o=e.length;if(void 0!==this._initialValue?(r=this._initialValue,n=0):(r=t.resolve(e[0]),n=1),this._currentCancellable=r,!r.isRejected())for(;n<o;++n){var i={accum:null,value:e[n],index:n,length:o,array:this};r=r._then(p,void 0,void 0,i,void 0)}void 0!==this._eachValues&&(r=r._then(this._eachComplete,void 0,void 0,this,void 0)),r._then(l,l,void 0,r,this)},t.prototype.reduce=function(t,e){return f(this,t,e,null)},t.reduce=function(t,e,r,n){return f(t,e,r,n)}},hl=function(t,e,r){var n=t.PromiseInspection;function o(t){this.constructor$(t)}eu.inherits(o,e),o.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},o.prototype._promiseFulfilled=function(t,e){var r=new n;return r._bitField=33554432,r._settledValueField=t,this._promiseResolved(e,r)},o.prototype._promiseRejected=function(t,e){var r=new n;return r._bitField=16777216,r._settledValueField=t,this._promiseResolved(e,r)},t.settle=function(t){return r.deprecated(".settle()",".reflect()"),new o(t).promise()},t.prototype.settle=function(){return t.settle(this)}},dl=function(t,e,r){var n=eu,o=Iu.RangeError,i=Iu.AggregateError,a=n.isArray,s={};function c(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function u(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new c(t),o=n.promise();return n.setHowMany(e),n.init(),o}n.inherits(c,e),c.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var t=a(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(t){this._howMany=t},c.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},c.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(s),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new i,e=this.length();e<this._values.length;++e)this._values[e]!==s&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(t){this._values.push(t)},c.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new o(e)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(t,e){return u(t,e)},t.prototype.some=function(t){return u(this,t)},t._SomePromiseArray=c},_l=function(t,e,r){var n=eu,o=t.TimeoutError;function i(t){this.handle=t}i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(t){return s(+this).thenReturn(t)},s=t.delay=function(n,o){var s,c;return void 0!==o?(s=t.resolve(o)._then(a,null,null,n,void 0),r.cancellation()&&o instanceof t&&s._setOnCancel(o)):(s=new t(e),c=setTimeout(function(){s._fulfill()},+n),r.cancellation()&&s._setOnCancel(new i(c)),s._captureStackTrace()),s._setAsyncGuaranteed(),s};t.prototype.delay=function(t){return s(t,this)};function c(t){return clearTimeout(this.handle),t}function u(t){throw clearTimeout(this.handle),t}t.prototype.timeout=function(t,e){var a,s;t=+t;var l=new i(setTimeout(function(){a.isPending()&&function(t,e,r){var i;i="string"!=typeof e?e instanceof Error?e:new o("operation timed out"):new o(e),n.markAsOriginatingFromRejection(i),t._attachExtraTrace(i),t._reject(i),null!=r&&r.cancel()}(a,e,s)},t));return r.cancellation()?(s=this.then(),(a=s._then(c,u,void 0,l,void 0))._setOnCancel(l)):a=this._then(c,u,void 0,l,void 0),a}},vl=function(t,e,r,n,o,i){var a=eu,s=Iu.TypeError,c=eu.inherits,u=a.errorObj,l=a.tryCatch,f={};function p(t){setTimeout(function(){throw t},0)}function h(e,n){var i=0,a=e.length,s=new t(o);return function o(){if(i>=a)return s._fulfill();var c=function(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}(e[i++]);if(c instanceof t&&c._isDisposable()){try{c=r(c._getDisposer().tryDispose(n),e.promise)}catch(t){return p(t)}if(c instanceof t)return c._then(o,p,null,null,null)}o()}(),s}function d(t,e,r){this._data=t,this._promise=e,this._context=r}function _(t,e,r){this.constructor$(t,e,r)}function v(t){return d.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function y(t){this.length=t,this.promise=null,this[t-1]=null}d.prototype.data=function(){return this._data},d.prototype.promise=function(){return this._promise},d.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():f},d.prototype.tryDispose=function(t){var e=this.resource(),r=this._context;void 0!==r&&r._pushContext();var n=e!==f?this.doDispose(e,t):null;return void 0!==r&&r._popContext(),this._promise._unsetDisposable(),this._data=null,n},d.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},c(_,d),_.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},y.prototype._resultCancelled=function(){for(var e=this.length,r=0;r<e;++r){var n=this[r];n instanceof t&&n.cancel()}},t.using=function(){var n=arguments.length;if(n<2)return e("you must pass at least 2 arguments to Promise.using");var o,s=arguments[n-1];if("function"!=typeof s)return e("expecting a function but got "+a.classString(s));var c=!0;2===n&&Array.isArray(arguments[0])?(n=(o=arguments[0]).length,c=!1):(o=arguments,n--);for(var f=new y(n),p=0;p<n;++p){var _=o[p];if(d.isDisposer(_)){var m=_;(_=_.promise())._setDisposable(m)}else{var g=r(_);g instanceof t&&(_=g._then(v,null,null,{resources:f,index:p},void 0))}f[p]=_}var b=new Array(f.length);for(p=0;p<b.length;++p)b[p]=t.resolve(f[p]).reflect();var w=t.all(b).then(function(t){for(var e=0;e<t.length;++e){var r=t[e];if(r.isRejected())return u.e=r.error(),u;if(!r.isFulfilled())return void w.cancel();t[e]=r.value()}j._pushContext(),s=l(s);var n=c?s.apply(void 0,t):s(t),o=j._popContext();return i.checkForgottenReturns(n,o,"Promise.using",j),n}),j=w.lastly(function(){var e=new t.PromiseInspection(w);return h(f,e)});return f.promise=j,j._setOnCancel(f),j},t.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(t){if("function"==typeof t)return new _(t,this,n());throw new s}},yl=function(t){var e=t._SomePromiseArray;function r(t){var r=new e(t),n=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),n}t.any=function(t){return r(t)},t.prototype.any=function(){return r(this)}},ml=function(t,e){var r=t.reduce,n=t.all;function o(){return n(this)}t.prototype.each=function(t){return r(this,t,e,0)._then(o,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return r(this,t,e,e)},t.each=function(t,n){return r(t,n,e,0)._then(o,void 0,void 0,t,void 0)},t.mapSeries=function(t,n){return r(t,n,e,e)}},gl=function(t,e){var r=t.map;t.prototype.filter=function(t,n){return r(this,t,n,e)},t.filter=function(t,n,o){return r(t,n,o,e)}},bl=g(function(t){t.exports=function(){var e=function(){return new p("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new F.PromiseInspection(this._target())},n=function(t){return F.reject(new p(t))};function o(){}var i,a={},s=eu;i=s.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},s.notEnumerableProp(F,"_getDomain",i);var c=sc,u=gu,l=new u;c.defineProperty(F,"_async",{value:l});var f=Iu,p=F.TypeError=f.TypeError;F.RangeError=f.RangeError;var h=F.CancellationError=f.CancellationError;F.TimeoutError=f.TimeoutError,F.OperationalError=f.OperationalError,F.RejectionError=f.OperationalError,F.AggregateError=f.AggregateError;var d=function(){},_={},v={},y=Du(F,d),m=Mu(F,d,y,n,o),g=qu(F),b=g.create,w=Uu(F,g),j=Hu(F,y,v),C=Vu(v),E=Xu,k=s.errorObj,O=s.tryCatch;function F(t){t!==d&&function(t,e){if(null==t||t.constructor!==F)throw new p("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new p("expecting a function but got "+s.classString(e))}(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function T(t){this.promise._resolveCallback(t)}function S(t){this.promise._rejectCallback(t,!1)}function P(t){var e=new F(d);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}return F.prototype.toString=function(){return"[object Promise]"},F.prototype.caught=F.prototype.catch=function(t){var e=arguments.length;if(e>1){var r,o=new Array(e-1),i=0;for(r=0;r<e-1;++r){var a=arguments[r];if(!s.isObject(a))return n("Catch statement predicate: expecting an object but got "+s.classString(a));o[i++]=a}if(o.length=i,"function"!=typeof(t=arguments[r]))throw new p("The last argument to .catch() must be a function, got "+s.toString(t));return this.then(void 0,C(o,t,this))}return this.then(void 0,t)},F.prototype.reflect=function(){return this._then(r,r,void 0,this,void 0)},F.prototype.then=function(t,e){if(w.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var r=".then() only accepts functions but was passed: "+s.classString(t);arguments.length>1&&(r+=", "+s.classString(e)),this._warn(r)}return this._then(t,e,void 0,void 0,void 0)},F.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},F.prototype.spread=function(t){return"function"!=typeof t?n("expecting a function but got "+s.classString(t)):this.all()._then(t,void 0,void 0,_,void 0)},F.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},F.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new m(this).promise()},F.prototype.error=function(t){return this.caught(s.originatesFromRejection,t)},F.getNewLibraryCopy=t.exports,F.is=function(t){return t instanceof F},F.fromNode=F.fromCallback=function(t){var e=new F(d);e._captureStackTrace();var r=arguments.length>1&&!!Object(arguments[1]).multiArgs,n=O(t)(E(e,r));return n===k&&e._rejectCallback(n.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},F.all=function(t){return new m(t).promise()},F.cast=function(t){var e=y(t);return e instanceof F||((e=new F(d))._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},F.resolve=F.fulfilled=F.cast,F.reject=F.rejected=function(t){var e=new F(d);return e._captureStackTrace(),e._rejectCallback(t,!0),e},F.setScheduler=function(t){if("function"!=typeof t)throw new p("expecting a function but got "+s.classString(t));return l.setScheduler(t)},F.prototype._then=function(t,e,r,n,o){var a=void 0!==o,c=a?o:new F(d),u=this._target(),f=u._bitField;a||(c._propagateFrom(this,3),c._captureStackTrace(),void 0===n&&0!=(2097152&this._bitField)&&(n=0!=(50397184&f)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,c));var p=i();if(0!=(50397184&f)){var _,v,y=u._settlePromiseCtx;0!=(33554432&f)?(v=u._rejectionHandler0,_=t):0!=(16777216&f)?(v=u._fulfillmentHandler0,_=e,u._unsetRejectionIsUnhandled()):(y=u._settlePromiseLateCancellationObserver,v=new h("late cancellation observer"),u._attachExtraTrace(v),_=e),l.invoke(y,u,{handler:null===p?_:"function"==typeof _&&s.domainBind(p,_),promise:c,receiver:n,value:v})}else u._addCallbacks(t,e,c,n,p);return c},F.prototype._length=function(){return 65535&this._bitField},F.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},F.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},F.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},F.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},F.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},F.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},F.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},F.prototype._isFinal=function(){return(4194304&this._bitField)>0},F.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},F.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},F.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},F.prototype._setAsyncGuaranteed=function(){l.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},F.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==a)return void 0===e&&this._isBound()?this._boundValue():e},F.prototype._promiseAt=function(t){return this[4*t-4+2]},F.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},F.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},F.prototype._boundValue=function(){},F.prototype._migrateCallback0=function(t){t._bitField;var e=t._fulfillmentHandler0,r=t._rejectionHandler0,n=t._promise0,o=t._receiverAt(0);void 0===o&&(o=a),this._addCallbacks(e,r,n,o,null)},F.prototype._migrateCallbackAt=function(t,e){var r=t._fulfillmentHandlerAt(e),n=t._rejectionHandlerAt(e),o=t._promiseAt(e),i=t._receiverAt(e);void 0===i&&(i=a),this._addCallbacks(r,n,o,i,null)},F.prototype._addCallbacks=function(t,e,r,n,o){var i=this._length();if(i>=65531&&(i=0,this._setLength(0)),0===i)this._promise0=r,this._receiver0=n,"function"==typeof t&&(this._fulfillmentHandler0=null===o?t:s.domainBind(o,t)),"function"==typeof e&&(this._rejectionHandler0=null===o?e:s.domainBind(o,e));else{var a=4*i-4;this[a+2]=r,this[a+3]=n,"function"==typeof t&&(this[a+0]=null===o?t:s.domainBind(o,t)),"function"==typeof e&&(this[a+1]=null===o?e:s.domainBind(o,e))}return this._setLength(i+1),i},F.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},F.prototype._resolveCallback=function(t,r){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(e(),!1);var n=y(t,this);if(!(n instanceof F))return this._fulfill(t);r&&this._propagateFrom(n,2);var o=n._target();if(o!==this){var i=o._bitField;if(0==(50397184&i)){var a=this._length();a>0&&o._migrateCallback0(this);for(var s=1;s<a;++s)o._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(o)}else if(0!=(33554432&i))this._fulfill(o._value());else if(0!=(16777216&i))this._reject(o._reason());else{var c=new h("late cancellation observer");o._attachExtraTrace(c),this._reject(c)}}else this._reject(e())}},F.prototype._rejectCallback=function(t,e,r){var n=s.ensureErrorObject(t),o=n===t;if(!o&&!r&&w.warnings()){var i="a promise was rejected with a non-error: "+s.classString(t);this._warn(i,!0)}this._attachExtraTrace(n,!!e&&o),this._reject(t)},F.prototype._resolveFromExecutor=function(t){if(t!==d){var e=this;this._captureStackTrace(),this._pushContext();var r=!0,n=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,r)});r=!1,this._popContext(),void 0!==n&&e._rejectCallback(n,!0)}},F.prototype._settlePromiseFromHandler=function(t,e,r,n){var o=n._bitField;if(0==(65536&o)){var i;n._pushContext(),e===_?r&&"number"==typeof r.length?i=O(t).apply(this._boundValue(),r):(i=k).e=new p("cannot .spread() a non-array: "+s.classString(r)):i=O(t).call(e,r);var a=n._popContext();0==(65536&(o=n._bitField))&&(i===v?n._reject(r):i===k?n._rejectCallback(i.e,!1):(w.checkForgottenReturns(i,a,"",n,this),n._resolveCallback(i)))}},F.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},F.prototype._followee=function(){return this._rejectionHandler0},F.prototype._setFollowee=function(t){this._rejectionHandler0=t},F.prototype._settlePromise=function(t,e,n,i){var a=t instanceof F,s=this._bitField,c=0!=(134217728&s);0!=(65536&s)?(a&&t._invokeInternalOnCancel(),n instanceof j&&n.isFinallyHandler()?(n.cancelPromise=t,O(e).call(n,i)===k&&t._reject(k.e)):e===r?t._fulfill(r.call(n)):n instanceof o?n._promiseCancelled(t):a||t instanceof m?t._cancel():n.cancel()):"function"==typeof e?a?(c&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof o?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):a&&(c&&t._setAsyncGuaranteed(),0!=(33554432&s)?t._fulfill(i):t._reject(i))},F.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,r=t.promise,n=t.receiver,o=t.value;"function"==typeof e?r instanceof F?this._settlePromiseFromHandler(e,n,o,r):e.call(n,o,r):r instanceof F&&r._reject(o)},F.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},F.prototype._settlePromise0=function(t,e,r){var n=this._promise0,o=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(n,t,o,e)},F.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},F.prototype._fulfill=function(t){var r=this._bitField;if(!((117506048&r)>>>16)){if(t===this){var n=e();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&r)>0&&(0!=(134217728&r)?this._settlePromises():l.settlePromises(this),this._dereferenceTrace())}},F.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal())return l.fatalError(t,s.isNode);(65535&e)>0?l.settlePromises(this):this._ensurePossibleRejectionHandled()}},F.prototype._fulfillPromises=function(t,e){for(var r=1;r<t;r++){var n=this._fulfillmentHandlerAt(r),o=this._promiseAt(r),i=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(o,n,i,e)}},F.prototype._rejectPromises=function(t,e){for(var r=1;r<t;r++){var n=this._rejectionHandlerAt(r),o=this._promiseAt(r),i=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(o,n,i,e)}},F.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!=(16842752&t)){var r=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,r,t),this._rejectPromises(e,r)}else{var n=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,n,t),this._fulfillPromises(e,n)}this._setLength(0)}this._clearCancellationData()},F.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&c.defineProperty(F.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),F.defer=F.pending=function(){return w.deprecated("Promise.defer","new Promise"),{promise:new F(d),resolve:T,reject:S}},s.notEnumerableProp(F,"_makeSelfResolutionError",e),Ku(F,d,y,n,w),Ju(F,d,y,w),Zu(F,m,n,w),Yu(F),tl(F),el(F,m,y,d,l,i),F.Promise=F,F.version="3.5.5",il(F),al(F,n,d,y,o,w),sl(F,m,n,y,d,w),cl(F),ul(F,d),ll(F,m,y,n),fl(F,d,y,n),pl(F,m,n,y,d,w),hl(F,m,w),dl(F,m,n),_l(F,d,w),vl(F,n,y,b,d,w),yl(F),ml(F,d),gl(F,d),s.toFastProperties(F),s.toFastProperties(F.prototype),P({a:1}),P({b:2}),P({c:3}),P(1),P(function(){}),P(void 0),P(!1),P(new F(d)),w.setBounds(u.firstLineError,s.lastLineError),F}}),wl;function jl(){try{Promise===Cl&&(Promise=wl)}catch(t){}return Cl}"undefined"!=typeof Promise&&(wl=Promise);var Cl=bl();Cl.noConflict=jl;var El=Cl,kl=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t},Ol=Object.prototype.hasOwnProperty,Fl;function Tl(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function Sl(t){for(var e,r=/([^=?&]+)=?([^&]*)/g,n={};e=r.exec(t);){var o=Tl(e[1]),i=Tl(e[2]);null===o||null===i||o in n||(n[o]=i)}return n}function Pl(t,e){e=e||"";var r,n,o=[];for(n in"string"!=typeof e&&(e="?"),t)if(Ol.call(t,n)){if((r=t[n])||null!==r&&r!==Fl&&!isNaN(r)||(r=""),n=encodeURIComponent(n),r=encodeURIComponent(r),null===n||null===r)continue;o.push(n+"="+r)}return o.length?e+o.join("&"):""}var xl=Pl,Rl=Sl,Al={stringify:xl,parse:Rl},Nl=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Ll=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,Il="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",Dl=new RegExp("^"+Il+"+");function Ml(t){return(t||"").toString().replace(Dl,"")}var ql=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Ul={hash:1,query:1};function Vl(t){var e,r=("undefined"!=typeof window?window:void 0!==m?m:"undefined"!=typeof self?self:{}).location||{},n={},o=typeof(t=t||r);if("blob:"===t.protocol)n=new zl(unescape(t.pathname),{});else if("string"===o)for(e in n=new zl(t,{}),Ul)delete n[e];else if("object"===o){for(e in t)e in Ul||(n[e]=t[e]);void 0===n.slashes&&(n.slashes=Nl.test(t.href))}return n}function Hl(t){t=Ml(t);var e=Ll.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function Bl(t,e){if(""===t)return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,o=r[n-1],i=!1,a=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),a++):a&&(0===n&&(i=!0),r.splice(n,1),a--);return i&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}function zl(t,e,r){if(t=Ml(t),!(this instanceof zl))return new zl(t,e,r);var n,o,i,a,s,c,u=ql.slice(),l=typeof e,f=this,p=0;for("object"!==l&&"string"!==l&&(r=e,e=null),r&&"function"!=typeof r&&(r=Al.parse),e=Vl(e),n=!(o=Hl(t||"")).protocol&&!o.slashes,f.slashes=o.slashes||n&&e.slashes,f.protocol=o.protocol||e.protocol||"",t=o.rest,o.slashes||(u[3]=[/(.*)/,"pathname"]);p<u.length;p++)"function"!=typeof(a=u[p])?(i=a[0],c=a[1],i!=i?f[c]=t:"string"==typeof i?~(s=t.indexOf(i))&&("number"==typeof a[2]?(f[c]=t.slice(0,s),t=t.slice(s+a[2])):(f[c]=t.slice(s),t=t.slice(0,s))):(s=i.exec(t))&&(f[c]=s[1],t=t.slice(0,s.index)),f[c]=f[c]||n&&a[3]&&e[c]||"",a[4]&&(f[c]=f[c].toLowerCase())):t=a(t);r&&(f.query=r(f.query)),n&&e.slashes&&"/"!==f.pathname.charAt(0)&&(""!==f.pathname||""!==e.pathname)&&(f.pathname=Bl(f.pathname,e.pathname)),kl(f.port,f.protocol)||(f.host=f.hostname,f.port=""),f.username=f.password="",f.auth&&(a=f.auth.split(":"),f.username=a[0]||"",f.password=a[1]||""),f.origin=f.protocol&&f.host&&"file:"!==f.protocol?f.protocol+"//"+f.host:"null",f.href=f.toString()}function Gl(t,e,r){var n=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(r||Al.parse)(e)),n[t]=e;break;case"port":n[t]=e,kl(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,/:\d+$/.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!r;break;case"pathname":case"hash":if(e){var o="pathname"===t?"/":"#";n[t]=e.charAt(0)!==o?o+e:e}else n[t]=e;break;default:n[t]=e}for(var i=0;i<ql.length;i++){var a=ql[i];a[4]&&(n[a[1]]=n[a[1]].toLowerCase())}return n.origin=n.protocol&&n.host&&"file:"!==n.protocol?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function $l(t){t&&"function"==typeof t||(t=Al.stringify);var e,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var o=n+(r.slashes?"//":"");return r.username&&(o+=r.username,r.password&&(o+=":"+r.password),o+="@"),o+=r.host+r.pathname,(e="object"==typeof r.query?t(r.query):r.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),r.hash&&(o+=r.hash),o}zl.prototype={set:Gl,toString:$l},zl.extractProtocol=Hl,zl.location=Vl,zl.trimLeft=Ml,zl.qs=Al;var Wl=zl,Ql=ci(Object.keys,Object),Xl=Ql,Kl=Object.prototype,Jl=Kl.hasOwnProperty;function Zl(t){if(!hi(t))return Xl(t);var e=[];for(var r in Object(t))Jl.call(t,r)&&"constructor"!=r&&e.push(r);return e}var Yl=Zl;function tf(t){return Ri(t)?Ha(t):Yl(t)}var ef=tf,rf=Object.prototype,nf=rf.hasOwnProperty,of=Os(function(t,e){if(hi(e)||Ri(e))Ra(e,ef(e),t);else for(var r in e)nf.call(e,r)&&Pa(t,r,e[r])}),af=of;function sf(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length?arguments[2]:void 0;if(!r)throw new Error("arguments[2](schema) is not defined!");if(!e||ac(e)&&!e.length)return e;var n={object:function(){cf(t,e,r)},array:function(){uf(t,e,r)}}[lf(ff(e))];"function"==typeof n&&n()}function cf(t,e,r){var n=rt(e),o=r.properties,i=rt(o);return 0>=n.length?t:-1<i.indexOf("any")?n.forEach(function(r){var i=r,a=e[i],s=lf(ff(a));if("object"===s||"array"===s){if(!o.any.properties&&!o.any.items)throw new Error("object array has not sub");return t[r]={},"array"===s&&(t[r]=[]),sf(t[r],a,o.any)}-1<n.indexOf(i)&&(t[r]=a)}):void i.forEach(function(r){var i=o[r].serverName,a=e[i],s=lf(ff(a));if(null===a)return t[r]=a,!0;if(o[r].type!==s)throw new Error("server data [".concat(i,"] type not equal jsonSchema [").concat(r,"] type"));if("object"===s||"array"===s){if(!o[r].properties&&!o[r].items)throw new Error("object array has not sub");return t[r]={},"array"===s&&(t[r]=[]),sf(t[r],a,o[r])}-1<n.indexOf(i)&&(t[r]=a)})}function uf(t,e,r){var n=r.items,o=n.type;e.forEach(function(e,r){var i=lf(ff(e));if(t[r]||("array"===i&&(t[r]=[]),"object"===i&&(t[r]={})),null===e)return t[r]=e,!0;if("none"===i)throw new Error("api key type error");if(o!==i)throw new Error("api key type not match schema key type");return"object"===i||"array"===i?sf(t[r],e,n):void("other"===o&&(t[r]=e))})}function lf(t){var e={object:"object",array:"array",other:"other"}[t];return e||(e=function(t){return!!(-1<["number","string","boolean"].indexOf(t))&&"other"}(t)),e||"none"}function ff(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}var pf=Zt.onFreeze;tt("seal",function(t){return function(e){return t&&D(e)?t(pf(e)):e}});var hf=b.Object.seal,df=hf;tt("getOwnPropertyNames",function(){return be.f});var _f=b.Object,vf=function(t){return _f.getOwnPropertyNames(t)},yf=vf,mf=null,gf=null;function bf(t){return!!t&&("object"==ir(t)||"function"==typeof t)}gf=function(t,e){if(!bf(t)||!bf(e))throw new TypeError("Cannot create proxy with a non-object as target or handler");var r=function(){};mf=function(){r=function(t){throw new TypeError("Cannot perform '".concat(t,"' on a proxy that has been revoked"))}};var n=e;for(var o in e={get:null,set:null,apply:null,construct:null},n){if(!(o in e))throw new TypeError("nProxy polyfill does not support trap '".concat(o,"'"));e[o]=n[o]}"function"==typeof n&&(e.apply=n.apply.bind(n));var i=this,a=!1,s="function"==typeof t;(e.apply||e.construct||s)&&(i=function(){var n=this&&this.constructor===i,o=Array.prototype.slice.call(arguments);if(r(n?"construct":"apply"),n&&e.construct)return e.construct.call(this,t,o);if(!n&&e.apply)return e.apply(t,this,o);if(s){if(n){o.unshift(t);var a=t.bind.apply(t,o);return new a}return t.apply(this,o)}throw new TypeError(n?"not a constructor":"not a function")},a=!0);var c=e.get?function(t){return r("get"),e.get(this,t,i)}:function(t){return r("get"),this[t]},u=e.set?function(t,n){r("set");e.set(this,t,n,i)}:function(t,e){r("set"),this[t]=e},l=yf(t),f={};l.forEach(function(e){if(!(a&&e in i)){var r={enumerable:!!Us(t,e).enumerable,get:c.bind(t,e),set:u.bind(t,e)};it(i,e,r),f[e]=!0}});var p=!0;if(_r?_r(i,fr(t)):i.__proto__?i.__proto__=t.__proto__:p=!1,e.get||!p)for(var h in t)f[h]||it(i,h,{get:c.bind(t,h)});return df(t),df(i),i},gf.revocable=function(t,e){return{proxy:new gf(t,e),revoke:mf}},gf.revocable=gf.revocable;var wf="undefined"==typeof Proxy?gf:Proxy,jf={url:"",method:"get",params:{},data:{},headers:{},timeout:1e3},Cf={aliapp:function(t){return new El(function(e,r){var n=t.data,o=ac(n)?[]:{},i=t.headers,a="";rt(i).forEach(function(t){"content-type"===t.toLowerCase()&&(a=i[t])}),"application/json"===a.toLowerCase()?o=ct(n):rt(n).forEach(function(t){o[t]="object"===n[t].toString().slice(1,7).toLowerCase()?ct(n[t]):n[t]});var s={url:"".concat(t.url).concat(t.qs?"?".concat(t.qs):""),data:o,headers:t.headers,method:t.method,timeout:t.timeout,success:function(t){e({data:t.data,headers:t.headers,status:t.status,statusText:""})},fail:function(t){r(t)}};"GET"===t.method.toUpperCase()&&delete s.data,Ef(t,my.request(s))})},weapp:function(t){return new El(function(e,r){var n=t.data,o=ac(n)?[]:{},i=t.headers,a="";rt(i).forEach(function(t){"content-type"===t.toLowerCase()&&(a=i[t])}),"application/x-www-form-urlencoded"===a.toLowerCase()?rt(n).forEach(function(t){o[t]="object"===n[t].toString().slice(1,7).toLowerCase()?ct(n[t]):n[t]}):o=n;var s={url:"".concat(t.url).concat(t.qs?"?".concat(t.qs):""),data:o,header:t.headers,method:t.method,success:function(t){200!=t.statusCode&&(t.data={retcode:5e3,info:{errCode:t.statusCode,msg:t.data,tip:t.data},data:{}}),e({data:t.data,headers:t.header,status:t.statusCode,statusText:""})},fail:function(t){r(t)},complete:function(){}};"GET"===t.method.toUpperCase()&&delete s.data,Ef(t,wx.request(s))})},swan:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return new El(function(e,r){var n=t.data,o=ac(n)?[]:{},i=t.headers,a="";rt(i).forEach(function(t){"content-type"===t.toLowerCase()&&(a=i[t])}),"application/x-www-form-urlencoded"===a.toLowerCase()?rt(n).forEach(function(t){o[t]="object"===n[t].toString().slice(1,7).toLowerCase()?ct(n[t]):n[t]}):o=n;var s={url:"".concat(t.url).concat(t.qs?"?".concat(t.qs):""),data:o,header:t.headers,method:t.method,success:function(t){200!=t.statusCode&&(t.data={retcode:5e3,info:{errCode:t.statusCode,msg:t.data,tip:t.data},data:{}}),e({data:t.data,headers:t.header,status:t.statusCode,statusText:""})},fail:function(t){r(t)},complete:function(){}};"GET"===t.method.toUpperCase()&&delete s.data,Ef(t,swan.request(s))})})};function Ef(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0;t&&t.getRequestTask&&"function"==typeof t.getRequestTask&&t.getRequestTask(e)}function kf(t){if("function"!=typeof Cf[t.env])throw new Error("http env error!");return Cf[t.env](af(jf,t))}function Of(t,e){var r=rt(t);return Hs&&r.push.apply(r,Hs(t)),e&&(r=r.filter(function(e){return Us(t,e).enumerable})),r}function Ff(t){for(var e,r=1;r<arguments.length;r++)e=null==arguments[r]?{}:arguments[r],r%2?Of(e,!0).forEach(function(r){oc(t,r,e[r])}):Is?xs(t,Is(e)):Of(e).forEach(function(r){it(t,r,Us(e,r))});return t}var Tf={OK:"FE-200",PARAM:"FE-5000",OTHER:"FE-5001",CATCH:"FE-5002"};function Sf(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=t,o=ac(t);return o||(n=rt(t)),r=this||r,n.forEach(function(n){var i,a,s=o?n.name:n,c=o?n:t[n];if(c.name=s,!s)throw new Error("Function name is required!");if(r[s])throw new Error("Duplicate statements in _this: ".concat(s));r[s]=(i=c,Df(a=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};return t.fnName=s,t.openResInterceptor=t.openResInterceptor||e.openResInterceptor,t.resInterceptor=t.resInterceptor||e.resInterceptor,t.resSuccessCallback=t.resSuccessCallback||e.resSuccessCallback,r._before=r._before||e._before,n.url=t.url||n.url,"function"==typeof r._before?r._before(t,n,function(e){Nf((t=Ts(t,e)).data||{},n.params,function(e){o(e,t)})}):void Nf(t.data||{},n.params,function(e){o(e,t)})},JSON.parse(ct(xf(i,e,a))))),c=null}),r}function Pf(t){return/^((http:\/\/)|(https:\/\/)|(:\/\/))/.test(t)||/^(localhost)/.test(t)}function xf(t,e,r){var n={url:"",baseURL:e.baseURL,env:e.env,headers:e.headers,timeout:e.timeout,method:t.method||e.method,model:t.resSchema||{},interval:t.interval||0,retryTimes:t.retryTimes||0,pathname:If(t.apiName),params:Af(t.params),fnName:t.name,signKey:t.signKey,status:"",statusText:""},o=Wl(t.apiName);return n.url=n.baseURL+n.pathname,Pf(t.apiName)&&(n=af(n,{baseURL:o.origin,pathname:If(o.pathname),url:o.href})),rt(n).forEach(function(t){if(r[t])throw new Error("Duplicate statements in proxy Function: ".concat(t));r[t]=n[t]}),Ts({},t,n)}function Rf(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=/\{(.+?)\}/g,n=null;do{(n=r.exec(t))&&1<n.length&&(t=t.replace(n[0],e[n[1]]||""))}while(n);return t}function Af(t){function e(t,e){return{required:!!t.isNeed,method:e.toUpperCase()}}var r={},n=t.get||t.GET||[],o=t.post||t.POST||[];return n.forEach(function(t){r[t.param]=e(t,"GET")}),o.forEach(function(t){r[t.param]=e(t,"POST")}),r}function Nf(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};setTimeout(function(){var n={retcode:"FE-5000",errMsg:"",data:{}},o=[],i={},a={};rt(e).every(function(r){var s=e[r],c=s.method,u=s.required,l=t[r],f=Lf(l,r,u);return f.result?!(void 0!==l&&null!=l&&("GET"===c.toUpperCase()?(i[r]=l,o.push("".concat(r,"=").concat(encodeURIComponent(l)))):a[r]=l,0)):(n.errMsg=f.errMsg,!1)})?(n.retcode=Tf.OK,n.data={qs:o.join("&"),postData:a,getData:i}):n.retcode=Tf.PARAM,r(n)},0)}function Lf(t,e,r){return r&&null==t?{result:!1,errMsg:"param: ".concat(e,". Is Required!")}:{result:!0,errMsg:""}}function If(t){return/^\//.test(t)?t:"/".concat(t)}function Df(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new wf(t,{get:function(t,r){return e[r]},set:function(){throw new Error("The property is readonly!")},apply:function(t,r,n){return new El(function(o,i){var a=e.interval,s=e.retryTimes,c=0;!function n(u){++c,t(u||{},e,function(t,l){var f=t.data;if(e=Ts(e,{headers:l.headers,timeout:l.timeout,fnName:l.fnName}),l.err)return r.emit("cnfapi:res:reject",{fnName:l.fnName,retcode:l.err.retcode,msg:l.err.msg,headers:e.headers}),i({retcode:l.err.retcode,msg:l.err.msg,headers:e.headers});if(t.retcode!==Tf.OK)return r.emit("cnfapi:res:reject",{fnName:l.fnName,retcode:t.retcode,msg:t.errMsg,headers:e.headers}),i({retcode:t.retcode,msg:t.errMsg,headers:e.headers});var p=e.url;l.restful&&(p=Rf(p,l.restful)),r.emit("cnfapi:req:before",{fnName:l.fnName,url:p,timeout:e.timeout,env:e.env,method:e.method,headers:e.headers,data:f.postData,qs:f.qs,params:f.getData,getRequestTask:l.getRequestTask}),kf({url:p,timeout:e.timeout,env:e.env,method:e.method,headers:e.headers,data:f.postData,qs:f.qs,params:f.getData,getRequestTask:l.getRequestTask}).then(function(t){var a=t.data;if(e.status=t.status,e.statusText=t.statusText,"function"==typeof l.openResInterceptor&&l.openResInterceptor.call(e,a)&&c<s+(s?1:2))return l.resInterceptor.call(e,a,function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(t)return r.emit("cnfapi:res:reject",Ff({fnName:l.fnName},t)),i(t);var o=Ts(u.data,e.data),a=Ts(l.headers,e.headers);u.data=o,l.headers=a,n(u)});if("function"==typeof l.resSuccessCallback)return l.resSuccessCallback(a,function(n,a){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:200;return n?(r.emit("cnfapi:res:reject",Ff({fnName:l.fnName},n||qf({retcode:500,headers:t.headers}))),void i(n||qf({retcode:500,headers:t.headers}))):(c=0,Vf(e.model)||(a=Uf(e.model,a)),r.emit("cnfapi:res:resolve",Ff({fnName:l.fnName},Mf({data:a,headers:t.headers,retcode:s}))),o(Mf({data:a,headers:t.headers,retcode:s})))});if(/^2\d/.test(+a.retcode)){c=0;var f=a.data;return Vf(e.model)||(f=Uf(e.model,f)),r.emit("cnfapi:res:resolve",Ff({fnName:l.fnName},Mf({data:f,headers:t.headers,retcode:a.retcode}))),o(Mf({data:f,headers:t.headers,retcode:a.retcode}))}r.emit("cnfapi:res:reject",Ff({fnName:l.fnName},qf({retcode:a.retcode,msg:a.msg,headers:t.headers}))),i(qf({retcode:a.retcode,msg:a.msg,headers:t.headers}))},function(t){return ct(t).toLowerCase().includes("abort")?(r.emit("cnfapi:res:reject",Ff({fnName:l.fnName},qf({retcode:Tf.OTHER,msg:"error"===Hf(t)?t.toString():ct(t)}))),i(qf({retcode:Tf.OTHER,msg:"error"===Hf(t)?t.toString():ct(t)}))):void function(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(){};(function(t,e){return!(isNaN(t)||isNaN(e)||(t=rc(t),e=rc(e),0>=t||0>=e))})(r,e)&&c<=e?setTimeout(function(){n(t>e)},r):n(!0)}(c,s,a,function(e){return e?(c=0,r.emit("cnfapi:res:reject",Ff({fnName:l.fnName},qf({retcode:Tf.OTHER,msg:"error"===Hf(t)?t.toString():ct(t)}))),i(qf({retcode:Tf.OTHER,msg:"error"===Hf(t)?t.toString():ct(t)}))):void n(u)})}).catch(function(t){c=0,r.emit("cnfapi:res:catch",Ff({fnName:l.fnName},qf({retcode:Tf.CATCH,msg:"error"===Hf(t)?t.toString():ct(t)}))),i(qf({retcode:Tf.CATCH,msg:"error"===Hf(t)?t.toString():ct(t)}))})})}(n[0]||{})})}})}function Mf(t){return{data:t.data,headers:t.headers,retcode:t.retcode}}function qf(t){return{retcode:t.retcode||"FE-5001",msg:t.msg||"unknown",headers:t.headers||{}}}function Uf(t,e){var r=ac(e)?[]:{};return sf(r,e,t),r}function Vf(t){return!t||!rt(t).length}function Hf(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function Bf(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}var zf=function(e){function r(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};lt(this,r);var o=(t=ur(this,vr(r).call(this))).getType(n);if("object"!==t.getType(e)||"object"!==o&&"array"!==o)throw new Error("constructor params require Object type");var i=JSON.parse(ct(n));return t.merge=Ts,t.outConf=e,it(sr(t),"apiList",{get:function(){return i}}),t.init(),t}return jr(r,t),ht(r,[{key:"init",value:function(){this.mergeConf(this.initConf,this.outConf),Sf.apply(this,[JSON.parse(ct(this.apiList)),this.defaultOpts])}},{key:"mergeConf",value:function(t,e){var r=this,n={};if("object"!==this.getType(t)||"object"!==this.getType(e))throw new Error("mergeConf argument Not Object");return rt(t).forEach(function(o){var i=t[o],a=null,s=t[o].vaildFn,c="function"==typeof t[o].default&&t[o].default.apply(r)||"";if(i.required&&!c&&!e[o])throw new Error("".concat(i.errMsg));if(n[o]=e[o]||c,"function"==typeof s&&(a=s(n[o])),null!=a&&!a.result)throw new Error("".concat(a.errMsg))}),n}},{key:"openResInterceptor",value:function(){return this.conf.openResInterceptor.apply(this,arguments)}},{key:"_before",value:function(t,e){e(t)}},{key:"getType",value:function(t){return Bf(t)}},{key:"conf",get:function(){return this.mergeConf(this.initConf,this.outConf)}},{key:"initConf",get:function(){return{baseURL:{required:!0,errMsg:"baseURL is required",vaildFn:function(t){return{result:/^((http:\/\/)|(https:\/\/)|(:\/\/))([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,6}(\/)?/.test(t)||/^((http:\/\/)|(https:\/\/)|(:\/\/))(localhost)/.test(t),errMsg:"invalid baseURL"}}},timeout:{required:!0,errMsg:"timeout is required or not 0",default:function(){return 3e3},vaildFn:function(t){return{result:!isNaN(t)&&0!=t,errMsg:"invalid timeout"}}},env:{required:!0,errMsg:"invalid env",default:function(){return"browser"},vaildFn:function(t){var e={result:-1<["browser","aliapp","weapp","swan"].indexOf(t),errMsg:'invalid env, env must in ["browser", "aliapp" ,"weapp", "swan"]'};return("aliapp"===t||"weapp"===t)&&(window=void 0,document=void 0),"browser"===t&&(e={result:window&&document&&"undefined"!=typeof window&&"undefined"!=typeof document,errMsg:'invalid env, env not in browser, env must in ["browser", "aliapp" ,"weapp", "swan"]'}),e}},openResInterceptor:{required:!1,default:function(){return function(){return!1}}},resInterceptor:{required:!1,default:function(){return function(){}}},resSuccessCallback:{required:!1,default:function(){return function(t,e){e(!1,t)}}},resFormat:{description:"æ¥å£è¿åæ ¼å¼",required:!1,default:function(){return{type:"object",properties:{retcode:{type:"string"},msg:{type:"string"},data:{type:"object"}}}}}}}},{key:"defaultOpts",get:function(){return this.merge({method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}},this.outConf,this.conf)}}]),r}();return zf});
//# sourceMappingURL=cnfapi-miniprogram.min.js.map
